{"version":3,"sources":["webpack:///src/pages/call-center/media/AddMedia.vue","webpack:///./src/pages/call-center/media/AddMedia.vue?4e6c","webpack:///./src/pages/call-center/media/AddMedia.vue","webpack:///src/pages/call-center/media/MediaManage.vue","webpack:///./src/pages/call-center/media/MediaManage.vue?de3a","webpack:///./src/pages/call-center/media/MediaManage.vue"],"names":["AddMedia","components","ScrmFormItem","props","info","type","Object","default","String","shopList","Array","mediaOptions","data","dialogVisible","showView","title","media","id","dialogType","mediaTable","type_text","account_name","account_pwd","options","selectId","loading","shopOptions","created","this","$deepCopyContent","length","short_name","computed","btnName","methods","addFn","_this","account","forEach","item","$set","selectChange","util","updateMedia","getParams","arr","i","push","area_id","accounts","_this2","params","$fetch","callCenter","mediaAccountEdit","then","res","$handleResponse","$message","success","$emit","catch","$store","commit","cancel","addCount","getSelectId","checkDisabled","_this3","_this4","$hasArrContent","contrast","val","deleteFn","index","splice","changeArea","_this5","getAccountByArea","media_AddMedia","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","visible","width","append-to-body","close-on-click-modal","before-close","on","update:visible","$event","_e","directives","name","rawName","value","expression","ref","label-width","itemLabel","itemType","itemRequired","itemClass","subClass","placeholder","itemInfo","itemKey","filterable","selectOptions","optionLabel","optionValue","editable","isTransfer","change","_v","slot","icon","round","size","click","cellpadding","cellspacing","border","_l","key","_s","_f","staticStyle","prop","label","align","scopedSlots","_u","fn","scope","class","row","status","font-size","font-weight","staticRenderFns","call_center_media_AddMedia","__webpack_require__","normalizeComponent","ssrContext","MediaManage","SearchBar","SearchCol","DataTable","table","mixins","SearchMixins","showMedia","showType","mediaInfo","initData","queryData","initSearch","initTable","initMediaOptions","search","list","currentVal","isAll","isAllTitle","shop","state","time","mediaAccountOptions","common","commonAreaList","parseInt","dataTable","tr","tooltip","show","minWidth","page","totalCount","pageSize","currentPage","hasSelect","hasExpand","hasFirstPagination","displayCol","parma","_dataTable$page","_search","update_date_start","update_date_end","pre_page","that","mediaAccountList","deleteMedia","$confirm","confirmButtonText","cancelButtonText","customClass","cancelButtonClass","confirmButtonClass","roundButton","mediaAccountDel","view","assign_default","closeMedieFn","media_MediaManage","clear","find","range-separator","start-placeholder","end-placeholder","value-format","searchTable","onHandleSelectionChange","handleSelectionChange","obj","plain","close","MediaManage_Component","MediaManage_normalizeComponent","__webpack_exports__"],"mappings":"oNA8EAA,GACAC,YACAC,eAAA,GAEAC,OACAC,MACAC,KAAAC,OACAC,QAAA,sBAEAF,MACAA,KAAAG,OACAD,QAAA,OAEAE,UACAJ,KAAAK,MACAH,QAAA,sBAEAI,cACAN,KAAAK,MACAH,QAAA,uBAGAK,KAtBA,WAuBA,OACAC,eAAA,EACAC,UAAA,EACAC,MAAA,SACAC,OACAC,GAAA,IAEAC,WAAA,GACAC,aAAAC,UAAA,GAAAf,KAAA,GAAAY,GAAA,GAAAI,aAAA,GAAAC,YAAA,GAAAC,aACAC,YACAC,SAAA,EACAC,iBAGAC,QArCA,WAsCAC,KAAAV,WAAAU,KAAAvB,KACA,OAAAuB,KAAAvB,MACAuB,KAAAb,MAAA,SACAa,KAAAF,YAAAE,KAAAC,iBAAAD,KAAAnB,UACAmB,KAAAF,aAAAE,KAAAF,YAAAI,SACAF,KAAAxB,KAAA,WAAAwB,KAAAF,YAAA,GAAAK,WACAH,KAAAxB,KAAA,OAAAwB,KAAAF,YAAA,GAAAT,IAEAW,KAAAT,WAAA,WAAAS,KAAAC,iBAAAD,KAAAjB,eACA,QAAAiB,KAAAvB,OACAuB,KAAAd,UAAA,EACAc,KAAAb,MAAA,OACAa,KAAAZ,MAAAY,KAAAC,iBAAAD,KAAAxB,QAGA4B,UACAC,QAAA,WACA,aAAAL,KAAAV,WAAA,aAAAU,KAAAV,WAAA,YAGAgB,SACAC,MADA,WACA,IAAAC,EAAAR,KAEA,WAAAA,KAAAV,WAcA,OAbAU,KAAAV,WAAA,OACAU,KAAAd,UAAA,EACAc,KAAAb,MAAA,KACAa,KAAAT,WAAAS,KAAAC,iBAAAD,KAAAZ,MAAAqB,SACAT,KAAAT,WAAAW,SACAF,KAAAT,WAAAmB,QAAA,SAAAC,GACAH,EAAAI,KAAAD,EAAA,UAAAH,EAAAP,iBAAAO,EAAAzB,iBAEAiB,KAAAa,gBAGAb,KAAAF,YAAAE,KAAAC,iBAAAD,KAAAnB,eACAmB,KAAAF,YAAApB,OAAAoC,EAAA,EAAApC,EAAAsB,KAAAxB,MAAA,kBAAAwB,KAAAF,YAAA,eAIAE,KAAAe,eAEAC,UAtBA,WAuBA,IAAAC,KACA,GAAAjB,KAAAT,WAAAW,OACA,QAAAgB,EAAA,EAAAhB,EAAAF,KAAAT,WAAAW,OAAAgB,EAAAhB,EAAAgB,IAaAD,EAAAE,MAAA9B,GAAAW,KAAAT,WAAA2B,GAAA7B,GAAAZ,KAAAuB,KAAAT,WAAA2B,GAAAzC,KAAAgB,aAAAO,KAAAT,WAAA2B,GAAAzB,aAAAC,YAAAM,KAAAT,WAAA2B,GAAAxB,cAOA,OAHA0B,QAAApB,KAAAZ,MAAAC,GACAgC,SAAAJ,IAIAF,YA/CA,WA+CA,IAAAO,EAAAtB,KAEAuB,EAAAvB,KAAAgB,YACAhB,KAAAH,SAAA,EACAG,KAAAwB,OAAAC,WAAAC,iBAAAH,GAAAI,KAAA,SAAAC,GACAN,EAAAzB,SAAA,EACAyB,EAAAO,gBAAAD,EAAA,SAAAA,GACAN,EAAAQ,SAAAC,SAAA,OAAAT,EAAAhC,WAAA,iBACAgC,EAAAU,MAAA,qBACA,KACAC,MAAA,WACAX,EAAAzB,SAAA,EACAyB,EAAAY,OAAAC,OAAA,mBAGAC,OA9DA,WA+DA,WAAApC,KAAAV,WAKA,OAJAU,KAAAV,WAAA,OACAU,KAAAb,MAAA,OACAa,KAAAd,UAAA,OACAc,KAAAZ,MAAAY,KAAAC,iBAAAD,KAAAxB,OAGAwB,KAAAgC,MAAA,mBAEAK,SAxEA,WAyEA,IAAAd,GACA/B,UAAA,GACAf,KAAA,GAAAY,GAAA,GACAI,aAAA,GACAC,YAAA,GACAC,QAAAK,KAAAC,iBAAAD,KAAAjB,eAEAiB,KAAAT,WAAA4B,KAAAI,GACAvB,KAAAa,gBAEAA,aAnFA,WAoFAb,KAAAsC,cACAtC,KAAAuC,iBAEAD,YAvFA,WAuFA,IAAAE,EAAAxC,KACAA,KAAAJ,YACAI,KAAAT,WAAAmB,QAAA,SAAAC,GACAA,EAAAlC,MACA+D,EAAA5C,SAAAuB,KAAAR,EAAAlC,SAIA8D,cA/FA,WA+FA,IAAAE,EAAAzC,KACAA,KAAA0C,eAAA1C,KAAAJ,WAAAI,KAAA0C,eAAA1C,KAAAT,aACAS,KAAAT,WAAAmB,QAAA,SAAAC,GACAA,EAAAhB,SAAAgB,EAAAhB,QAAAO,SACAS,EAAAhB,QAAA8C,EAAAxC,iBAAAwC,EAAA1D,cACA0D,EAAAE,SAAAhC,OAKAgC,SAzGA,SAyGAvD,GACAY,KAAAJ,UAAAI,KAAAJ,SAAAc,QAAA,SAAAC,GACA,QAAAO,EAAA,EAAAA,EAAA9B,EAAAO,QAAAO,OAAAgB,IACA,GAAAP,GAAAvB,EAAAC,IAAAsB,GAAAvB,EAAAO,QAAAuB,GAAA0B,IAAA,CACAxD,EAAAO,QAAAuB,GAAA,YACA,UAKA2B,SAnHA,SAmHAC,GACA9C,KAAAT,WAAAwD,OAAAD,EAAA,GACA9C,KAAAa,gBAEAmC,WAvHA,SAuHA3D,GAAA,IAAA4D,EAAAjD,KACAA,KAAAH,SAAA,EACAG,KAAAwB,OAAAC,WAAAyB,kBAAA7D,OAAAsC,KAAA,SAAAC,GACAqB,EAAApD,SAAA,EACAoD,EAAApB,gBAAAD,EAAA,SAAA5C,GACAiE,EAAA1D,WAAA0D,EAAAP,eAAA1D,QACAiE,EAAA1D,WAAAW,SACA+C,EAAA1D,WAAAmB,QAAA,SAAAC,GACAsC,EAAArC,KAAAD,EAAA,UAAAsC,EAAAhD,iBAAAgD,EAAAlE,iBAEAkE,EAAApC,kBAEA,KACAoB,MAAA,WACAgB,EAAApD,SAAA,OC1QesD,GADEC,OAFjB,WAA0B,IAAAC,EAAArD,KAAasD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,aAAuBE,YAAA,mBAAAC,OAAsCxE,MAAAkE,EAAAlE,MAAAyE,QAAAP,EAAApE,cAAA4E,MAAA,QAAAC,iBAAA,GAAAC,wBAAA,EAAAC,eAAAX,EAAAjB,QAAyI6B,IAAKC,iBAAA,SAAAC,GAAkCd,EAAApE,cAAAkF,MAA2Bd,EAAAnE,SAAs1EmE,EAAAe,KAAt1EZ,EAAA,OAA4Ba,aAAaC,KAAA,UAAAC,QAAA,YAAAC,MAAAnB,EAAA,QAAAoB,WAAA,cAA8EjB,EAAA,WAAgBkB,IAAA,OAAAf,OAAkBgB,cAAA,UAAsBnB,EAAA,kBAAuBG,OAAOiB,UAAA,KAAAC,SAAA,SAAAC,cAAA,EAAAC,UAAA,sBAAAC,SAAA,QAAAC,YAAA,QAAAC,SAAA7B,EAAAjE,MAAA+F,QAAA,KAAAC,YAAA,EAAAC,cAAAhC,EAAAvD,YAAAwF,YAAA,QAAAC,YAAA,KAAAC,SAAA,OAAAnC,EAAA/D,WAAAmG,YAAA,GAAiUxB,IAAKyB,OAAArC,EAAAL,cAAyBK,EAAAsC,GAAA,KAAAnC,EAAA,kBAAmCE,YAAA,WAAAC,OAA8BiB,UAAA,OAAAE,cAAA,EAAAC,UAAA,sBAAAG,eAAwF1B,EAAA,YAAiBoC,KAAA,WAAcpC,EAAA,aAAkBE,YAAA,SAAAC,OAA4BlF,KAAA,UAAAoH,KAAA,eAAAC,MAAA,GAAAC,KAAA,SAAiE9B,IAAK+B,MAAA3C,EAAAhB,YAAsBgB,EAAAsC,GAAA,wBAAAtC,EAAAsC,GAAA,KAAAnC,EAAA,WAA2DkB,IAAA,OAAAf,OAAkBgB,cAAA,UAAsBnB,EAAA,SAAcE,YAAA,eAAAC,OAAkCE,MAAA,OAAAoC,YAAA,IAAAC,YAAA,IAAAC,OAAA,MAAiE9C,EAAA+C,GAAA/C,EAAA,oBAAA1C,EAAAmC,GAA8C,OAAAU,EAAA,MAAgB6C,IAAAvD,EAAAY,YAAA,YAAgCF,EAAA,MAAWE,YAAA,UAAAC,OAA6BE,MAAA,SAAeL,EAAA,kBAAuBG,OAAOiB,UAAA,MAAA9B,EAAA,GAAA+B,SAAA,SAAAC,cAAA,EAAAC,UAAA,sBAAAC,SAAA,gBAAAC,YAAA,QAAAC,SAAAvE,EAAAwE,QAAA,OAAAC,YAAA,EAAAC,cAAA1E,EAAAhB,QAAA2F,YAAA,OAAAC,YAAA,OAAmRtB,IAAKyB,OAAA,SAAAvB,GAA0B,OAAAd,EAAAxC,aAAAF,QAAgC,GAAA0C,EAAAsC,GAAA,KAAAnC,EAAA,MAA2BE,YAAA,UAAAC,OAA6BE,MAAA,SAAeL,EAAA,kBAAuBG,OAAOiB,UAAA,KAAAC,SAAA,QAAAC,cAAA,EAAAC,UAAA,sBAAAC,SAAA,gBAAAC,YAAA,MAAAC,SAAAvE,EAAAwE,QAAA,mBAAmL,GAAA9B,EAAAsC,GAAA,KAAAnC,EAAA,MAA2BE,YAAA,UAAAC,OAA6BE,MAAA,SAAeL,EAAA,kBAAuBG,OAAOiB,UAAA,KAAAC,SAAA,QAAApG,KAAA,WAAAqG,cAAA,EAAAC,UAAA,sBAAAC,SAAA,gBAAAC,YAAA,MAAAC,SAAAvE,EAAAwE,QAAA,kBAAoM,GAAA9B,EAAAsC,GAAA,KAAAnC,EAAA,MAA2BE,YAAA,UAAAC,OAA6BE,MAAA,SAAe,EAAAL,EAAA,KAAkBE,YAAA,gCAAAO,IAAgD+B,MAAA,SAAA7B,GAAyB,OAAAd,EAAAR,SAAAC,OAA6BO,EAAAe,WAAe,SAAAf,EAAAsC,GAAA,KAAAtC,EAAA,SAAAG,EAAA,OAAyDE,YAAA,SAAmBF,EAAA,MAAWE,YAAA,iBAA2BL,EAAAsC,GAAAtC,EAAAiD,GAAAjD,EAAAkD,GAAA,cAAAlD,GAAA7E,KAAA2B,gBAAAkD,EAAAsC,GAAA,KAAAnC,EAAA,YAA0FgD,aAAa3C,MAAA,QAAeF,OAAQ3E,KAAAqE,EAAAjE,MAAAqB,QAAA0F,OAAA,MAAsC3C,EAAA,mBAAwBG,OAAO8C,KAAA,YAAAC,MAAA,KAAAC,MAAA,UAAiDC,YAAAvD,EAAAwD,KAAsBR,IAAA,UAAAS,GAAA,SAAAC,GAAiC,OAAAvD,EAAA,OAAkBE,YAAA,eAAyBF,EAAA,QAAaE,YAAA,MAAAsD,OAAA,GAAAD,EAAAE,IAAAC,OAAA,iBAA6D7D,EAAAsC,GAAA,6BAAAtC,EAAAiD,GAAAS,EAAAE,IAAAzH,WAAA,gCAAgG,sBAAyB6D,EAAAsC,GAAA,KAAAnC,EAAA,mBAAoCG,OAAO8C,KAAA,eAAAC,MAAA,KAAAC,MAAA,YAAqDtD,EAAAsC,GAAA,KAAAnC,EAAA,mBAAoCG,OAAO8C,KAAA,cAAAC,MAAA,KAAAC,MAAA,UAAmDC,YAAAvD,EAAAwD,KAAsBR,IAAA,UAAAS,GAAA,SAAAC,GAAiC,OAAAvD,EAAA,QAAmBgD,aAAaW,YAAA,OAAAC,cAAA,SAAwC/D,EAAAsC,GAAAtC,EAAAiD,GAAAjD,EAAAkD,GAAA,cAAAlD,GAAAkD,GAAA,YAAAlD,CAAA0D,EAAAE,IAAAvH,sBAAwF,uBAAyB,OAAA2D,EAAAe,KAAAf,EAAAsC,GAAA,KAAAnC,EAAA,QAA0CG,OAAOiC,KAAA,UAAgBA,KAAA,WAAepC,EAAA,aAAkBE,YAAA,OAAAC,OAA0BmC,MAAA,GAAAC,KAAA,SAA0B9B,IAAK+B,MAAA3C,EAAAjB,UAAoBiB,EAAAsC,GAAA,SAAAtC,EAAAsC,GAAA,KAAAnC,EAAA,aAA8CE,YAAA,OAAAC,OAA0BmC,MAAA,GAAAC,KAAA,QAAAtH,KAAA,WAA2CwF,IAAK+B,MAAA3C,EAAA9C,SAAmB8C,EAAAsC,GAAA,IAAAtC,EAAAiD,GAAAjD,EAAAhD,aAAA,MAEzhIgH,oBCCjB,IAuBeC,EAvBUC,EAAQ,OAcjCC,CACEpJ,EACA+E,GATF,EAVA,SAAAsE,GACEF,EAAQ,SAaV,kBAEA,MAUgC,oBCoBhCG,GACArJ,YACAsJ,YAAA,EACAC,YAAA,EACAC,UAAAC,EAAA,EACA1J,SAAAkJ,GAEAS,QAAAC,EAAA,GACAhJ,KARA,WASA,OACAiJ,WAAA,EACAC,SAAA,MACAC,eAGApI,QAfA,WAgBAC,KAAAoI,WACApI,KAAAqI,aAEA/H,SACA8H,SADA,WAEApI,KAAAsI,aACAtI,KAAAuI,YACAvI,KAAAwI,oBAEAF,WANA,WAQAtI,KAAAyI,QACAC,OAEAjK,KAAA,SACAiI,MAAA,KACAiC,WAAA,GACAC,OAAA,EACAC,WAAA,KACAxD,iBACAC,YAAA,QACAC,YAAA,OAEA9G,KAAA,SACAiI,MAAA,KACAiC,WAAA,GACAC,OAAA,EACAC,WAAA,KACAxD,iBACAC,YAAA,OACAC,YAAA,QAEA9G,KAAA,SACAiI,MAAA,KACAiC,WAAA,GACAC,OAAA,EACAC,WAAA,KACAxD,iBACAC,YAAA,OACAC,YAAA,QAEA9G,KAAA,aACAiI,MAAA,OACAiC,WAAA,KAGAG,KAAA,EACA1J,MAAA,EACA2J,MAAA,EACAC,KAAA,IAGAR,iBAjDA,WAiDA,IAAAhI,EAAAR,KACAA,KAAAwB,OAAAC,WAAAwH,wBAAAtH,KAAA,SAAAC,GACApB,EAAAqB,gBAAAD,EAAA,SAAAA,GACApB,EAAAiI,OAAAC,KAAAlI,EAAAiI,OAAArJ,OAAAiG,cAAA7E,EAAAkC,eAAAd,EAAAnD,MAAAmD,EAAAnD,QACA+B,EAAAiI,OAAAC,KAAAlI,EAAAiI,OAAAM,OAAA1D,cAAA7E,EAAAkC,eAAAd,EAAAsF,QAAAtF,EAAAsF,YACA,KAGAlH,KAAAwB,OAAA0H,OAAAC,mBAAA,GAAAxH,KAAA,SAAAC,GACApB,EAAAqB,gBAAAD,EAAA,SAAAA,GACApB,EAAAkC,eAAAd,KACAA,EAAAlB,QAAA,SAAAC,KAAAtB,GAAA+J,SAAAzI,EAAAtB,GAAAsB,EAAAtB,GAAA,KACAmB,EAAAiI,OAAAC,KAAAlI,EAAAiI,OAAAK,MAAAzD,cAAAzD,KAEA,MAGA2G,UAlEA,WAmEAvI,KAAAqJ,WACAC,KACAjK,GAAA,IACAqH,MAAA,KACAD,KAAA,aACA8C,SAAA,EACA5C,MAAA,WAEAtH,GAAA,IACAqH,MAAA,KACAD,KAAA,UACA+C,KAAA,WACAD,SAAA,EACA5C,MAAA,WAEAtH,GAAA,IACAqH,MAAA,OACAD,KAAA,cACA8C,SAAA,EACA5C,MAAA,WAEAtH,GAAA,IACAqH,MAAA,KACAD,KAAA,SACA+C,KAAA,WACAC,SAAA,MACA9C,MAAA,WAGA3H,QACA0K,MACAC,WAAA,EACAC,SAAA,GACAC,YAAA,GAEA1D,QAAA,EACA2D,WAAA,EACAC,WAAA,EACAC,oBAAA,EACAvB,QACAjE,MAAA,GACAgF,MAAA,EACA3F,MAAA,MACAoB,YAAA,cACAgF,YAAA,cACAC,OACA7K,GAAA,OAKA2B,UAtHA,WAsHA,IAAAmJ,EACAnK,KAAAqJ,UAAAK,KAAAG,EADAM,EACAN,YAAAD,EADAO,EACAP,SADAQ,EAEApK,KAAAyI,OAAAK,EAFAsB,EAEAtB,KAAA1J,EAFAgL,EAEAhL,MAAA2J,EAFAqB,EAEArB,MAAAC,EAFAoB,EAEApB,KAAAN,EAFA0B,EAEA1B,KAUA,OARAtH,QAAAsH,EAAAI,GAAAH,WACAlK,KAAAiK,EAAAtJ,GAAAuJ,WACAzB,OAAAwB,EAAAK,GAAAJ,WACA0B,kBAAA3B,EAAAM,GAAAL,YAAAD,EAAAM,GAAAL,WAAA,GACA2B,gBAAA5B,EAAAM,GAAAL,YAAAD,EAAAM,GAAAL,WAAA,GACA4B,SAAAX,EACAF,KAAAG,IAIAxB,UApIA,WAoIA,IAAA/G,EAAAtB,KACAwK,EAAAxK,KACAuB,EAAAvB,KAAAgB,YACAhB,KAAAwB,OAAAC,WAAAgJ,iBAAAlJ,GAAAI,KAAA,SAAAC,GACAN,EAAAO,gBAAAD,EAAA,SAAAA,GACA4I,EAAAnB,UAAArK,KAAA4C,EAAA8G,KAAA9G,EAAA8G,QACA8B,EAAAnB,UAAAK,KAAA9H,EAAA8H,KAAA9H,EAAA8H,KAAAc,EAAAnB,UAAAK,OACA,KACAzH,MAAA,WACAX,EAAAY,OAAAC,OAAA,mBAGAuI,YAhJA,SAgJA/J,GAAA,IAAA6B,EAAAxC,KAEAA,KAAA2K,SAAA,oCACAC,kBAAA,KACAC,iBAAA,KACApM,KAAA,UACAqM,YAAA,mCACAC,kBAAA,aACAC,mBAAA,MACAC,aAAA,IACAtJ,KAAA,WACAa,EAAAhB,OAAAC,WAAAyJ,iBAAA7L,GAAAsB,EAAAtB,KAAAsC,KAAA,SAAAC,GACAY,EAAAX,gBAAAD,EAAA,SAAAA,GACAY,EAAAV,SAAAC,QAAA,QACAS,EAAA6F,cACA,KACApG,MAAA,WACAO,EAAAN,OAAAC,OAAA,qBAIA5B,MArKA,WAsKAP,KAAAkI,SAAA,MACAlI,KAAAmI,aACAnI,KAAAiI,WAAA,GAEAkD,KA1KA,SA0KAxK,GACAX,KAAAkI,SAAA,OACAlI,KAAAmI,UAAAiD,OAAAzK,GACAX,KAAAiI,WAAA,GAEAoD,aA/KA,SA+KA5M,GACAuB,KAAAiI,WAAA,EACA,WAAAxJ,GACAuB,KAAAqI,eChPeiD,GADElI,OAFP,WAAgB,IAAAC,EAAArD,KAAasD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,sCAAgDF,EAAA,cAAmBE,YAAA,cAAAC,OAAiCoC,KAAA,UAAgB9B,IAAKsH,MAAAlI,EAAAkI,MAAAC,KAAAnI,EAAAmI,QAAmChI,EAAA,OAAYE,YAAA,gBAA0BF,EAAA,cAAmBG,OAAOnF,KAAA6E,EAAAoF,OAAAC,KAAArF,EAAAoF,OAAAK,MAAA1D,WAAA,MAAyD/B,EAAAsC,GAAA,KAAAnC,EAAA,cAA+BG,OAAOnF,KAAA6E,EAAAoF,OAAAC,KAAArF,EAAAoF,OAAArJ,OAAAgG,WAAA,MAA0D/B,EAAAsC,GAAA,KAAAnC,EAAA,cAA+BG,OAAOnF,KAAA6E,EAAAoF,OAAAC,KAAArF,EAAAoF,OAAAM,UAA0C1F,EAAAsC,GAAA,KAAAnC,EAAA,cAA+BG,OAAOnF,KAAA6E,EAAAoF,OAAAC,KAAArF,EAAAoF,OAAAO,MAAAvK,KAAA,YAAAgN,kBAAA,IAAAC,oBAAA,OAAAC,kBAAA,OAAAC,eAAA,iBAAkK,KAAAvI,EAAAsC,GAAA,KAAAnC,EAAA,OAA8BE,YAAA,SAAmBF,EAAA,aAAkBE,YAAA,SAAAC,OAA4BlF,KAAA,UAAAoH,KAAA,eAAAC,MAAA,GAAAC,KAAA,SAAiE9B,IAAK+B,MAAA3C,EAAA9C,SAAmB8C,EAAAsC,GAAA,YAAAtC,EAAAsC,GAAA,KAAAnC,EAAA,cAAkDkB,IAAA,eAAAf,OAA0BmE,MAAAzE,EAAAgG,WAAsBpF,IAAK4H,YAAAxI,EAAAwI,YAAAC,wBAAAzI,EAAA0I,uBAAkFnF,YAAAvD,EAAAwD,KAAsBR,IAAA,UAAAS,GAAA,SAAAvI,GAAiC,OAAA8E,EAAA+C,GAAA7H,EAAAyN,IAAA/E,IAAA,iBAAAtG,EAAAmC,GAA2D,OAAAU,EAAA,OAAiB6C,IAAAvD,EAAAY,YAAA,eAAmCF,EAAA,QAAaE,YAAA,MAAAsD,OAAA,GAAArG,EAAAuG,OAAA,iBAAwD7D,EAAAsC,GAAA,yBAAAtC,EAAAiD,GAAAjD,EAAAkD,GAAA,cAAAlD,CAAA1C,EAAAnB,YAAA,6BAA6G6G,IAAA,SAAAS,GAAA,SAAAvI,GAAgC,OAAAiF,EAAA,aAAwBE,YAAA,qBAAAC,OAAwCsI,MAAA,GAAAnG,MAAA,GAAAC,KAAA,QAAoC9B,IAAK+B,MAAA,SAAA7B,GAAyB,OAAAd,EAAA8H,KAAA5M,EAAAyN,IAAA/E,SAAiC5D,EAAAsC,GAAA,UAAAtC,EAAAsC,GAAA,KAAAnC,EAAA,aAA+CE,YAAA,oBAAAC,OAAuCsI,MAAA,GAAAnG,MAAA,GAAAC,KAAA,QAAoC9B,IAAK+B,MAAA,SAAA7B,GAAyB,OAAAd,EAAAqH,YAAAnM,EAAAyN,IAAA/E,SAAwC5D,EAAAsC,GAAA,gBAAsB,GAAAtC,EAAAsC,GAAA,KAAAtC,EAAA,UAAAG,EAAA,aAAkDG,OAAOnF,KAAA6E,EAAA8E,UAAA1J,KAAA4E,EAAA6E,SAAArJ,SAAAwE,EAAAoF,OAAAC,KAAArF,EAAAoF,OAAAK,MAAAzD,cAAAtG,aAAAsE,EAAAoF,OAAAC,KAAArF,EAAAoF,OAAArJ,OAAAiG,eAAkKpB,IAAKiI,MAAA7I,EAAAgI,gBAA0BhI,EAAAe,MAAA,IAEnjEiD,oBCEhC,IAcI8E,EAdqB5E,EAAQ,OAcjB6E,CACd1E,EACA4D,GAT6B,EAX/B,SAAoB7D,GAClBF,EAAQ,QACRA,EAAQ,SAaS,kBAEU,MAUd8E,EAAA,QAAAF,EAAiB","file":"static/js/18.883d34dd66ed7b8b29a6.js","sourcesContent":["<template>\r\n    <el-dialog\r\n        :title=\"title\"\r\n        class=\"add-media-dialog\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"870px\"\r\n        append-to-body\r\n        :close-on-click-modal=\"false\"\r\n        :before-close=\"cancel\">\r\n        <!-- 新增/编辑 -->\r\n        <div v-if=\"!showView\" v-loading=\"loading\">\r\n            <el-form ref=\"form\" label-width=\"80px\">\r\n                <scrm-form-item itemLabel=\"门店\" itemType=\"select\" :itemRequired=\"true\" itemClass=\"form_required_after\" subClass=\"w-250\" placeholder=\"请选择门店\"\r\n                    :itemInfo=\"media\"  itemKey=\"id\" :filterable=\"true\"  :selectOptions=\"shopOptions\" :optionLabel=\"'title'\" :optionValue=\"'id'\" \r\n                    :editable=\"dialogType=='add'?true:false\" :isTransfer=\"true\" @change=\"changeArea\"></scrm-form-item>\r\n\r\n                <scrm-form-item itemLabel=\"垂媒账号\" class=\"add-item\" :itemRequired=\"true\" itemClass=\"form_required_after\" :itemInfo=\"{}\">\r\n                    <template slot=\"custom\">\r\n                        <el-button type=\"primary\" icon=\"el-icon-plus\" round size=\"small\"  class=\"m-b-20\" @click=\"addCount\">新增垂媒账号</el-button>\r\n                    </template>\r\n                </scrm-form-item>\r\n            </el-form>\r\n\r\n            <el-form ref=\"form\" label-width=\"80px\">\r\n                <table class=\"custom-table\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\"  border=\"0\">\r\n                    <tr class=\"tr-item\" v-for=\"(item, index) in mediaTable\" :key=\"index\">\r\n                        <td class=\"td-item\" width=\"30%\">\r\n                            <scrm-form-item :itemLabel=\"`垂媒${index+1}`\" itemType=\"select\" :itemRequired=\"true\" itemClass=\"form_required_after\" subClass=\"w-100-percent\" placeholder=\"请选择垂媒\"\r\n                            :itemInfo=\"item\" itemKey=\"type\" :filterable=\"true\"  :selectOptions=\"item.options\" :optionLabel=\"'text'\" :optionValue=\"'val'\" @change=\"selectChange(item)\"></scrm-form-item>\r\n                        </td>\r\n                        <td class=\"td-item\" width=\"30%\">\r\n                            <scrm-form-item itemLabel=\"账号\" itemType=\"input\" :itemRequired=\"true\" itemClass=\"form_required_after\" subClass=\"w-100-percent\" placeholder=\"请输入\"\r\n                            :itemInfo=\"item\" itemKey=\"account_name\"></scrm-form-item>\r\n                        </td>\r\n                        <td class=\"td-item\" width=\"30%\">\r\n                            <scrm-form-item itemLabel=\"密码\" itemType=\"input\" type=\"password\" :itemRequired=\"true\" itemClass=\"form_required_after\" subClass=\"w-100-percent\" placeholder=\"请输入\"\r\n                            :itemInfo=\"item\" itemKey=\"account_pwd\"></scrm-form-item>\r\n                        </td>\r\n                        <td class=\"td-item\" width=\"10%\">\r\n                            <i class=\"el-icon-delete m-l-15 pointer\" v-if=\"index\" @click=\"deleteFn(index)\"></i>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </el-form>\r\n        </div>\r\n\r\n        <!-- 查看详情 -->\r\n        <div v-if=\"showView\" class=\"view\">\r\n            <h3 class=\"title m-b-20\">{{ info.short_name | filterBlank }}</h3>\r\n            \r\n            <el-table :data=\"media.account\" style=\"width: 100%\" border>\r\n                <el-table-column prop=\"type_text\" label=\"垂媒\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <div class=\"media-wrap\">\r\n                            <span class=\"dot\" :class=\"[scope.row.status ==1?'green':'red']\"></span>\r\n                            {{ scope.row.type_text }}\r\n                        </div>\r\n                    </template> \r\n                </el-table-column>\r\n                <el-table-column prop=\"account_name\" label=\"账号\" align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"account_pwd\" label=\"密码\" align=\"center\">\r\n                    <template slot-scope=\"scope\" >\r\n                        <span style=\"font-size:20px;font-weight:700;\">{{ scope.row.account_pwd | changePwd |filterBlank }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n\r\n        <span slot=\"footer\">\r\n            <el-button round size=\"small\" class=\"w-90\" @click=\"cancel\">取 消</el-button>\r\n            <el-button round size=\"small\" class=\"w-90\" @click=\"addFn\" type=\"primary\"> {{ btnName }}</el-button>\r\n        </span>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport ScrmFormItem from '@/components/form/ScrmFormItem'\r\nimport { addArrToOptions } from '@/utils/util' \r\nexport default {\r\n    components: {\r\n        ScrmFormItem\r\n    },\r\n    props: {\r\n        info: { // 传进来行\r\n            type: Object,\r\n            default: ()=>{ return {}}\r\n        },\r\n        type: {\r\n            type: String,\r\n            default: 'add'\r\n        },\r\n        shopList: { // 门店下拉列表\r\n            type: Array,\r\n            default: ()=>{ return []}\r\n        },\r\n        mediaOptions: { // 垂媒下拉列表\r\n            type:Array,\r\n            default: ()=>{return []}\r\n        }\r\n    },\r\n    data(){\r\n        return{\r\n            dialogVisible: true,\r\n            showView: false, // 查看的时候显示， 新增和编辑不显示\r\n            title: '新增垂媒账号',   // 新增垂媒账号   查看详情，  编辑\r\n            media: {\r\n                id: ''\r\n            }, // 页面的元素\r\n            dialogType: '',\r\n            mediaTable: [{'type_text': '', 'type':'', 'id': '', 'account_name': '', 'account_pwd':'','options':[]}],\r\n            selectId: [], // 已经选中了的下拉置灰\r\n            loading: false,\r\n            shopOptions: [], // 下拉列表\r\n        }\r\n    },\r\n    created(){\r\n        this.dialogType = this.type;\r\n        if(this.type == 'add'){\r\n            this.title=\"新增垂媒账号\";\r\n            this.shopOptions = this.$deepCopyContent(this.shopList);\r\n            if(this.shopOptions && this.shopOptions.length){ // 选择第一家门店\r\n                this.info['short_name'] = this.shopOptions[0].short_name;\r\n                this.info['shopId'] = this.shopOptions[0].id;\r\n            }\r\n            this.mediaTable[0]['options'] = this.$deepCopyContent(this.mediaOptions);\r\n        }else if(this.type == 'view'){\r\n            this.showView = true;\r\n            this.title = '查看详情';\r\n            this.media = this.$deepCopyContent(this.info);\r\n        }\r\n    },\r\n    computed:{\r\n        btnName:function(){\r\n            return this.dialogType=='add'?'确定':this.dialogType=='view'?'编辑':'保存'\r\n        }\r\n    },\r\n    methods: {\r\n        addFn(){\r\n            // 校验和新增的门店搜索没做\r\n            if(this.dialogType == \"view\"){\r\n                this.dialogType = 'edit';\r\n                this.showView = false;\r\n                this.title = '编辑';\r\n                this.mediaTable = this.$deepCopyContent(this.media.account);\r\n                if(this.mediaTable.length){\r\n                    this.mediaTable.forEach((item)=>{\r\n                        this.$set(item, 'options', this.$deepCopyContent(this.mediaOptions))\r\n                    })\r\n                    this.selectChange();\r\n                }\r\n                \r\n                this.shopOptions = this.$deepCopyContent(this.shopList); \r\n                this.shopOptions = addArrToOptions([this.info],'id', 'short_name', this.shopOptions,'id','title'); // 下拉框增加已删除的值\r\n                return;\r\n            }\r\n            // 没有新增接口，共用编辑接口 \r\n            this.updateMedia();\r\n        },\r\n        getParams(){\r\n            let arr = [];\r\n            if(this.mediaTable.length){\r\n                for(let i=0, length=this.mediaTable.length; i<length; i++){\r\n                    // if(!this.mediaTable[i].type){\r\n                    //     this.$message.error(`请选择垂媒${i+1}的类型`)\r\n                    //     return false\r\n                    // }\r\n                    // if(!this.mediaTable[i].account_name){\r\n                    //     this.$message.error(`请输入垂媒${i+1}的账号`)\r\n                    //     return false\r\n                    // }\r\n                    // if(!this.mediaTable[i].account_pwd){\r\n                    //     this.$message.error(`请输入垂媒${i+1}的密码`)\r\n                    //     return false\r\n                    // }\r\n                    arr.push({'id':this.mediaTable[i].id, 'type': this.mediaTable[i].type, 'account_name': this.mediaTable[i].account_name, 'account_pwd': this.mediaTable[i].account_pwd})\r\n                }\r\n            }\r\n            let params = {\r\n                area_id: this.media.id,      // 门店id\r\n                accounts: arr,        // 垂媒账号类型 1懂车帝 2太平洋 3易车 4汽车之家'\r\n            }\r\n            return params;\r\n        },\r\n        updateMedia(){\r\n            let that = this;\r\n            let params = this.getParams();\r\n            this.loading=true;\r\n            this.$fetch.callCenter.mediaAccountEdit(params).then((res)=>{\r\n                this.loading=false;\r\n                this.$handleResponse(res, res=>{\r\n                    this.$message.success(`${this.dialogType == \"add\"?'新增':'编辑'}成功`);\r\n                    this.$emit('close', 'success')\r\n                },true);\r\n            }).catch(()=>{\r\n                this.loading=false;\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        cancel(){\r\n            if(this.dialogType == 'edit'){\r\n                this.dialogType = 'view';\r\n                this.title = '查看详情';\r\n                this.showView = true;\r\n                this.media = this.$deepCopyContent(this.info);\r\n                return;\r\n            }\r\n            this.$emit('close', 'cancel')\r\n        },\r\n        addCount(){\r\n            let params = {\r\n                'type_text': '', \r\n                'type':'', 'id': '', \r\n                'account_name': '', \r\n                'account_pwd':'', \r\n                'options': this.$deepCopyContent(this.mediaOptions)\r\n            };\r\n            this.mediaTable.push(params);\r\n            this.selectChange();\r\n        },\r\n        selectChange(){\r\n            this.getSelectId();\r\n            this.checkDisabled();\r\n        },\r\n        getSelectId(){\r\n            this.selectId = [];\r\n            this.mediaTable.forEach((item)=>{\r\n                if(item.type){\r\n                    this.selectId.push(item.type)\r\n                }\r\n            })\r\n        },\r\n        checkDisabled(){\r\n            if(this.$hasArrContent(this.selectId) && this.$hasArrContent(this.mediaTable)){ // 判断selectId 和mediaTable数组长度都存在\r\n                this.mediaTable.forEach((item)=>{\r\n                    if(item.options && item.options.length){\r\n                        item.options = this.$deepCopyContent(this.mediaOptions); // 重新置空之前下拉选项\r\n                        this.contrast(item);\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        contrast(media){\r\n            this.selectId && this.selectId.forEach((item)=>{\r\n                for(let i=0; i< media.options.length; i++){\r\n                    if(item != media.id && item == media.options[i].val){\r\n                        media.options[i]['disabled'] = true;\r\n                        break;\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        deleteFn(index){\r\n            this.mediaTable.splice(index, 1);\r\n            this.selectChange(); // 获取最新的不点点击事件\r\n        },\r\n        changeArea(id){\r\n            this.loading=true;\r\n            this.$fetch.callCenter.getAccountByArea({'id':id}).then((res)=>{\r\n                this.loading=false;\r\n                this.$handleResponse(res, (data)=>{\r\n                    this.mediaTable = this.$hasArrContent(data)?data:[];\r\n                    if(this.mediaTable.length){\r\n                        this.mediaTable.forEach((item)=>{\r\n                            this.$set(item, 'options', this.$deepCopyContent(this.mediaOptions))\r\n                        })\r\n                        this.selectChange();\r\n                    }\r\n                },false)                \r\n            }).catch(()=>{\r\n                this.loading=false;\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.add-media-dialog /deep/.el-dialog__body {\r\n    margin-top: 8px;\r\n    padding: 25px 30px 33px;\r\n    min-height: 250px;\r\n}\r\n\r\n.add-media-dialog /deep/.el-dialog__footer {\r\n    padding: 10px 0 30px;\r\n}\r\n\r\n.el-form-item {\r\n    margin-bottom: 15px;\r\n}\r\n.el-form-item.add-item{\r\n    margin-bottom: 0;\r\n}\r\n.el-form-item /deep/.el-form-item__label{\r\n    padding-right: 20px;\r\n}\r\n\r\n.view .title {\r\n    // font-family: PingFang-SC-Bold;\r\n\tfont-size: 18px;\r\n    color: #444;\r\n}\r\n\r\n.media-wrap {\r\n    display:inline-block;\r\n    margin-right: 15px;\r\n}\r\n.dot {\r\n    display: inline-block;\r\n    width: 10px;\r\n    height: 10px;\r\n    border: 1px solid #eee;\r\n    border-radius: 50%;\r\n}\r\n.red {\r\n    background-color: #ea5a54;\r\n}\r\n.green {\r\n    background-color: #34b572;\r\n}\r\n\r\n.custom-table {\r\n    border-left: 1px solid #EBEEF5;\r\n    border-bottom: 1px solid #EBEEF5;\r\n}\r\n.custom-table .tr-item {\r\n    height: 75px;\r\n    line-height: 75px;\r\n} \r\n\r\n.custom-table .td-item {\r\n    border-right: 1px solid #EBEEF5;\r\n    border-top: 1px solid #EBEEF5;\r\n    padding: 0 20px 0 0;\r\n} \r\n\r\n.custom-table .tr-item .el-form-item {\r\n    margin-bottom: 0;\r\n}\r\n.el-icon-delete {\r\n    color: #3d7eff;\r\n    font-size: 20px;\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/call-center/media/AddMedia.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"add-media-dialog\",attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"870px\",\"append-to-body\":\"\",\"close-on-click-modal\":false,\"before-close\":_vm.cancel},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[(!_vm.showView)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"80px\"}},[_c('scrm-form-item',{attrs:{\"itemLabel\":\"门店\",\"itemType\":\"select\",\"itemRequired\":true,\"itemClass\":\"form_required_after\",\"subClass\":\"w-250\",\"placeholder\":\"请选择门店\",\"itemInfo\":_vm.media,\"itemKey\":\"id\",\"filterable\":true,\"selectOptions\":_vm.shopOptions,\"optionLabel\":'title',\"optionValue\":'id',\"editable\":_vm.dialogType=='add'?true:false,\"isTransfer\":true},on:{\"change\":_vm.changeArea}}),_vm._v(\" \"),_c('scrm-form-item',{staticClass:\"add-item\",attrs:{\"itemLabel\":\"垂媒账号\",\"itemRequired\":true,\"itemClass\":\"form_required_after\",\"itemInfo\":{}}},[_c('template',{slot:\"custom\"},[_c('el-button',{staticClass:\"m-b-20\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.addCount}},[_vm._v(\"新增垂媒账号\")])],1)],2)],1),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"80px\"}},[_c('table',{staticClass:\"custom-table\",attrs:{\"width\":\"100%\",\"cellpadding\":\"0\",\"cellspacing\":\"0\",\"border\":\"0\"}},_vm._l((_vm.mediaTable),function(item,index){return _c('tr',{key:index,staticClass:\"tr-item\"},[_c('td',{staticClass:\"td-item\",attrs:{\"width\":\"30%\"}},[_c('scrm-form-item',{attrs:{\"itemLabel\":(\"垂媒\" + (index+1)),\"itemType\":\"select\",\"itemRequired\":true,\"itemClass\":\"form_required_after\",\"subClass\":\"w-100-percent\",\"placeholder\":\"请选择垂媒\",\"itemInfo\":item,\"itemKey\":\"type\",\"filterable\":true,\"selectOptions\":item.options,\"optionLabel\":'text',\"optionValue\":'val'},on:{\"change\":function($event){return _vm.selectChange(item)}}})],1),_vm._v(\" \"),_c('td',{staticClass:\"td-item\",attrs:{\"width\":\"30%\"}},[_c('scrm-form-item',{attrs:{\"itemLabel\":\"账号\",\"itemType\":\"input\",\"itemRequired\":true,\"itemClass\":\"form_required_after\",\"subClass\":\"w-100-percent\",\"placeholder\":\"请输入\",\"itemInfo\":item,\"itemKey\":\"account_name\"}})],1),_vm._v(\" \"),_c('td',{staticClass:\"td-item\",attrs:{\"width\":\"30%\"}},[_c('scrm-form-item',{attrs:{\"itemLabel\":\"密码\",\"itemType\":\"input\",\"type\":\"password\",\"itemRequired\":true,\"itemClass\":\"form_required_after\",\"subClass\":\"w-100-percent\",\"placeholder\":\"请输入\",\"itemInfo\":item,\"itemKey\":\"account_pwd\"}})],1),_vm._v(\" \"),_c('td',{staticClass:\"td-item\",attrs:{\"width\":\"10%\"}},[(index)?_c('i',{staticClass:\"el-icon-delete m-l-15 pointer\",on:{\"click\":function($event){return _vm.deleteFn(index)}}}):_vm._e()])])}),0)])],1):_vm._e(),_vm._v(\" \"),(_vm.showView)?_c('div',{staticClass:\"view\"},[_c('h3',{staticClass:\"title m-b-20\"},[_vm._v(_vm._s(_vm._f(\"filterBlank\")(_vm.info.short_name)))]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.media.account,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"type_text\",\"label\":\"垂媒\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"media-wrap\"},[_c('span',{staticClass:\"dot\",class:[scope.row.status ==1?'green':'red']}),_vm._v(\"\\n                        \"+_vm._s(scope.row.type_text)+\"\\n                    \")])]}}],null,false,1505534498)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"account_name\",\"label\":\"账号\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"account_pwd\",\"label\":\"密码\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"font-size\":\"20px\",\"font-weight\":\"700\"}},[_vm._v(_vm._s(_vm._f(\"filterBlank\")(_vm._f(\"changePwd\")(scope.row.account_pwd))))])]}}],null,false,1919784761)})],1)],1):_vm._e(),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"w-90\",attrs:{\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"w-90\",attrs:{\"round\":\"\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.addFn}},[_vm._v(\" \"+_vm._s(_vm.btnName))])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3b019ba4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/call-center/media/AddMedia.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3b019ba4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddMedia.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddMedia.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddMedia.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3b019ba4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddMedia.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3b019ba4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/call-center/media/AddMedia.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"media-manage-page m-20 common-box\">\r\n        <search-bar size=\"medium\" class=\"m-t-10 p-20\" @clear=\"clear\" @find=\"find\">\r\n            <div class=\"search-flex\">\r\n                <!-- search-col通过search.key来判断是哪个选项；search-col用for循环，需要自定义的可以通过 search.key == index 来确定自定义的那一列，如<search-col><div slot=\"custom\" v-if=\"search.key==index\"></div></search-col>-->\r\n                <search-col :info=\"search.list[search.shop]\" filterable></search-col>\r\n                <search-col :info=\"search.list[search.media]\" filterable></search-col>\r\n                <search-col :info=\"search.list[search.state]\"></search-col>\r\n                <search-col :info=\"search.list[search.time]\" type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" value-format=\"yyyy-MM-dd\"></search-col>\r\n            </div>\r\n        </search-bar>\r\n\r\n        <div class=\"p-20\">\r\n            <el-button type=\"primary\" icon=\"el-icon-plus\" round size=\"small\" @click=\"addFn\" class=\"m-b-20\">新增垂媒账号</el-button>\r\n            <data-table ref=\"DataTableRef\" :table=\"dataTable\" @searchTable='searchTable' @onHandleSelectionChange=\"handleSelectionChange\"> \r\n                <template slot-scope=\"props\" slot=\"account\">\r\n                    <div class=\"media-wrap\" v-for=\"(item, index) in props.obj.row.account\" :key=\"index\">\r\n                        <span class=\"dot\" :class=\"[item.status ==1?'green':'red']\"></span>\r\n                        {{ item.type_text | filterBlank }}\r\n                    </div>\r\n                </template> \r\n\r\n                <template slot-scope=\"props\" slot=\"caozuo\">\r\n                    <el-button class=\"blue_font_white_bg\" plain round size=\"mini\" @click=\"view(props.obj.row)\">查看详情</el-button>\r\n                    <el-button class=\"red_font_white_bg\"  plain round size=\"mini\" @click=\"deleteMedia(props.obj.row)\">删除</el-button>\r\n                </template> \r\n            </data-table>\r\n        </div>\r\n\r\n        <add-media \r\n            v-if=\"showMedia\" \r\n            :info=\"mediaInfo\" \r\n            :type=\"showType\" \r\n            :shopList=\"search.list[search.shop].selectOptions\" \r\n            :mediaOptions=\"search.list[search.media].selectOptions\"\r\n            @close=\"closeMedieFn\">\r\n        </add-media>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchBar from '@/components/SearchBar';\r\nimport SearchCol from '@/components/form/SearchCol';\r\nimport DataTable from \"@/components/dataTable/table\";\r\nimport AddMedia  from './AddMedia'\r\nimport SearchMixins from '@/pages/mixins/SearchMixins'\r\nexport default {\r\n    components: {\r\n        SearchBar,\r\n        SearchCol,\r\n        DataTable,\r\n        AddMedia\r\n    },\r\n    mixins: [SearchMixins],\r\n    data(){\r\n        return{\r\n            showMedia: false, // 新增弹窗\r\n            showType: 'add',\r\n            mediaInfo: {},\r\n        }\r\n    },\r\n    created(){\r\n        this.initData();\r\n        this.queryData();\r\n    },\r\n    methods: {\r\n        initData(){\r\n            this.initSearch(); // 初始化搜索列\r\n            this.initTable();\r\n            this.initMediaOptions();\r\n        },\r\n        initSearch(){\r\n            // 使用key防止在数组中间插入一列后，只要改变key的下标值就可以\r\n            this.search = { \r\n                list: [\r\n                    {\r\n                        type: 'select', \r\n                        label: '门店', \r\n                        currentVal: '', \r\n                        isAll:true,\r\n                        isAllTitle: '全部',\r\n                        selectOptions:[], \r\n                        optionLabel:'title', \r\n                        optionValue:\"id\", \r\n                    },{\r\n                        type: 'select', \r\n                        label: '垂媒', \r\n                        currentVal: '', \r\n                        isAll:true,\r\n                        isAllTitle: '全部',\r\n                        selectOptions:[], \r\n                        optionLabel:'text', \r\n                        optionValue:\"val\", \r\n                    },{\r\n                        type: 'select', \r\n                        label: '状态', \r\n                        currentVal: '',\r\n                        isAll:true,\r\n                        isAllTitle: '全部', \r\n                        selectOptions:[], \r\n                        optionLabel:'text', \r\n                        optionValue:\"val\", \r\n                    },{\r\n                        type: 'datePicker', \r\n                        label: '更新时间', \r\n                        currentVal: '', \r\n                    }\r\n                ],\r\n                shop: 0, // 任务名称\r\n                media: 1, // 任务内容\r\n                state: 2, // 状态\r\n                time: 3, // 任务技术时间\r\n            }\r\n        },\r\n        initMediaOptions(){\r\n            this.$fetch.callCenter.mediaAccountOptions({}).then((res)=>{\r\n                this.$handleResponse(res, res=>{\r\n                    this.search.list[this.search.media].selectOptions = this.$hasArrContent(res.type)?res.type:[];\r\n                    this.search.list[this.search.state].selectOptions = this.$hasArrContent(res.status)?res.status:[];\r\n                }, false);\r\n            })\r\n\r\n            this.$fetch.common.commonAreaList({},false).then((res)=>{\r\n                this.$handleResponse(res, res=>{\r\n                    if(this.$hasArrContent(res)){\r\n                        res.forEach((item)=>{ item.id = parseInt(item.id?item.id:0)}); // 把字符串改为数字\r\n                        this.search.list[this.search.shop].selectOptions =res;\r\n                    }\r\n                }, false);\r\n            })\r\n        },\r\n        initTable(){\r\n            this.dataTable = {\r\n                tr: [{\r\n                      id: '1',\r\n                      label: '门店',\r\n                      prop: 'short_name',\r\n                      tooltip:true,\r\n                      align: 'center'\r\n                    },{\r\n                      id: '2',\r\n                      label: '垂媒',\r\n                      prop: 'account',\r\n                      show:'template',\r\n                      tooltip:true,\r\n                      align: 'center'\r\n                    },{\r\n                      id: '3',\r\n                      label: '更新时间',\r\n                      prop: 'last_update',\r\n                      tooltip: true,\r\n                      align: 'center'\r\n                    },{\r\n                      id: '4',\r\n                      label: '操作',\r\n                      prop: 'caozuo',\r\n                      show:'template',\r\n                      minWidth: '130',\r\n                      align: 'center'\r\n                    },\r\n                ],\r\n                data: [],\r\n                page: {\r\n                    totalCount: 0,\r\n                    pageSize: 20,\r\n                    currentPage: 1\r\n                },\r\n                border: true, // 是否带边框\r\n                hasSelect: false, //是否有复选框\r\n                hasExpand: false, //是否有收缩功能\r\n                hasFirstPagination: false, //是否有第一条分页条\r\n                search: {\r\n                    value:'',\r\n                    show: false,\r\n                    width: \"300\", //快捷搜索输入框宽度\r\n                    placeholder: \"请输入手机号、客户微信\", //快捷搜索输入框提示文字\r\n                    displayCol: [\"name\",\"tel\"], //弹出需要显示的列\r\n                    parma: {\r\n                      id: \"\"\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        getParams(){\r\n            const { currentPage, pageSize } = this.dataTable.page;\r\n            const { shop, media, state, time,  list } = this.search;\r\n            let params = {\r\n                area_id: list[shop].currentVal,      // 门店id\r\n                type: list[media].currentVal,        // 垂媒账号类型 1懂车帝 2太平洋 3易车 4汽车之家'\r\n                status: list[state].currentVal,      // 账号状态 0异常，1正常\r\n                update_date_start: list[time].currentVal && list[time].currentVal[0], // 线索获取开始时间\r\n                update_date_end: list[time].currentVal && list[time].currentVal[1],  // 线索获取结束时间\r\n                pre_page: pageSize,     // 每页数量\r\n                page: currentPage,          // 当前页\r\n            }\r\n            return params;\r\n        },\r\n        queryData(){\r\n            let that = this;\r\n            let params = this.getParams();\r\n            this.$fetch.callCenter.mediaAccountList(params).then((res)=>{\r\n                this.$handleResponse(res, res=>{\r\n                    that.dataTable.data = res.list?res.list:[]; //表格所需数据\r\n                    that.dataTable.page = res.page?res.page:that.dataTable.page; //表格所需页面\r\n                },true);\r\n            }).catch(()=>{\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        deleteMedia(item){\r\n            let that = this;\r\n            this.$confirm(\"删除账号后，垂媒的线索无法同步至系统,是否确定要删除?\", \"提示\", {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"warning\",\r\n                customClass: \"needCenterStyle mediaDeleteWidth\",\r\n                cancelButtonClass: \"big cancel\",\r\n                confirmButtonClass: \"big\",\r\n                roundButton: true,\r\n            }).then(() => {\r\n                this.$fetch.callCenter.mediaAccountDel({'id': item.id}).then((res)=>{\r\n                    this.$handleResponse(res, res=>{\r\n                        this.$message.success('删除成功');\r\n                        this.queryData();\r\n                    },true);\r\n                }).catch(()=>{\r\n                    this.$store.commit('closeLoading');\r\n                })\r\n            })\r\n        },\r\n        addFn(){\r\n            this.showType = 'add';\r\n            this.mediaInfo = {};\r\n            this.showMedia = true;\r\n        },\r\n        view(item){\r\n            this.showType = 'view';\r\n            this.mediaInfo = Object.assign({},item);\r\n            this.showMedia = true;\r\n        },\r\n        closeMedieFn(type){\r\n            this.showMedia = false;\r\n            if(type == 'success'){\r\n                this.queryData();\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.media-wrap {\r\n    display:inline-block;\r\n    margin-right: 15px;\r\n}\r\n.dot {\r\n    display: inline-block;\r\n    width: 10px;\r\n    height: 10px;\r\n    border: 1px solid #eee;\r\n    border-radius: 50%;\r\n}\r\n.red {\r\n    background-color: #ea5a54;\r\n}\r\n.green {\r\n    background-color: #34b572;\r\n}\r\n\r\n\r\n</style>\r\n<style>\r\n.mediaDeleteWidth.needCenterStyle .el-message-box__status+.el-message-box__message {\r\n    width: 260px;\r\n    margin: 0 auto;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/call-center/media/MediaManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"media-manage-page m-20 common-box\"},[_c('search-bar',{staticClass:\"m-t-10 p-20\",attrs:{\"size\":\"medium\"},on:{\"clear\":_vm.clear,\"find\":_vm.find}},[_c('div',{staticClass:\"search-flex\"},[_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.shop],\"filterable\":\"\"}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.media],\"filterable\":\"\"}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.state]}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.time],\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"p-20\"},[_c('el-button',{staticClass:\"m-b-20\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.addFn}},[_vm._v(\"新增垂媒账号\")]),_vm._v(\" \"),_c('data-table',{ref:\"DataTableRef\",attrs:{\"table\":_vm.dataTable},on:{\"searchTable\":_vm.searchTable,\"onHandleSelectionChange\":_vm.handleSelectionChange},scopedSlots:_vm._u([{key:\"account\",fn:function(props){return _vm._l((props.obj.row.account),function(item,index){return _c('div',{key:index,staticClass:\"media-wrap\"},[_c('span',{staticClass:\"dot\",class:[item.status ==1?'green':'red']}),_vm._v(\"\\n                    \"+_vm._s(_vm._f(\"filterBlank\")(item.type_text))+\"\\n                \")])})}},{key:\"caozuo\",fn:function(props){return [_c('el-button',{staticClass:\"blue_font_white_bg\",attrs:{\"plain\":\"\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.view(props.obj.row)}}},[_vm._v(\"查看详情\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"red_font_white_bg\",attrs:{\"plain\":\"\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteMedia(props.obj.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),(_vm.showMedia)?_c('add-media',{attrs:{\"info\":_vm.mediaInfo,\"type\":_vm.showType,\"shopList\":_vm.search.list[_vm.search.shop].selectOptions,\"mediaOptions\":_vm.search.list[_vm.search.media].selectOptions},on:{\"close\":_vm.closeMedieFn}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2ce9d880\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/call-center/media/MediaManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2ce9d880\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MediaManage.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2ce9d880\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./MediaManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediaManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediaManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2ce9d880\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MediaManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2ce9d880\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/call-center/media/MediaManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}