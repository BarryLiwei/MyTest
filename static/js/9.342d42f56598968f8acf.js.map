{"version":3,"sources":["webpack:///src/pages/setting/org/components/LeftTree.vue","webpack:///./src/pages/setting/org/components/LeftTree.vue?e7e3","webpack:///./src/pages/setting/org/components/LeftTree.vue","webpack:///src/pages/setting/org/components/ManageShop.vue","webpack:///./src/pages/setting/org/components/ManageShop.vue?2048","webpack:///./src/pages/setting/org/components/ManageShop.vue","webpack:///src/pages/setting/org/components/AddManagePeople.vue","webpack:///./src/pages/setting/org/components/AddManagePeople.vue?36ef","webpack:///./src/pages/setting/org/components/AddManagePeople.vue","webpack:///src/pages/setting/org/components/ManagePeople.vue","webpack:///./src/pages/setting/org/components/ManagePeople.vue?6572","webpack:///./src/pages/setting/org/components/ManagePeople.vue","webpack:///src/pages/setting/org/components/RightContent.vue","webpack:///./src/pages/setting/org/components/RightContent.vue?36b8","webpack:///./src/pages/setting/org/components/RightContent.vue","webpack:///src/pages/setting/org/OrgStructure.vue","webpack:///./src/pages/setting/org/OrgStructure.vue?4c1c","webpack:///./src/pages/setting/org/OrgStructure.vue"],"names":["components_LeftTree","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","placeholder","model","value","callback","$$v","filterText","trim","expression","_v","placement","slot","on","click","$event","handleOrg","id","name","ref","data","orgData","props","defaultProps","default-expanded-keys","expandKeys","node-key","expand-on-click-node","filter-node-method","filterNode","icon-class","node-expand","nodeExpandFn","node-collapse","nodeCollapseFn","node-click","handleNodeClick","scopedSlots","_u","key","fn","node","title","label","_s","deleteOrg","staticRenderFns","org_components_LeftTree","__webpack_require__","normalizeComponent","children","created","queryData","watch","val","$refs","orgTree","filter","methods","data2","$eventHub","$emit","toLowerCase","indexOf","_this","that","$fetch","setting","queryOrgList","then","res","$handleResponse","orgStruct","$hasArrContent","$store","commit","catch","type","queryDate","parentId","parentName","isObj","$isObj","parent","pid","$router","push","path","query","_this2","$confirm","confirmButtonText","cancelButtonText","customClass","cancelButtonClass","confirmButtonClass","roundButton","orgDeleteFn","_this3","orgDelete","$message","success","item","ssrContext","ManageShop","currentOrg","Object","default","components","SearchCol","DataTable","table","mixins","SearchMixins","initData","initTable","initSearch","search","list","currentVal","dataTable","tr","prop","align","tooltip","page","totalCount","pageSize","currentPage","border","hasSelect","hasExpand","hasFirstPagination","showScrollBar","lastPageLayout","hasOperation","operation","getParams","_dataTable$page","_search","orgId","expand","params","queryAreasList","forEach","brands","arr","sub","$set","join","response","components_ManageShop","info","leftCol","rightCol","round","icon","size","find","plain","clear","tableId","searchTable","org_components_ManageShop","ManageShop_normalizeComponent","AddManagePeople","config","ScrmFormItem","dialogVisible","adminId","account","roleId","userOptions","roleOptions","isLoading","_config$data","orgRole","userObj","getAdminsList","computed","userDisabled","getAdmins","params1","org","pagination","promise_default","a","all","queryAccountList","filterRoleKey","bindIds","length","admins","filterAdmins","roles","role_key","err","_info","error","addManager","createFn","updateFn","adminCreate","_this4","adminUpdate","cancel","changeUser","components_AddManagePeople","visible","width","appentToBody","close-on-click-modal","before-close","update:visible","directives","rawName","label-width","itemLabel","itemType","itemRequired","itemClass","subClass","itemInfo","itemKey","filterable","selectOptions","optionLabel","optionValue","disabled","change","org_components_AddManagePeople","AddManagePeople_normalizeComponent","ManagePeople","showAdd","rowConfig","keyword","show","deleteFn","row","selectData","warning","tip","ids","orgAdminDelete","adminDelete","handleFn","closeDialog","components_ManagePeople","onHandleSelectionChange","handleSelectionChange","_f","obj","close","_e","org_components_ManagePeople","ManagePeople_normalizeComponent","RightContent","TabsScrm","tabs","count","activedTab","mounted","$on","$nextTick","shop","people","changeTab","totalPeople","totalShop","components_RightContent","tabStyle","height","line","total","OrgStructure","LeftTree","RightContent_normalizeComponent","org_OrgStructure","OrgStructure_Component","OrgStructure_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/9.342d42f56598968f8acf.js","sourcesContent":["<template>\r\n    <div class=\"org-structure-tree\">\r\n        <el-input class=\"m-b-10\" v-model.trim=\"filterText\" placeholder=\"请输入搜索内容\"></el-input>\r\n        <div class=\"custom-tree-node flex-1 flex\">\r\n            <div class=\"flex-1 group-title  p-r-20\"> 广汽集团 </div>\r\n            <div class=\"custom-tree-handle\">\r\n                <el-dropdown :placement=\"'right'\" class=\"group_dropdown\">\r\n                    <span class=\"el-dropdown-link\">\r\n                        <i class=\"el-icon-more el-icon--right\"></i>\r\n                    </span>\r\n                    <el-dropdown-menu slot=\"dropdown\">\r\n                    <div @click=\"handleOrg('add', {'id':0, 'name': '广汽集团'})\">\r\n                        <el-dropdown-item>新建子组织</el-dropdown-item>\r\n                    </div>\r\n                    </el-dropdown-menu>\r\n                </el-dropdown>\r\n            </div>\r\n        </div>\r\n\r\n        <el-tree\r\n            ref=\"orgTree\"\r\n            :data=\"orgData\"\r\n            :props=\"defaultProps\"\r\n            :default-expanded-keys=\"expandKeys\"\r\n            node-key=\"id\"\r\n            :expand-on-click-node=\"false\"\r\n            @node-expand=\"nodeExpandFn\"\r\n            @node-collapse=\"nodeCollapseFn\" \r\n            @node-click=\"handleNodeClick\"\r\n            :filter-node-method=\"filterNode\"\r\n            icon-class=\"el-icon-arrow-right\">\r\n            <div class=\"custom-tree-node flex-1 flex\" slot-scope=\"{ node, data }\">\r\n                <div class=\"tree-label\" :title=\"node.label\">{{ node.label }}</div>\r\n                <div class=\"custom-tree-handle\">\r\n                    <el-dropdown :placement=\"'right'\" class=\"group_dropdown\">\r\n                        <span class=\"el-dropdown-link\">\r\n                            <i class=\"el-icon-more el-icon--right\"></i>\r\n                        </span>\r\n                        <el-dropdown-menu slot=\"dropdown\">\r\n                            <div @click=\"handleOrg('add', data)\">\r\n                                <el-dropdown-item>新建子组织</el-dropdown-item>\r\n                            </div>\r\n                            <div @click=\"handleOrg('edit', data, node)\">\r\n                                <el-dropdown-item >编辑</el-dropdown-item>\r\n                            </div>\r\n                            <div @click=\"deleteOrg(data)\">\r\n                                <el-dropdown-item >删除</el-dropdown-item>\r\n                            </div>\r\n                        </el-dropdown-menu>\r\n                    </el-dropdown>\r\n                </div>\r\n            </div>\r\n        </el-tree>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            filterText: '',\r\n            orgData: [],\r\n            defaultProps: {\r\n                children: 'child',\r\n                label: 'name'\r\n            },\r\n            expandKeys:[]\r\n        };\r\n    },\r\n    created(){\r\n        this.queryData();\r\n    },\r\n    watch: {\r\n        filterText(val) {\r\n            this.$refs.orgTree.filter(val);\r\n        }\r\n    },\r\n    methods: {\r\n        handleNodeClick(data, data2) {\r\n            this.$eventHub.$emit('changeCurrentOrg', data);\r\n        },\r\n        filterNode(value, data) {\r\n            if (!value) return true;\r\n            return data.name.toLowerCase().indexOf(value.toLowerCase()) !== -1;\r\n        },\r\n        queryData(){\r\n            let that = this;\r\n            this.$fetch.setting.queryOrgList({}).then((res)=>{\r\n                this.$handleResponse(res, (data)=>{\r\n                    that.orgData = res.data.data.orgStruct; \r\n                    if(that.$hasArrContent(that.orgData)){\r\n                        // setTimeout(()=>{\r\n                        //     that.$refs.orgTree.setCurrentKey(that.orgData[0].id);\r\n                        //     that.$refs.orgTree.store.nodesMap[that.orgData[0].id].expanded = true;\r\n                        // })\r\n                        that.$eventHub.$emit('changeCurrentOrg', that.orgData[0]);\r\n                        this.$store.commit('closeLoading');\r\n                    }    \r\n                }, false)\r\n            }).catch(()=>{\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        handleOrg(type, data, node){\r\n            let queryDate = {\r\n                id: '',\r\n                parentId: data.id,\r\n                parentName: data.name,\r\n            }\r\n            if(type == 'edit'){\r\n                let isObj = this.$isObj(node.parent.data);\r\n                queryDate.id = data.id;\r\n                queryDate.parentId = data.pid;\r\n                queryDate.parentName = isObj? node.parent.data.name: '广汽集团';\r\n            }\r\n            this.$router.push({path: type=='add'?'/setting/org-structure/add':'/setting/org-structure/edit', query: queryDate})\r\n        },\r\n        deleteOrg(data){\r\n            this.$confirm('删除后会将此组织的子组织也一并删除，是否确定删除此组织?', '提示', {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"warning\",\r\n                customClass: \"needCenterStyle orgDeleteWidth\",\r\n                cancelButtonClass: \"big cancel\",\r\n                confirmButtonClass: \"big\",\r\n                roundButton: true,\r\n            }).then(() => {\r\n                this.orgDeleteFn(data);\r\n            })\r\n        },\r\n        orgDeleteFn(data){\r\n            this.$fetch.setting.orgDelete(data.id).then((res)=>{\r\n                this.$handleResponse(res, res => {\r\n                    this.$message.success('删除成功成功');\r\n                    this.queryData();\r\n                },true);\r\n            }).catch(()=>{\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        nodeExpandFn(val){\r\n            this.expandKeys.push(val.id);\r\n        },\r\n        nodeCollapseFn(val){\r\n            this.expandKeys = this.expandKeys.filter(item => item != val.id);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.org-structure-tree {\r\n    padding: 11px 20px 20px;\r\n}\r\n\r\n.el-icon--right{\r\n    transform: rotate(-90deg);\r\n    color: #3d7eff;\r\n    display: inline-block;\r\n    height: 35px;\r\n    line-height: 35px;\r\n    width: 30px;\r\n    text-align: center;\r\n}\r\n\r\n.el-tree /deep/ .is-current {\r\n    color: #3d7eff;\r\n}\r\n\r\n.el-tree /deep/ .is-current .el-tree-node__children {\r\n    color: #606266;\r\n}\r\n.el-tree /deep/ .el-tree-node__expand-icon {\r\n    font-weight: 600;\r\n}\r\n\r\n.el-tree /deep/ .is-current  .el-tree-node__expand-icon {\r\n    color: #3d7eff;\r\n}\r\n\r\n.el-tree /deep/ .is-current .el-tree-node__children .el-tree-node__expand-icon{\r\n    color: #C0C4CC;\r\n}\r\n\r\n.el-tree /deep/ .el-tree-node__content {\r\n    height: 35px;\r\n    line-height: 35px;\r\n    font-size: 14px;\r\n}\r\n\r\n.custom-tree-handle {\r\n    width: 35px;\r\n    height: 35px;\r\n    line-height: 35px;\r\n}\r\n\r\n.el-tree /deep/ .is-current .el-tree-node__content, \r\n.el-tree /deep/ .is-focusable .el-tree-node__content {\r\n    background: #fff;\r\n}\r\n\r\n.el-tree /deep/ .el-tree-node__content:hover {\r\n    background: #F5F7FA;\r\n}\r\n\r\n.group-title {\r\n    font-size: 16px;\r\n    color: #212427;\r\n    font-weight: 600;\r\n}\r\n\r\n.custom-tree-node {\r\n    height: 35px;\r\n    line-height: 35px;\r\n    overflow: hidden;\r\n\r\n    .tree-label {\r\n        flex: 1;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n    }\r\n}\r\n.group_dropdown {\r\n    display: none;\r\n}\r\n\r\n.custom-tree-node:hover .group_dropdown {\r\n    display: block;\r\n}\r\n</style>\r\n\r\n<style>\r\n.orgDeleteWidth.needCenterStyle .el-message-box__status+.el-message-box__message {\r\n    width: 260px;\r\n    margin: 0 auto;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/setting/org/components/LeftTree.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"org-structure-tree\"},[_c('el-input',{staticClass:\"m-b-10\",attrs:{\"placeholder\":\"请输入搜索内容\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"filterText\"}}),_vm._v(\" \"),_c('div',{staticClass:\"custom-tree-node flex-1 flex\"},[_c('div',{staticClass:\"flex-1 group-title  p-r-20\"},[_vm._v(\" 广汽集团 \")]),_vm._v(\" \"),_c('div',{staticClass:\"custom-tree-handle\"},[_c('el-dropdown',{staticClass:\"group_dropdown\",attrs:{\"placement\":'right'}},[_c('span',{staticClass:\"el-dropdown-link\"},[_c('i',{staticClass:\"el-icon-more el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('div',{on:{\"click\":function($event){return _vm.handleOrg('add', {'id':0, 'name': '广汽集团'})}}},[_c('el-dropdown-item',[_vm._v(\"新建子组织\")])],1)])],1)],1)]),_vm._v(\" \"),_c('el-tree',{ref:\"orgTree\",attrs:{\"data\":_vm.orgData,\"props\":_vm.defaultProps,\"default-expanded-keys\":_vm.expandKeys,\"node-key\":\"id\",\"expand-on-click-node\":false,\"filter-node-method\":_vm.filterNode,\"icon-class\":\"el-icon-arrow-right\"},on:{\"node-expand\":_vm.nodeExpandFn,\"node-collapse\":_vm.nodeCollapseFn,\"node-click\":_vm.handleNodeClick},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('div',{staticClass:\"custom-tree-node flex-1 flex\"},[_c('div',{staticClass:\"tree-label\",attrs:{\"title\":node.label}},[_vm._v(_vm._s(node.label))]),_vm._v(\" \"),_c('div',{staticClass:\"custom-tree-handle\"},[_c('el-dropdown',{staticClass:\"group_dropdown\",attrs:{\"placement\":'right'}},[_c('span',{staticClass:\"el-dropdown-link\"},[_c('i',{staticClass:\"el-icon-more el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('div',{on:{\"click\":function($event){return _vm.handleOrg('add', data)}}},[_c('el-dropdown-item',[_vm._v(\"新建子组织\")])],1),_vm._v(\" \"),_c('div',{on:{\"click\":function($event){return _vm.handleOrg('edit', data, node)}}},[_c('el-dropdown-item',[_vm._v(\"编辑\")])],1),_vm._v(\" \"),_c('div',{on:{\"click\":function($event){return _vm.deleteOrg(data)}}},[_c('el-dropdown-item',[_vm._v(\"删除\")])],1)])],1)],1)])}}])})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-abcd9254\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/setting/org/components/LeftTree.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-abcd9254\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LeftTree.vue\")\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-abcd9254\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./LeftTree.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LeftTree.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LeftTree.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-abcd9254\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./LeftTree.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-abcd9254\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/setting/org/components/LeftTree.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"manage-shop-component\">\r\n        <div class=\"search-flex m-t-15\">\r\n            <search-col :info=\"search.list[search.name]\" :leftCol=\"6\" :rightCol=\"18\" :placeholder=\"'请输入'\" class=\"export-log\"></search-col>\r\n            <search-col :leftCol=\"0\" :rightCol=\"24\" class=\"export-log-btn\">\r\n                <div slot=\"custom\">\r\n                    <el-button round icon=\"el-icon-search\" @click=\"find\"  size=\"small\" type=\"primary\" class=\"m-l-20 w-110\">查询</el-button>\r\n                    <el-button round icon=\"el-icon-delete\" @click=\"clear\" size=\"small\" plain >清空查询条件</el-button>\r\n                </div>\r\n            </search-col>\r\n        </div>\r\n\r\n        <div class=\"p-l-r-20 p-b-20\">\r\n            <data-table ref=\"DataTableRef\" :tableId=\"'manageShop'\" :table=\"dataTable\" @searchTable=\"searchTable\">\r\n            </data-table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchCol from '@/components/form/SearchCol';\r\nimport DataTable from \"@/components/dataTable/table\";\r\nimport SearchMixins from '@/pages/mixins/SearchMixins'\r\nexport default {\r\n    props: {\r\n        currentOrg: {\r\n            type: Object,\r\n            default:()=>{return{}}\r\n        }\r\n    },\r\n    components: {\r\n        SearchCol,\r\n        DataTable\r\n    },\r\n    mixins: [SearchMixins],\r\n    data(){\r\n        return{}\r\n    },\r\n    created(){\r\n        this.initData();\r\n    },\r\n    methods: {\r\n        initData(){\r\n            this.initTable();\r\n            this.initSearch();\r\n        },\r\n        initSearch(){\r\n            this.search = {\r\n                list: [\r\n                    {\r\n                        type: 'input', \r\n                        label: '门店名称', \r\n                        currentVal:'',\r\n                    }\r\n                ],\r\n                name: 0\r\n            }\r\n        },\r\n        initTable(){\r\n            this.dataTable = {\r\n                tr: [{\r\n                      id: '1',\r\n                      label: '门店名称',\r\n                      prop: 'short_name',\r\n                      align: 'center'\r\n                    },{\r\n                      id: '2',\r\n                      label: '品牌',\r\n                      prop: 'brandName',\r\n                      tooltip:true,\r\n                      align: 'center'\r\n                    }\r\n                ],\r\n                data: [],\r\n                page: {\r\n                    totalCount: 0,\r\n                    pageSize: 20,\r\n                    currentPage: 1\r\n                },\r\n                border: true, // 是否带边框\r\n                hasSelect: false, //是否有复选框\r\n                hasExpand: false, //是否有收缩功能\r\n                hasFirstPagination: false, //是否有第一条分页条\r\n                showScrollBar: true, // 是否显示scrollWithBar 组件\r\n                lastPageLayout: 'sizes, prev, pager, next', // 最后一行的分页是否显示sizes\r\n                search: {},\r\n                hasOperation: false, // 显示最后的operations\r\n                operation: []\r\n            }\r\n        },\r\n        getParams(){ // 获取参数\r\n            const { currentPage, pageSize} = this.dataTable.page;\r\n            const { name, list } = this.search;\r\n            return {\r\n                page: currentPage,\r\n                pageSize: pageSize,\r\n                orgId: this.currentOrg.id,\r\n                name: list[name].currentVal, // 店铺名称\r\n                expand: 'brands'\r\n            }\r\n        },\r\n        queryData(item){\r\n            let that = this;\r\n            let params = this.getParams();\r\n            this.$fetch.setting.queryAreasList(params).then(res => {\r\n                this.$handleResponse(res, res => {\r\n                    that.dataTable.data = res.list?res.list:[]; //表格所需数据\r\n                    that.dataTable.data.forEach((item)=>{\r\n                        if(this.$hasArrContent(item.brands)){\r\n                            let arr=[];\r\n                            item.brands.forEach((sub)=>{\r\n                                arr.push(sub.name)\r\n                            })\r\n                            this.$set(item, 'brandName', arr.join('、'))\r\n                        }\r\n                    })\r\n                    that.dataTable.page = res.page?res.page:that.dataTable.page; //表格所需页面\r\n                    that.$emit('total', that.dataTable.page.totalCount)\r\n                },true);\r\n            }).catch(response => {\r\n                this.$store.commit('closeLoading');\r\n            });\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search-flex {\r\n    margin-top: 6px;\r\n}\r\n/deep/ .export-log.el-col-6{\r\n    width: 370px;\r\n}\r\n/deep/ .export-log-btn.el-col-6 {\r\n    width: 290px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/setting/org/components/ManageShop.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"manage-shop-component\"},[_c('div',{staticClass:\"search-flex m-t-15\"},[_c('search-col',{staticClass:\"export-log\",attrs:{\"info\":_vm.search.list[_vm.search.name],\"leftCol\":6,\"rightCol\":18,\"placeholder\":'请输入'}}),_vm._v(\" \"),_c('search-col',{staticClass:\"export-log-btn\",attrs:{\"leftCol\":0,\"rightCol\":24}},[_c('div',{attrs:{\"slot\":\"custom\"},slot:\"custom\"},[_c('el-button',{staticClass:\"m-l-20 w-110\",attrs:{\"round\":\"\",\"icon\":\"el-icon-search\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.find}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"round\":\"\",\"icon\":\"el-icon-delete\",\"size\":\"small\",\"plain\":\"\"},on:{\"click\":_vm.clear}},[_vm._v(\"清空查询条件\")])],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"p-l-r-20 p-b-20\"},[_c('data-table',{ref:\"DataTableRef\",attrs:{\"tableId\":'manageShop',\"table\":_vm.dataTable},on:{\"searchTable\":_vm.searchTable}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25f25cd4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/setting/org/components/ManageShop.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25f25cd4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ManageShop.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ManageShop.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ManageShop.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25f25cd4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ManageShop.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-25f25cd4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/setting/org/components/ManageShop.vue\n// module id = null\n// module chunks = ","<template>\r\n    <el-dialog\r\n      :title=\"title\"\r\n      class=\"add-man-people-dialog\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"510px\"\r\n      appentToBody\r\n      :close-on-click-modal=\"false\"\r\n      :before-close=\"cancel\" >\r\n        <el-form ref=\"form\" label-width=\"110px\" v-loading=\"isLoading\">\r\n            <el-form-item label=\"当前组织\" >\r\n                {{ config.org && config.org.name }}\r\n            </el-form-item>\r\n\r\n            <scrm-form-item itemLabel=\"选择管理人员\" itemType=\"select\" :itemRequired=\"true\" itemClass=\"form_required_after\" subClass=\"w-100-percent\" placeholder=\"请选择\"\r\n                :itemInfo=\"info\" itemKey=\"adminId\" :filterable=\"true\"  :selectOptions=\"userOptions\" :optionLabel=\"'nickname'\" :optionValue=\"'id'\" @change=\"changeUser\" :disabled=\"userDisabled\"></scrm-form-item>\r\n\r\n            <scrm-form-item itemLabel=\"账号\" itemType=\"input\"  :itemRequired=\"true\" itemClass=\"form_required_after\" subClass=\"w-100-percent\" \r\n                :itemInfo=\"info\" itemKey=\"account\" placeholder=\"请输入内容\" disabled>\r\n            </scrm-form-item>\r\n\r\n            <scrm-form-item itemLabel=\"角色\" itemType=\"select\" :itemRequired=\"true\" itemClass=\"form_required_after\" subClass=\"w-100-percent\" placeholder=\"请选择\"\r\n                :itemInfo=\"info\" itemKey=\"roleId\" :filterable=\"true\" :selectOptions=\"roleOptions\" :optionLabel=\"'name'\" :optionValue=\"'id'\" ></scrm-form-item>\r\n        </el-form>\r\n\r\n        <span slot=\"footer\">\r\n            <el-button round size=\"small\" class=\"w-90\" @click=\"cancel\">取 消</el-button>\r\n            <el-button round size=\"small\" class=\"w-90\" @click=\"addManager\" type=\"primary\" :disabled=\"isLoading\">保存</el-button>\r\n        </span>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport ScrmFormItem from '@/components/form/ScrmFormItem'\r\nexport default {\r\n    props: {\r\n        config: {\r\n            type: Object,\r\n            default: ()=>{ \r\n                return {\r\n                type: 'add',\r\n                data: {}\r\n                }\r\n            }\r\n        }\r\n    },\r\n    components: {\r\n        ScrmFormItem\r\n    },\r\n    data(){\r\n        return{\r\n            title: '新增管理人员',\r\n            dialogVisible: true,\r\n            info:{\r\n                adminId: '',\r\n                account: '',\r\n                roleId: ''\r\n            },\r\n            userOptions:[], // 管理人员下拉列表\r\n            roleOptions:[], // 角色下拉列表\r\n            isLoading: false\r\n        }\r\n    },\r\n    created(){\r\n        if(this.config.type == 'edit'){\r\n            this.title = '编辑管理人员';\r\n            const {id, account, orgRole} = this.config.data;\r\n            this.info.adminId = id;\r\n            this.info.account = account;\r\n            this.info.roleId = orgRole && orgRole.id;\r\n        }\r\n        this.userObj = {};\r\n        this.getAdminsList();\r\n    },\r\n    computed:{\r\n        userDisabled(){\r\n            return this.config.type == 'edit'?true:false\r\n        }\r\n    },\r\n    methods: {\r\n        getAdmins(){ // 此接口被getAdminsList代替了，后续不用可以删掉\r\n            let params1 = { // 获取当前组织下绑定的管理人员\r\n                expand: 'orgRole',\r\n                orgId: this.config.org && this.config.org.id,\r\n                pagination: 0,\r\n            }\r\n            let params2 = { // 获取过滤掉dcc的管理人员\r\n                expand:'roles',\r\n                filterRoleKey:'dcc',\r\n                pagination: 0, \r\n            }\r\n            this.isLoading=true; \r\n            Promise.all([this.$fetch.setting.queryAccountList(params1, false, false), this.$fetch.setting.queryAccountList(params2, false, false)]).then(\r\n                (res)=> {\r\n                    this.isLoading=false; \r\n                    \r\n                    // 从过滤掉的dcc管理人员中再过滤当前组织下已绑定的管理人员\r\n                    let bindIds = [];\r\n                    this.$handleResponse(res[0], data => {\r\n                        if(data && data.list && data.list.length){\r\n                            data.list.forEach((item)=>{\r\n                                if(this.config.type == 'edit' &&  item.id !== this.config.data.id){ // 编辑的话，不需要过滤自己\r\n                                    bindIds.push(item.id)\r\n                                }else if(this.config.type == 'add'){\r\n                                    bindIds.push(item.id)\r\n                                }\r\n                            })\r\n                        }\r\n                    },false);\r\n                    \r\n                    this.$handleResponse(res[1], data => {\r\n                        let admins = this.$hasArrContent(data.list)?data.list:[];\r\n                        let filterAdmins = []; \r\n                        if(this.$hasArrContent(bindIds)){ // 有值，需要过滤\r\n                            admins.forEach((item)=>{\r\n                                if(bindIds.indexOf(item.id)==-1){\r\n                                    filterAdmins.push(item);\r\n                                    this.userObj[item.id] = item;\r\n                                }\r\n                            })\r\n                        }\r\n                        this.userOptions = filterAdmins;\r\n                        if(this.config.type == 'edit'){\r\n                            this.roleOptions = this.$hasArrContent(this.userObj[this.config.data.id].roles)?this.userObj[this.config.data.id].roles:[]\r\n                        }\r\n                    },false);\r\n                }\r\n            ).catch(()=>{ \r\n                this.isLoading=false; \r\n                this.$store.commit('closeLoading');\r\n            });\r\n        },\r\n        getAdminsList(){\r\n            let params = { \r\n                expand:'roles',\r\n                // filterRoleKey:'dcc',\r\n                pagination: 0, \r\n            }\r\n            this.isLoading=true; \r\n            this.$fetch.setting.queryAccountList(params, false, false).then((res)=>{\r\n                this.isLoading=false; \r\n                this.$handleResponse(res, data => {\r\n                    this.userOptions = this.$hasArrContent(data.list)?data.list:[];\r\n                    this.userOptions.forEach((item)=>{\r\n                        this.userObj[item.id] = item;\r\n                    })\r\n                    if(this.config.type == 'edit'){\r\n                        this.roleOptions = this.$hasArrContent(this.userObj[this.config.data.id].roles)?this.userObj[this.config.data.id].roles:[];\r\n                        this.roleOptions = this.roleOptions.filter((item)=>{ return ['dcc_inviter','dcc_supervisor','dcc_group_leader'].indexOf(item.role_key) == -1})\r\n                    }\r\n                },false);\r\n            }).catch((err)=>{\r\n                this.isLoading=false; \r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        getParams(){\r\n            let { adminId, roleId} = this.info;\r\n            let params = {\r\n                // orgId: this.config.org.id, // 组织id\r\n                adminId,  // 用户id\r\n                roleId,  // 角色id\r\n            }\r\n            if(!adminId){\r\n                this.$message.error('管理人员不能为空');\r\n                return false;\r\n            }\r\n            if(!roleId){\r\n                this.$message.error('角色不能为空');\r\n                return false;\r\n            }\r\n            return params;\r\n        },\r\n        addManager(){\r\n            let params = this.getParams();\r\n            if(!params){\r\n                return;\r\n            }\r\n            this.config.type == 'add'? this.createFn(params): this.updateFn(params);\r\n        },\r\n        createFn(params){\r\n            this.isLoading = true;\r\n            this.$fetch.setting.adminCreate(this.config.org.id, params).then((res)=>{\r\n                this.isLoading = false;\r\n                this.$handleResponse(res, res => {\r\n                    this.$message.success('新增成功');\r\n                    this.$emit('close', 'success')\r\n                },true);\r\n            }).catch((err)=>{\r\n                this.isLoading = false;\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        updateFn(params){\r\n            this.isLoading = true;\r\n            this.$fetch.setting.adminUpdate(this.config.org.id,this.info.adminId, params).then((res)=>{\r\n                this.isLoading = false;\r\n                this.$handleResponse(res, res => {\r\n                    this.$message.success('更新成功');\r\n                    this.$emit('close', 'success')\r\n                },true);\r\n            }).catch((err)=>{\r\n                this.isLoading = false;\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        cancel(){\r\n            this.$emit('close','cancel')\r\n        },\r\n        changeUser(val){\r\n            this.info.account = this.userObj[val].account;\r\n            this.info.roleId = '';\r\n            this.roleOptions = this.$hasArrContent(this.userObj[val].roles)?this.userObj[val].roles:[]; \r\n            this.roleOptions = this.roleOptions.filter((item)=>{ return ['dcc_inviter','dcc_supervisor','dcc_group_leader'].indexOf(item.role_key) == -1}); // 前端过滤dcc相关角色\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.add-man-people-dialog /deep/.el-dialog__body {\r\n    padding: 20px 35px 0 20px;\r\n}\r\n\r\n.add-man-people-dialog /deep/.el-dialog__footer {\r\n    padding-bottom: 37px;\r\n}\r\n\r\n.el-form-item {\r\n    margin-bottom: 13px;\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/setting/org/components/AddManagePeople.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"add-man-people-dialog\",attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"510px\",\"appentToBody\":\"\",\"close-on-click-modal\":false,\"before-close\":_vm.cancel},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],ref:\"form\",attrs:{\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"当前组织\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.config.org && _vm.config.org.name)+\"\\n        \")]),_vm._v(\" \"),_c('scrm-form-item',{attrs:{\"itemLabel\":\"选择管理人员\",\"itemType\":\"select\",\"itemRequired\":true,\"itemClass\":\"form_required_after\",\"subClass\":\"w-100-percent\",\"placeholder\":\"请选择\",\"itemInfo\":_vm.info,\"itemKey\":\"adminId\",\"filterable\":true,\"selectOptions\":_vm.userOptions,\"optionLabel\":'nickname',\"optionValue\":'id',\"disabled\":_vm.userDisabled},on:{\"change\":_vm.changeUser}}),_vm._v(\" \"),_c('scrm-form-item',{attrs:{\"itemLabel\":\"账号\",\"itemType\":\"input\",\"itemRequired\":true,\"itemClass\":\"form_required_after\",\"subClass\":\"w-100-percent\",\"itemInfo\":_vm.info,\"itemKey\":\"account\",\"placeholder\":\"请输入内容\",\"disabled\":\"\"}}),_vm._v(\" \"),_c('scrm-form-item',{attrs:{\"itemLabel\":\"角色\",\"itemType\":\"select\",\"itemRequired\":true,\"itemClass\":\"form_required_after\",\"subClass\":\"w-100-percent\",\"placeholder\":\"请选择\",\"itemInfo\":_vm.info,\"itemKey\":\"roleId\",\"filterable\":true,\"selectOptions\":_vm.roleOptions,\"optionLabel\":'name',\"optionValue\":'id'}})],1),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"w-90\",attrs:{\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"w-90\",attrs:{\"round\":\"\",\"size\":\"small\",\"type\":\"primary\",\"disabled\":_vm.isLoading},on:{\"click\":_vm.addManager}},[_vm._v(\"保存\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cf6c2bdc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/setting/org/components/AddManagePeople.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cf6c2bdc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddManagePeople.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddManagePeople.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddManagePeople.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cf6c2bdc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddManagePeople.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cf6c2bdc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/setting/org/components/AddManagePeople.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"manage-people-componnet\">\r\n        <div class=\"search-flex\">\r\n            <search-col :info=\"search.list[search.keyword]\" :leftCol=\"6\" :rightCol=\"18\" :placeholder=\"'请输入'\" class=\"export-log\"></search-col>\r\n            <search-col :leftCol=\"0\" :rightCol=\"24\" class=\"export-log-btn\">\r\n                <div slot=\"custom\">\r\n                    <el-button round icon=\"el-icon-search\" @click=\"find\"  size=\"small\" type=\"primary\" class=\"m-l-20 w-110\">查询</el-button>\r\n                    <el-button round icon=\"el-icon-delete\" @click=\"clear\" size=\"small\" plain >清空查询条件</el-button>\r\n                </div>\r\n            </search-col>\r\n        </div>\r\n\r\n        <div class=\"p-l-r-20 p-b-20\">\r\n            <data-table ref=\"DataTableRef\" :tableId=\"'managePeople'\" :table=\"dataTable\" @searchTable='searchTable' @onHandleSelectionChange=\"handleSelectionChange\">\r\n                <div slot=\"buttons\">              \r\n                    <el-button type=\"primary\" round size=\"small\" @click=\"handleFn('add', {})\">新增管理人员</el-button>\r\n                    <el-button plain size=\"small\" round class=\"w-90\" @click=\"deleteFn('batch', {})\">删除</el-button>\r\n                </div>   \r\n                 \r\n                <template slot-scope=\"props\" slot=\"orgRole\">\r\n                    {{ props.obj.row.orgRole.name | filterBlank }}\r\n                </template>\r\n\r\n                <template slot-scope=\"props\" slot=\"caozuo\">\r\n                    <el-button class=\"blue_font_white_bg\" plain round size=\"mini\" @click=\"handleFn('edit', props.obj.row)\">编辑</el-button>\r\n                    <el-button class=\"red_font_white_bg\" plain round size=\"mini\" @click=\"deleteFn('one', props.obj.row)\">删除</el-button>\r\n                </template>\r\n            </data-table>\r\n        </div>\r\n\r\n        <add-manage-people v-if=\"showAdd\" :config=\"rowConfig\" @close=\"closeDialog\"></add-manage-people>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchCol from '@/components/form/SearchCol';\r\nimport DataTable from \"@/components/dataTable/table\";\r\nimport AddManagePeople from './AddManagePeople'\r\nimport SearchMixins from '@/pages/mixins/SearchMixins'\r\nexport default {\r\n    components: {\r\n        SearchCol,\r\n        DataTable,\r\n        AddManagePeople\r\n    },\r\n    props: {\r\n        currentOrg: {\r\n            type: Object,\r\n            default:()=>{return{}}\r\n        },\r\n    },\r\n    mixins: [SearchMixins],\r\n    data(){\r\n        return{\r\n            showAdd: false,\r\n            rowConfig: {},\r\n        }\r\n    },\r\n    created(){\r\n        this.initData();\r\n    },\r\n    methods: {\r\n        initData(){\r\n            this.initSearch(); // 初始化搜索列\r\n            this.initTable();\r\n        },\r\n        initSearch(){\r\n            this.search = {\r\n                list: [\r\n                    {\r\n                        type: 'input', \r\n                        label: '姓名/账号', \r\n                        currentVal:'',\r\n                    }\r\n                ],\r\n                keyword: 0\r\n            }\r\n        },\r\n        initTable(){\r\n            this.dataTable = {\r\n                tr: [{\r\n                      id: '1',\r\n                      label: '姓名',\r\n                      prop: 'nickname',\r\n                      align: 'center'\r\n                    },{\r\n                      id: '2',\r\n                      label: '账号',\r\n                      prop: 'account',\r\n                      tooltip:true,\r\n                      align: 'center'\r\n                    },{\r\n                      id: '3',\r\n                      label: '角色',\r\n                      prop: 'orgRole',\r\n                      show: 'template',\r\n                      tooltip:true,\r\n                      align: 'center'\r\n                    },{\r\n                      id: '4',\r\n                      label: '操作',\r\n                      prop: 'caozuo',\r\n                      show: 'template',\r\n                      align: 'center'\r\n                    }\r\n                ],\r\n                data: [],\r\n                page: {\r\n                    totalCount: 0,\r\n                    pageSize: 20,\r\n                    currentPage: 1\r\n                },\r\n                border: true, // 是否带边框\r\n                hasSelect: true, //是否有复选框\r\n                hasExpand: false, //是否有收缩功能\r\n                hasFirstPagination: true, //是否有第一条分页条\r\n                showScrollBar: true, // 是否显示scrollWithBar 组件\r\n                lastPageLayout: 'sizes, prev, pager, next', // 最后一行的分页是否显示sizes\r\n                search: {},\r\n                hasOperation: false, // 显示最后的operations\r\n                operation: []\r\n            }\r\n        },\r\n        getParams(){\r\n            const { currentPage, pageSize } = this.dataTable.page;\r\n            const { keyword, list } = this.search;\r\n            let params = {\r\n                expand: 'orgRole', //（currentRole：用户当前角色，permissions：用户权限，orgs：所属组织，areas：所属4S店，roles：用户所有角色，orgRole：指定组织绑定的角色）\r\n                keyword: list[keyword].currentVal,\r\n                orgId: this.currentOrg.id, // 组织id       \r\n                pageSize: pageSize,     // 每页数量\r\n                page: currentPage,          // 当前页\r\n            }\r\n            return params;\r\n        },\r\n        queryData(){\r\n            let that = this;\r\n            let params = this.getParams();\r\n            this.$fetch.setting.queryAccountList(params).then((res)=>{\r\n                this.$handleResponse(res, res=>{\r\n                    that.dataTable.data = res.list?res.list:[]; //表格所需数据\r\n                    that.dataTable.page = res.page?res.page:that.dataTable.page; //表格所需页面\r\n                    that.$emit('total', that.dataTable.page.totalCount)\r\n                },true);\r\n            }).catch(()=>{\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        deleteFn(type, row){\r\n            // 批量删除\r\n            if(!this.$hasArrContent(this.selectData) && type=='batch'){\r\n                this.$message.warning('您还没有选中要删除的管理人员')\r\n                return false\r\n            }\r\n            let tip = type=='batch'?\"您确定要删除选中的管理人员吗?\":\"是否确定删除此管理人员?\";\r\n            this.$confirm(tip, \"提示\", {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"warning\",\r\n                customClass: \"needCenterStyle\",\r\n                cancelButtonClass: \"big cancel\",\r\n                confirmButtonClass: \"big\",\r\n                roundButton: true,\r\n            }).then(() => {\r\n                let ids=[];\r\n                if(type == 'batch'){\r\n                    this.selectData.forEach((item)=>{\r\n                        ids.push(item.id)\r\n                    })\r\n                }else {\r\n                    ids.push(row.id);\r\n                }\r\n                this.orgAdminDelete(ids);\r\n            })\r\n        },\r\n        orgAdminDelete(ids){\r\n            this.$fetch.setting.adminDelete(this.currentOrg.id,ids.join(',')).then((res)=>{\r\n                this.$handleResponse(res, res=>{\r\n                    this.$message.success('删除成功!')\r\n                    this.queryData();\r\n                },true);\r\n            }).catch(()=>{\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        handleFn(type, data){\r\n            this.rowConfig['type']=type;\r\n            this.rowConfig['data'] = data;\r\n            this.rowConfig.org = this.currentOrg;\r\n            this.showAdd = true;\r\n        },\r\n        closeDialog(type){\r\n            this.showAdd=false;\r\n            if(type=='success'){\r\n                this.queryData();\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search-flex {\r\n    border-bottom: 1px solid #ddd;\r\n    margin-top: 6px;\r\n}\r\n/deep/ .export-log.el-col-6{\r\n    width: 370px;\r\n}\r\n/deep/ .export-log-btn.el-col-6 {\r\n    width: 290px;\r\n}\r\n\r\n.manage-people-componnet /deep/ .top-pagination {\r\n    display: none;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/setting/org/components/ManagePeople.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"manage-people-componnet\"},[_c('div',{staticClass:\"search-flex\"},[_c('search-col',{staticClass:\"export-log\",attrs:{\"info\":_vm.search.list[_vm.search.keyword],\"leftCol\":6,\"rightCol\":18,\"placeholder\":'请输入'}}),_vm._v(\" \"),_c('search-col',{staticClass:\"export-log-btn\",attrs:{\"leftCol\":0,\"rightCol\":24}},[_c('div',{attrs:{\"slot\":\"custom\"},slot:\"custom\"},[_c('el-button',{staticClass:\"m-l-20 w-110\",attrs:{\"round\":\"\",\"icon\":\"el-icon-search\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.find}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"round\":\"\",\"icon\":\"el-icon-delete\",\"size\":\"small\",\"plain\":\"\"},on:{\"click\":_vm.clear}},[_vm._v(\"清空查询条件\")])],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"p-l-r-20 p-b-20\"},[_c('data-table',{ref:\"DataTableRef\",attrs:{\"tableId\":'managePeople',\"table\":_vm.dataTable},on:{\"searchTable\":_vm.searchTable,\"onHandleSelectionChange\":_vm.handleSelectionChange},scopedSlots:_vm._u([{key:\"orgRole\",fn:function(props){return [_vm._v(\"\\n                \"+_vm._s(_vm._f(\"filterBlank\")(props.obj.row.orgRole.name))+\"\\n            \")]}},{key:\"caozuo\",fn:function(props){return [_c('el-button',{staticClass:\"blue_font_white_bg\",attrs:{\"plain\":\"\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleFn('edit', props.obj.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"red_font_white_bg\",attrs:{\"plain\":\"\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteFn('one', props.obj.row)}}},[_vm._v(\"删除\")])]}}])},[_c('div',{attrs:{\"slot\":\"buttons\"},slot:\"buttons\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleFn('add', {})}}},[_vm._v(\"新增管理人员\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"w-90\",attrs:{\"plain\":\"\",\"size\":\"small\",\"round\":\"\"},on:{\"click\":function($event){return _vm.deleteFn('batch', {})}}},[_vm._v(\"删除\")])],1)])],1),_vm._v(\" \"),(_vm.showAdd)?_c('add-manage-people',{attrs:{\"config\":_vm.rowConfig},on:{\"close\":_vm.closeDialog}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-314cf15f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/setting/org/components/ManagePeople.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-314cf15f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ManagePeople.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ManagePeople.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ManagePeople.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-314cf15f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ManagePeople.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-314cf15f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/setting/org/components/ManagePeople.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"org-manage-shop\">\r\n        <div class=\"org-title\"> 当前组织:  {{ currentOrg.name | filterBlank }}</div>\r\n\r\n        <tabs-scrm class=\"org-tab\" :tabs=\"tabs\" @change=\"changeTab\" :tabStyle=\"{'height':'3px', 'line':'bottom'}\"></tabs-scrm>\r\n\r\n        <manage-shop  ref=\"shop\"  :currentOrg=\"currentOrg\" v-show=\"activedTab=='shop'\" @total=\"totalShop\"></manage-shop>\r\n\r\n        <manage-people ref=\"people\" :currentOrg=\"currentOrg\" v-show=\"activedTab=='people'\" @total=\"totalPeople\"></manage-people>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport TabsScrm from '@/components/TabsScrm'\r\nimport ManageShop from './ManageShop';\r\nimport ManagePeople from './ManagePeople'\r\nexport default {\r\n    components:{\r\n        TabsScrm,\r\n        ManageShop,\r\n        ManagePeople\r\n    },\r\n    data(){\r\n        return {\r\n            currentOrg: {}, // 当前组织 \r\n            tabs: [{'title': '管理门店', \"name\": 'shop', 'count': 0},{'title': '管理人员', \"name\": 'people', 'count': 0}],\r\n            activedTab: 'shop',\r\n        }\r\n    },\r\n    mounted(){\r\n        this.$eventHub.$on('changeCurrentOrg', (data)=>{\r\n            this.currentOrg = data;\r\n            this.$nextTick(()=>{\r\n                this.$refs.shop && this.$refs.shop.clear(); // 子菜单调接口获取\r\n                this.$refs.people && this.$refs.people.clear(); // 调两个接口，为了获取total数组\r\n            })\r\n        });\r\n    },\r\n    methods: {\r\n        changeTab(item){\r\n            this.activedTab = item;\r\n            // this.$refs[item] && this.$refs[item].clear(); // 子菜单调接口获取\r\n        },\r\n        totalPeople(val){\r\n            this.tabs[1].count=val;\r\n        },\r\n        totalShop(val){\r\n            this.tabs[0].count=val;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.org-title {\r\n    font-size: 18px;\r\n    color: #444;\r\n    line-height: 40px;\r\n    border-bottom: 1px solid #ddd;\r\n    padding: 10px 20px 5px;\r\n}\r\n\r\n.org-tab.tabs__scrm /deep/ .el-tabs--card>.el-tabs__header .el-tabs__item {\r\n    border-left: none;\r\n    padding: 0;\r\n    margin: 0 15px;\r\n    font-size: 16px;\r\n}\r\n\r\n.org-tab.tabs__scrm /deep/ .el-tabs--card>.el-tabs__header {\r\n    background: #fff;\r\n    padding-left: 5px;\r\n}\r\n\r\n@media screen and (max-width: 1485px){\r\n    .org-title {\r\n        font-size: 16px;\r\n        line-height: 35px;\r\n    }\r\n\r\n    .org-tab.tabs__scrm /deep/ .el-tabs--card>.el-tabs__header .el-tabs__item {\r\n        font-size: 14px;\r\n    }\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/setting/org/components/RightContent.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"org-manage-shop\"},[_c('div',{staticClass:\"org-title\"},[_vm._v(\" 当前组织:  \"+_vm._s(_vm._f(\"filterBlank\")(_vm.currentOrg.name)))]),_vm._v(\" \"),_c('tabs-scrm',{staticClass:\"org-tab\",attrs:{\"tabs\":_vm.tabs,\"tabStyle\":{'height':'3px', 'line':'bottom'}},on:{\"change\":_vm.changeTab}}),_vm._v(\" \"),_c('manage-shop',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activedTab=='shop'),expression:\"activedTab=='shop'\"}],ref:\"shop\",attrs:{\"currentOrg\":_vm.currentOrg},on:{\"total\":_vm.totalShop}}),_vm._v(\" \"),_c('manage-people',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activedTab=='people'),expression:\"activedTab=='people'\"}],ref:\"people\",attrs:{\"currentOrg\":_vm.currentOrg},on:{\"total\":_vm.totalPeople}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d8c7f97\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/setting/org/components/RightContent.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5d8c7f97\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RightContent.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RightContent.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RightContent.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d8c7f97\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RightContent.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5d8c7f97\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/setting/org/components/RightContent.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"setting-org-structure-page m-20 common-box min-h-600\">\r\n        <div class=\"group-title\">组织架构设置</div>\r\n\r\n        <left-tree class=\"left-tree\"></left-tree>\r\n\r\n        <right-content class=\"right-content\"></right-content>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport LeftTree from './components/LeftTree';\r\nimport RightContent from './components/RightContent'\r\nexport default {\r\n    components: {\r\n        LeftTree,\r\n        RightContent\r\n    },\r\n    data(){\r\n        return{}\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.group-title {\r\n    color: #444;\r\n    font-size: 20px;\r\n    padding-left: 20px;\r\n    font-weight: 600;\r\n    height: 60px;\r\n    line-height: 60px;\r\n    background-color: #fafcff;\r\n    border-bottom: solid 1px #eaebf0;\r\n}\r\n.left-tree {\r\n    width: 230px;\r\n    height: 100%;\r\n    min-height: 600px;\r\n    display: inline-block;\r\n    vertical-align: top;\r\n}\r\n\r\n.right-content {\r\n    display: inline-block;\r\n    width: calc(100% - 235px);\r\n    border-left: solid 1px #eaebf0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/setting/org/OrgStructure.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setting-org-structure-page m-20 common-box min-h-600\"},[_c('div',{staticClass:\"group-title\"},[_vm._v(\"组织架构设置\")]),_vm._v(\" \"),_c('left-tree',{staticClass:\"left-tree\"}),_vm._v(\" \"),_c('right-content',{staticClass:\"right-content\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51d7dbf0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/setting/org/OrgStructure.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51d7dbf0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OrgStructure.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrgStructure.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrgStructure.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51d7dbf0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./OrgStructure.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-51d7dbf0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/setting/org/OrgStructure.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}