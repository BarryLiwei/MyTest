webpackJsonp([34],{KAdL:function(n,t,e){var a=e("S9MG");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("b1450974",a,!1,{})},OHnZ:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("kZ4T"),i=e("kfhN"),s={components:{TabsScrm:a.a,ScrmFormItem:i.a},data:function(){return{tabs:[{title:"同品牌战败设置",name:"1"},{title:"他品牌战败设置",name:"2"},{title:"取消计划原因设置",name:"3"}],activedTab:1,defeatList:[],dialog:{show:!1,label:"同品牌战败原因",value:""}}},created:function(){this.queryData()},methods:{queryData:function(){var n=this;this.$fetch.callCenter.defeatReason({type:this.activedTab}).then(function(t){n.$handleResponse(t,function(t){n.defeatList=n.$hasArrContent(t)?t:[],n.defeatList.forEach(function(n){n.status=1==n.status})},!0)}).catch(function(){n.$store.commit("closeLoading")})},changeTab:function(n){this.activedTab=n,this.queryData()},addReason:function(){1==this.activedTab?this.dialog.label="同品牌战败原因":2==this.activedTab?this.dialog.label="他品牌战败原因":3==this.activedTab&&(this.dialog.label="取消计划原因"),this.dialog.value="",this.dialog.show=!0},cancel:function(){this.dialog.show=!1},createdFn:function(){var n=this;this.dialog.value?this.$fetch.callCenter.createDefeatReason({title:this.dialog.value,type:this.activedTab}).then(function(t){n.$handleResponse(t,function(t){n.dialog.show=!1,n.$message.success("新增成功"),n.queryData()},!0)}).catch(function(){n.$store.commit("closeLoading")}):this.$message.error("请输入内容")},deleteFn:function(n){var t=this;this.$confirm("您确定要删除该战败原因吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"needCenterStyle",cancelButtonClass:"big cancel",confirmButtonClass:"big",roundButton:!0}).then(function(){t.$fetch.callCenter.deleteDefeatReason({id:n.id}).then(function(n){t.$handleResponse(n,function(n){t.$message.success("删除成功"),t.queryData()},!0)}).catch(function(){t.$store.commit("closeLoading")})})},changeStatue:function(n){var t=this;this.$fetch.callCenter.updateDefeatReason({status:n.status?1:0,id:n.id}).then(function(n){t.$handleResponse(n,function(n){t.$message.success("更新成功"),t.queryData()},!0)}).catch(function(){t.$store.commit("closeLoading")})}}},o=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"param-defeat-setting m-20 common-box min-h-750"},[e("div",{staticClass:"title line"},[n._v("战败原因设置")]),n._v(" "),e("div",{staticClass:"defeat-content"},[e("tabs-scrm",{attrs:{tabs:n.tabs,tabStyle:{height:"4px",line:"bottom"}},on:{change:n.changeTab}}),n._v(" "),e("el-button",{staticClass:"m-b-20 w-100",attrs:{round:"",icon:"el-icon-plus",size:"small",type:"primary"},on:{click:n.addReason}},[n._v("新增")]),n._v(" "),e("div",{staticClass:"box-wrap"},n._l(n.defeatList,function(t,a){return e("div",{key:a,staticClass:"flex box-item"},[e("div",{staticClass:"flex-1 p-r-20"},[n._v(n._s(t.title))]),n._v(" "),e("div",{staticClass:"flex-1"},[e("el-switch",{staticClass:"switch-scrm",attrs:{"active-text":"ON","inactive-text":"OFF"},on:{change:function(e){return n.changeStatue(t)}},model:{value:t.status,callback:function(e){n.$set(t,"status",e)},expression:"item.status"}})],1),n._v(" "),e("div",{staticClass:"w-100"},[e("el-button",{staticClass:"red_font",attrs:{type:"text"},on:{click:function(e){return n.deleteFn(t)}}},[n._v("删除")])],1)])}),0)],1),n._v(" "),e("el-dialog",{staticClass:"add-defeat-dialog",attrs:{title:"新增",visible:n.dialog.show,width:"540px","append-to-body":"","close-on-click-modal":!1,"before-close":n.cancel},on:{"update:visible":function(t){return n.$set(n.dialog,"show",t)}}},[e("el-form",{ref:"form",attrs:{"label-width":"130px"}},[e("scrm-form-item",{attrs:{itemLabel:n.dialog.label,itemType:"input",subClass:"w-100-percent",maxlength:"20",placeholder:"请输入内容，20个字符以内",itemInfo:n.dialog,itemKey:"value"}})],1),n._v(" "),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"w-90",attrs:{round:"",size:"small"},on:{click:n.cancel}},[n._v("取 消")]),n._v(" "),e("el-button",{staticClass:"w-90",attrs:{round:"",size:"small",type:"primary"},on:{click:n.createdFn}},[n._v(" 确定")])],1)],1)],1)};o._withStripped=!0;var d={render:o,staticRenderFns:[]},r=d;var l=!1;var c=e("VU/8")(s,r,!1,function(n){l||e("KAdL")},"data-v-14d8f724",null);c.options.__file="src/pages/call-center/param/Defeat.vue";t.default=c.exports},S9MG:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n.title[data-v-14d8f724]{height:60px;line-height:60px;padding-left:20px;color:#444;font-size:20px;font-family:PingFang-SC-Medium;background-color:#fafcff\n}\n.defeat-content[data-v-14d8f724]{padding:15px 30px\n}\n.param-defeat-setting[data-v-14d8f724] .tabs__scrm .el-tabs--card>.el-tabs__header{background:#fff\n}\n.param-defeat-setting[data-v-14d8f724] .tabs__scrm .el-tabs--card .el-tabs__item{border-left:none;font-size:15px;padding:0 12px\n}\n.box-wrap[data-v-14d8f724]{width:800px;border-left:1px solid #ddd;border-top:1px solid #ddd\n}\n.box-item[data-v-14d8f724]{font-size:14px;color:#444;height:60px;line-height:60px;padding-left:19px;border-right:1px solid #ddd;border-bottom:1px solid #ddd\n}\n.add-defeat-dialog[data-v-14d8f724] .el-dialog__body{padding:40px 30px 0\n}\n.add-defeat-dialog[data-v-14d8f724] .el-dialog__footer{padding-bottom:30px\n}\n","",{version:3,sources:["D:/liu/vue-project/MyTest/src/pages/call-center/param/D:/liu/vue-project/MyTest/src/pages/call-center/param/Defeat.vue"],names:[],mappings:";AAgJA,wBACI,YACA,iBACA,kBACA,WACA,eACA,+BACA,wBACJ;CAAC;AAAA,iCAEG,iBAAkB;CACrB;AAAA,mFAEG,eAAgB;CACnB;AAAA,iFAGG,iBACA,eACA,cAAe;CAClB;AAAA,2BAGG,YACA,2BACA,yBAA0B;CAC7B;AAAA,2BAEG,eACA,WACA,YACA,iBACA,kBACA,4BACA,4BAA6B;CAChC;AAAA,qDAGG,mBAAoB;CACvB;AAAA,uDAGG,mBAAoB;CACvB",file:"Defeat.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.title {\r\n    height: 60px;\r\n    line-height: 60px;\r\n    padding-left: 20px;\r\n    color: #444;\r\n    font-size: 20px;\r\n    font-family: PingFang-SC-Medium;\r\n    background-color: #fafcff\r\n}\r\n.defeat-content {\r\n    padding: 15px 30px;\r\n}\r\n.param-defeat-setting /deep/ .tabs__scrm .el-tabs--card>.el-tabs__header {\r\n    background: #fff;\r\n}\r\n\r\n.param-defeat-setting /deep/ .tabs__scrm .el-tabs--card .el-tabs__item {\r\n    border-left: none;\r\n    font-size: 15px;\r\n    padding: 0 12px;\r\n}\r\n\r\n.box-wrap {\r\n    width: 800px;\r\n    border-left: 1px solid #ddd;\r\n    border-top: 1px solid #ddd;\r\n}\r\n.box-item {\r\n    font-size: 14px;\r\n    color: #444;\r\n    height: 60px;\r\n    line-height: 60px;\r\n    padding-left: 19px;\r\n    border-right: 1px solid #ddd;\r\n    border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.add-defeat-dialog /deep/.el-dialog__body {\r\n    padding: 40px 30px 0;\r\n}\r\n\r\n.add-defeat-dialog /deep/ .el-dialog__footer {\r\n    padding-bottom: 30px;\r\n}\r\n"],sourceRoot:""}])}});
//# sourceMappingURL=34.d4631419c369080c3131.js.map