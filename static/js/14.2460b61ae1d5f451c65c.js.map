{"version":3,"sources":["webpack:///src/pages/call-center/task/AddTalkTask.vue","webpack:///./src/pages/call-center/task/AddTalkTask.vue?e59f","webpack:///./src/pages/call-center/task/AddTalkTask.vue","webpack:///src/pages/call-center/task/ViewTalkTask.vue","webpack:///./src/pages/call-center/task/ViewTalkTask.vue?3c4c","webpack:///./src/pages/call-center/task/ViewTalkTask.vue","webpack:///src/pages/call-center/task/TalkTask.vue","webpack:///./src/pages/call-center/task/TalkTask.vue?36e4","webpack:///./src/pages/call-center/task/TalkTask.vue"],"names":["AddTalkTask","props","rowInfo","type","Object","default","components","ScrmFormItem","data","loading","dialogVisible","title","info","scenario","content","dccGroup","startDate","endDate","checked","optionsInfo","defaultStartDate","created","this","lastSelectLength","keys_default","length","initOptions","methods","dataFocus","moment_default","Date","format","_this","$fetch","callCenter","openTaskInitOptions","then","res","taskView","catch","_this2","openTaskView","id","result","dccIds","$hasArrContent","forEach","item","push","assign_default","changeGroup","cancel","$emit","addContent","$message","warning","upBtn","index","obj","JSON","parse","stringify_default","downBtn","deleteBtn","splice","limitTimechange","val","getParmam","_info","dccGroupIds","error","i","params","addFn","_this3","openTaskCreate","$handleResponse","success","openTaskUpdate","util","selectIds","resultIds","task_AddTalkTask","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","visible","custom-class","appentToBody","close-on-click-modal","before-close","on","update:visible","$event","directives","name","rawName","value","expression","ref","label-width","itemInfo","itemKey","itemLabel","itemRequired","itemClass","itemType","subClass","placeholder","filterable","selectOptions","scenarios","optionLabel","optionValue","_v","maxlength","slot","plain","round","size","click","_l","key","multiple","collapse-tags","selectIsAll","change","staticStyle","margin-bottom","label","required","value-format","default-time","picker-options","disabledDate","time","now","getTime","focus","model","callback","$$v","$set","disabled","staticRenderFns","call_center_task_AddTalkTask","__webpack_require__","normalizeComponent","ssrContext","ViewTalkTask","String","Number","viewInfo","task_ViewTalkTask","width","editable","effect","_s","call_center_task_ViewTalkTask","ViewTalkTask_normalizeComponent","TalkTask","SearchBar","SearchCol","DataTable","table","mixins","SearchMixins","showAdd","showView","currentRow","initData","queryData","initSearch","initTable","openTaskOption","search","list","currentVal","isAll","isAllTitle","group","state","openTaskListOptions","_res$data$data","status","dataTable","tr","prop","show","tooltip","minWidth","page","totalCount","pageSize","currentPage","hasSelect","hasExpand","hasFirstPagination","showScrollBar","displayCol","parma","getParams","_dataTable$page","_search","that","openTaskList","$store","commit","taskToggle","row","$confirm","confirmButtonText","cancelButtonText","customClass","cancelButtonClass","confirmButtonClass","roundButton","openTaskToggle","deleteTask","_this4","openTaskDelete","viewFn","HandleFn","closeAddFn","task_TalkTask","clear","find","range-separator","start-placeholder","end-placeholder","searchTable","scopedSlots","_u","fn","contentOverview","_e","icon","close","TalkTask_Component","TalkTask_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/14.2460b61ae1d5f451c65c.js","sourcesContent":["<template>\r\n    <el-dialog\r\n      :title=\"title\"\r\n      class=\"add-talk-task-dialog\"\r\n      :visible.sync=\"dialogVisible\"\r\n      custom-class=\"dialog-width\"\r\n      appentToBody\r\n      :close-on-click-modal=\"false\"\r\n      :before-close=\"cancel\">\r\n        <el-form ref=\"form\" label-width=\"110px\" v-loading=\"loading\">\r\n            <scrm-form-item  :itemInfo=\"info\"  itemKey=\"scenario\" itemLabel=\"适用场景\"  :itemRequired=\"true\"  itemClass=\"form_required_after\"  \r\n                itemType=\"select\"  subClass=\"w-350\" placeholder=\"请选择\" :filterable=\"true\" :selectOptions=\"optionsInfo.scenarios\"  :optionLabel=\"'title'\" :optionValue=\"'id'\"></scrm-form-item>\r\n\r\n            <scrm-form-item  :itemInfo=\"info\"  itemKey=\"title\" itemLabel=\"任务名称\"  :itemRequired=\"true\"  itemClass=\"form_required_after\" \r\n                itemType=\"input\"  subClass=\"w-350\" maxlength=\"20\"  placeholder=\"20个字符以内\">\r\n            </scrm-form-item>\r\n\r\n            <scrm-form-item :itemInfo=\"{}\" itemLabel=\"任务内容\" :itemRequired=\"true\" itemClass=\"form_required_after\" subClass=\"w-350\">\r\n                <template slot=\"custom\">\r\n                    <el-button class=\"blue_font_white_bg w-60\"  plain round size=\"mini\" @click=\"addContent\"><i class=\"el-icon-plus\"></i></el-button>\r\n                </template>\r\n            </scrm-form-item>\r\n\r\n            <div v-for=\"(item,index) in  info.content\" :key=\"index\">\r\n                <scrm-form-item :itemLabel=\"`任务${index+1}`\" :itemInfo=\"item\" itemKey=\"title\"  itemType=\"input\"  :itemRequired=\"true\" itemClass=\"form_required_after\" subClass=\"w-350\"  maxlength=\"30\" placeholder=\"30个字符以内\">\r\n                    <template slot=\"lineHander\">\r\n                        <span class=\"span-icon icon-down\" v-show=\"index != (info.content.length -1) && info.content.length > 1\" @click=\"downBtn(index)\"></span>\r\n                        <span class=\"span-icon icon-up\" v-show=\"index > 0 && info.content.length > 1\" @click=\"upBtn(index)\"></span>\r\n                        <span class=\"span-icon icon-delete\" v-show=\"index > 0 && info.content.length > 1\" @click=\"deleteBtn(index)\"></span>\r\n                    </template>\r\n                </scrm-form-item>\r\n            </div>\r\n\r\n            <scrm-form-item :itemInfo=\"info\" itemKey=\"dccGroup\" itemLabel=\"适用坐席组\"  :itemRequired=\"true\" itemClass=\"form_required_after\" \r\n                itemType=\"select\"  :filterable=\"true\"  multiple  collapse-tags :selectOptions=\"optionsInfo.dccGroup\" :optionLabel=\"'title'\" :optionValue=\"'id'\" \r\n                subClass=\"w-350\"   :selectIsAll='true'  placeholder=\"请选择\" @change=\"changeGroup\"></scrm-form-item>\r\n\r\n\r\n            <el-form-item label=\"任务开始时间\" :required=\"true\" class=\"form_required_after form-task-time\" style=\"margin-bottom: 22px;\">\r\n                <el-date-picker\r\n                    v-model=\"info.startDate\"\r\n                    type=\"datetime\"\r\n                    size=\"small\"\r\n                    placeholder=\"选择日期时间\"\r\n                    value-format=\"yyyy-MM-dd HH:mm\"\r\n                    format=\"yyyy-MM-dd HH:mm\"\r\n                    :default-time=\"defaultStartDate\"\r\n                    @focus=\"dataFocus()\"\r\n                    :picker-options=\"{\r\n                    disabledDate: time => {\r\n                            return time < new Date(Date.now()-1 * 24 * 3600 * 1000).getTime();\r\n                        },\r\n                    }\">\r\n                </el-date-picker>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"任务结束时间\" :required=\"true\" class=\"form_required_after form-task-time\">\r\n                <el-date-picker\r\n                    v-model=\"info.endDate\"\r\n                    type=\"datetime\"\r\n                    size=\"small\"\r\n                    placeholder=\"选择日期时间\"\r\n                    value-format=\"yyyy-MM-dd HH:mm\"\r\n                    format=\"yyyy-MM-dd HH:mm\"\r\n                    default-time=\"23:59:59\"\r\n                    :disabled=\"checked\"\r\n                    :picker-options=\"{\r\n                    disabledDate: time => {\r\n                            return time < new Date(Date.now()-1 * 24 * 3600 * 1000).getTime();\r\n                        },\r\n                    }\">\r\n                </el-date-picker>\r\n            </el-form-item>\r\n\r\n            <scrm-form-item :itemInfo=\"{}\" class=\"form-task-limit\">\r\n                <template slot=\"custom\">\r\n                    <el-checkbox v-model=\"checked\" @change=\"limitTimechange\">长期有效</el-checkbox>\r\n                </template>\r\n            </scrm-form-item>\r\n        </el-form>\r\n\r\n        <span slot=\"footer\">\r\n            <el-button round size=\"small\"  class=\"w-90\" @click=\"cancel\">取 消</el-button>\r\n            <el-button round size=\"small\"  class=\"w-90\" @click=\"addFn\" type=\"primary\">保 存</el-button>\r\n            <el-button round size=\"small\"  @click=\"addFn('online')\" type=\"primary\">保存并上架</el-button>\r\n        </span>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\n// 此组件为开口任务新增和编辑，另外组件写查看，都放在一块会觉得拥挤，不好维护\r\nimport ScrmFormItem from '@/components/form/ScrmFormItem'\r\nimport moment from 'moment';\r\nimport { removeDeleteArr, chagneMultipleSelect } from '@/utils/util'\r\nexport default {\r\n    props: {\r\n        rowInfo: {\r\n            type: Object,\r\n            default: ()=>{ \r\n                return {}\r\n            }\r\n        }\r\n    },\r\n    components: {\r\n        ScrmFormItem\r\n    },\r\n    data(){\r\n        return{\r\n            loading: false,\r\n            dialogVisible: true,\r\n            title: '新增开口任务',\r\n            type: 'add',\r\n            info:{\r\n                scenario:'',\r\n                title:'',\r\n                content: [{'title': \"\"}],\r\n                dccGroup: [],\r\n                startDate: '',\r\n                endDate: '', // \"endDate\": \"2020-08-01 12:00\"  过期时间，没有过期时间传0\r\n            },\r\n            checked: false,\r\n            optionsInfo: {},\r\n            defaultStartDate: '00:00:00'\r\n        }\r\n    },\r\n    created(){\r\n        this.lastSelectLength = 0; // 设置多选的坐席组\r\n        if(Object.keys(this.rowInfo).length){\r\n            this.title = '编辑开口任务';\r\n            this.type = 'edit';\r\n            // this.taskView();\r\n        }\r\n        this.initOptions(); // 获取下拉列表\r\n    },\r\n    methods: {\r\n        dataFocus(){\r\n            this.defaultStartDate = moment(new Date()).format('HH:mm:ss');\r\n        },\r\n        initOptions(){\r\n            this.loading = true;\r\n            this.$fetch.callCenter.openTaskInitOptions({}).then((res)=>{\r\n                this.optionsInfo = res.data.data;\r\n                this.loading = false;   \r\n                if(this.type == 'edit'){ // 先后顺序\r\n                   this.taskView()\r\n                }\r\n            }).catch(()=>{\r\n                this.loading = false;\r\n                if(this.type == 'edit'){\r\n                   this.taskView()\r\n                }\r\n            })\r\n        },\r\n        taskView(){\r\n            this.loading = true;\r\n            this.$fetch.callCenter.openTaskView({'id': this.rowInfo.id}).then((res)=>{\r\n                let result = res.data.data\r\n                let dccIds = [];\r\n                if(this.$hasArrContent(result.dccGroup)){ // 接口已经把之前删除的移除了\r\n                    // result.dccGroup = removeDeleteArr(result.dccGroup, 'id',this.optionsInfo.dccGroup, 'id' ); // 去掉下拉框不匹配的, 后续如果产品说要增加回来，则用addArrToOptions方法\r\n                    result.dccGroup.forEach((item)=>{\r\n                        dccIds.push(item.id)\r\n                    })\r\n                }\r\n                Object.assign(this.info, result);\r\n\r\n                this.info.dccGroup = dccIds;\r\n                this.changeGroup(this.info.dccGroup); // 改变全选\r\n                if(result.endDate == \"永久有效\"){\r\n                    this.checked = true;\r\n                    this.info.endDate = '';\r\n                }\r\n                this.loading = false;\r\n            }).catch(()=>{\r\n                this.loading = false;\r\n            })\r\n        },\r\n        cancel(){\r\n            this.$emit('close', 'cancel');\r\n        },\r\n        addContent(){\r\n            if(this.info.content && this.info.content.length < 8){\r\n                this.info.content.push({'title': \"\"});\r\n            }else {\r\n                this.$message.warning('任务内容最多添加8个')\r\n            }\r\n        },\r\n        upBtn(index){\r\n            let obj = JSON.parse(JSON.stringify(this.info.content[index-1]));\r\n            Object.assign(this.info.content[index-1],this.info.content[index])\r\n            Object.assign(this.info.content[index] ,obj);\r\n        },\r\n        downBtn(index, item){\r\n            let obj = JSON.parse(JSON.stringify(this.info.content[index+1]));\r\n            Object.assign(this.info.content[index+1] ,this.info.content[index]);\r\n            Object.assign(this.info.content[index], obj);\r\n        },\r\n        deleteBtn(index){\r\n            this.info.content.splice(index, 1)\r\n        },\r\n        limitTimechange(val){\r\n            if(val){\r\n                this.info.endDate = '';\r\n            }\r\n        },\r\n        getParmam(){\r\n            const { scenario, title, content,dccGroup, dccGroupIds, startDate, endDate} = this.info;\r\n            if(!scenario){\r\n                this.$message.error('适用场景必填')\r\n                return false;\r\n            }\r\n            if(!title){\r\n                this.$message.error('任务名称必填')\r\n                return false;\r\n            }\r\n            for(let i=0, length=content.length; i<length; i++){\r\n                if(!content[i].title){\r\n                    this.$message.error(`第${i+1}行任务内容必填`)\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            if(!dccGroupIds.length){\r\n                this.$message.error('适用坐席组必填')\r\n                return false;\r\n            }\r\n            if(!startDate){\r\n                this.$message.error('任务开始时间必填')\r\n                return false;\r\n            }\r\n            if(!this.checked && !endDate){\r\n                this.$message.error('任务结束时间必填')\r\n                return false;\r\n            }\r\n\r\n            let params = {\r\n                scenario: scenario,       // 任务场景\r\n                title: title,             // 任务名称\r\n                content: content,         // 任务内容\r\n                dccGroup: dccGroupIds,         // 分配坐席组\r\n                startDate: startDate,     // 开始时间\r\n                endDate: endDate,         // 结束时间\r\n            }\r\n            if(this.checked){\r\n                params.endDate = 0;\r\n            }\r\n            return params;\r\n        },\r\n        addFn(type){\r\n            let params = this.getParmam();\r\n            let that = this;\r\n            if(params){\r\n                if(type == 'online'){\r\n                    params[\"status\"] = 1;  // 保存上架按钮点击 \r\n                }\r\n                this.loading = true;\r\n                if(this.type == 'add'){\r\n                    this.$fetch.callCenter.openTaskCreate(params,true,false).then((res)=>{\r\n                        this.loading = false;\r\n                        this.$handleResponse(res, (data)=>{\r\n                            this.$message.success('新增成功');\r\n                            this.$emit('close', 'success')\r\n                        }, false);\r\n                    }).catch(()=>{ this.loading = false;})\r\n                }else {\r\n                    params['id'] = this.rowInfo.id;\r\n                    this.$fetch.callCenter.openTaskUpdate(params,true,false).then((res)=>{\r\n                        this.loading = false;\r\n                        this.$handleResponse(res, (data)=>{\r\n                            this.$message.success('编辑成功');\r\n                            this.$emit('close', 'success')\r\n                        },true);\r\n                    }).catch(()=>{ this.loading = false;})\r\n                }\r\n            }\r\n        },\r\n        changeGroup(item){\r\n            let result = chagneMultipleSelect(item, this.optionsInfo.dccGroup, 'id', 'title', this.lastSelectLength);\r\n            this.info.dccGroup =  result.selectIds;\r\n            this.info['dccGroupIds'] = result.resultIds\r\n            this.lastSelectLength = result.lastSelectLength;\r\n        },\r\n        \r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.add-talk-task-dialog /deep/.el-dialog__body {\r\n    margin-top: 8px;\r\n    padding: 25px 0 0 55px;\r\n}\r\n\r\n.add-talk-task-dialog /deep/.el-dialog__footer {\r\n    padding-bottom: 37px;\r\n}\r\n\r\n.add-talk-task-dialog /deep/.dialog-width {\r\n   width: 640px;\r\n}\r\n.el-form-item {\r\n    margin-bottom: 10px;\r\n}\r\n.form-task-time.el-form-item {\r\n    margin-bottom: 5px;\r\n}\r\n.form-task-limit.el-form-item {\r\n    margin-bottom: 5px;\r\n}\r\n.w-60 {\r\n    width: 60px;\r\n}\r\n\r\n.span-icon {\r\n    display: inline-block;\r\n    width: 30px;\r\n    height: 30px;\r\n    cursor: pointer;\r\n    vertical-align: middle;\r\n}\r\n.icon-up {\r\n    background: url('../../../assets/images/icons/common/up.png');\r\n    background-size: 100% 100%;\r\n    background-repeat: no-repeat;\r\n}\r\n.icon-down{\r\n    background: url('../../../assets/images/icons/common/down.png');\r\n    background-size: 100% 100%;\r\n    background-repeat: no-repeat;\r\n}\r\n.icon-delete{\r\n    background: url('../../../assets/images/icons/common/delete.png');\r\n    background-size: 100% 100%;\r\n    background-repeat: no-repeat;\r\n}\r\n\r\n@media screen and (max-width: 1485px) {\r\n    .add-talk-task-dialog /deep/.el-dialog__title {\r\n        font-size: 16px;\r\n        line-height: 20px;\r\n    }\r\n    .add-talk-task-dialog /deep/.el-dialog__headerbtn {\r\n        top: 15px;\r\n    }\r\n\r\n    .add-talk-task-dialog /deep/.el-dialog__body {\r\n        padding: 25px 0 0 35px;\r\n    }\r\n}\r\n</style>\r\n\r\n<style>\r\n.add-talk-task-dialog /deep/.form-task-time /deep/.el-input__inner {\r\n    width: 350px;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/call-center/task/AddTalkTask.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"add-talk-task-dialog\",attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"custom-class\":\"dialog-width\",\"appentToBody\":\"\",\"close-on-click-modal\":false,\"before-close\":_vm.cancel},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"form\",attrs:{\"label-width\":\"110px\"}},[_c('scrm-form-item',{attrs:{\"itemInfo\":_vm.info,\"itemKey\":\"scenario\",\"itemLabel\":\"适用场景\",\"itemRequired\":true,\"itemClass\":\"form_required_after\",\"itemType\":\"select\",\"subClass\":\"w-350\",\"placeholder\":\"请选择\",\"filterable\":true,\"selectOptions\":_vm.optionsInfo.scenarios,\"optionLabel\":'title',\"optionValue\":'id'}}),_vm._v(\" \"),_c('scrm-form-item',{attrs:{\"itemInfo\":_vm.info,\"itemKey\":\"title\",\"itemLabel\":\"任务名称\",\"itemRequired\":true,\"itemClass\":\"form_required_after\",\"itemType\":\"input\",\"subClass\":\"w-350\",\"maxlength\":\"20\",\"placeholder\":\"20个字符以内\"}}),_vm._v(\" \"),_c('scrm-form-item',{attrs:{\"itemInfo\":{},\"itemLabel\":\"任务内容\",\"itemRequired\":true,\"itemClass\":\"form_required_after\",\"subClass\":\"w-350\"}},[_c('template',{slot:\"custom\"},[_c('el-button',{staticClass:\"blue_font_white_bg w-60\",attrs:{\"plain\":\"\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.addContent}},[_c('i',{staticClass:\"el-icon-plus\"})])],1)],2),_vm._v(\" \"),_vm._l((_vm.info.content),function(item,index){return _c('div',{key:index},[_c('scrm-form-item',{attrs:{\"itemLabel\":(\"任务\" + (index+1)),\"itemInfo\":item,\"itemKey\":\"title\",\"itemType\":\"input\",\"itemRequired\":true,\"itemClass\":\"form_required_after\",\"subClass\":\"w-350\",\"maxlength\":\"30\",\"placeholder\":\"30个字符以内\"}},[_c('template',{slot:\"lineHander\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(index != (_vm.info.content.length -1) && _vm.info.content.length > 1),expression:\"index != (info.content.length -1) && info.content.length > 1\"}],staticClass:\"span-icon icon-down\",on:{\"click\":function($event){return _vm.downBtn(index)}}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(index > 0 && _vm.info.content.length > 1),expression:\"index > 0 && info.content.length > 1\"}],staticClass:\"span-icon icon-up\",on:{\"click\":function($event){return _vm.upBtn(index)}}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(index > 0 && _vm.info.content.length > 1),expression:\"index > 0 && info.content.length > 1\"}],staticClass:\"span-icon icon-delete\",on:{\"click\":function($event){return _vm.deleteBtn(index)}}})])],2)],1)}),_vm._v(\" \"),_c('scrm-form-item',{attrs:{\"itemInfo\":_vm.info,\"itemKey\":\"dccGroup\",\"itemLabel\":\"适用坐席组\",\"itemRequired\":true,\"itemClass\":\"form_required_after\",\"itemType\":\"select\",\"filterable\":true,\"multiple\":\"\",\"collapse-tags\":\"\",\"selectOptions\":_vm.optionsInfo.dccGroup,\"optionLabel\":'title',\"optionValue\":'id',\"subClass\":\"w-350\",\"selectIsAll\":true,\"placeholder\":\"请选择\"},on:{\"change\":_vm.changeGroup}}),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form_required_after form-task-time\",staticStyle:{\"margin-bottom\":\"22px\"},attrs:{\"label\":\"任务开始时间\",\"required\":true}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"size\":\"small\",\"placeholder\":\"选择日期时间\",\"value-format\":\"yyyy-MM-dd HH:mm\",\"format\":\"yyyy-MM-dd HH:mm\",\"default-time\":_vm.defaultStartDate,\"picker-options\":{\n                disabledDate: function (time) {\n                        return time < new Date(Date.now()-1 * 24 * 3600 * 1000).getTime();\n                    },\n                }},on:{\"focus\":function($event){return _vm.dataFocus()}},model:{value:(_vm.info.startDate),callback:function ($$v) {_vm.$set(_vm.info, \"startDate\", $$v)},expression:\"info.startDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form_required_after form-task-time\",attrs:{\"label\":\"任务结束时间\",\"required\":true}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"size\":\"small\",\"placeholder\":\"选择日期时间\",\"value-format\":\"yyyy-MM-dd HH:mm\",\"format\":\"yyyy-MM-dd HH:mm\",\"default-time\":\"23:59:59\",\"disabled\":_vm.checked,\"picker-options\":{\n                disabledDate: function (time) {\n                        return time < new Date(Date.now()-1 * 24 * 3600 * 1000).getTime();\n                    },\n                }},model:{value:(_vm.info.endDate),callback:function ($$v) {_vm.$set(_vm.info, \"endDate\", $$v)},expression:\"info.endDate\"}})],1),_vm._v(\" \"),_c('scrm-form-item',{staticClass:\"form-task-limit\",attrs:{\"itemInfo\":{}}},[_c('template',{slot:\"custom\"},[_c('el-checkbox',{on:{\"change\":_vm.limitTimechange},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"长期有效\")])],1)],2)],2),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"w-90\",attrs:{\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"w-90\",attrs:{\"round\":\"\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.addFn}},[_vm._v(\"保 存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"round\":\"\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addFn('online')}}},[_vm._v(\"保存并上架\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8165a5f4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/call-center/task/AddTalkTask.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8165a5f4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddTalkTask.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8165a5f4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./AddTalkTask.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddTalkTask.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddTalkTask.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8165a5f4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddTalkTask.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8165a5f4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/call-center/task/AddTalkTask.vue\n// module id = null\n// module chunks = ","<template>\r\n    <el-dialog\r\n      title=\"查看详情\"\r\n      class=\"view-talk-task-dialog\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"500px\"\r\n      appentToBody\r\n      :close-on-click-modal=\"false\"\r\n      :before-close=\"cancel\">\r\n      <el-form ref=\"form\" label-width=\"110px\" v-loading=\"loading\">\r\n            <scrm-form-item itemLabel=\"适用场景\" itemType=\"input\" :itemInfo=\"viewInfo\" itemKey=\"scenarioTitle\" :editable=\"false\"></scrm-form-item>\r\n\r\n            <scrm-form-item itemLabel=\"任务名称\" itemType=\"input\" :itemInfo=\"viewInfo\" itemKey=\"title\" :editable=\"false\"></scrm-form-item>\r\n            \r\n            <scrm-form-item itemLabel=\"任务内容\" class=\"custom-form\"></scrm-form-item>\r\n\r\n            <scrm-form-item :itemLabel=\"`任务${index+1}`\" class=\"custom-form\" v-for=\"(item,index) in  viewInfo.content\" :key=\"index\" :itemInfo=\"item\" itemKey=\"title\"  itemType=\"input\" :editable=\"false\"></scrm-form-item>\r\n\r\n            <scrm-form-item itemLabel=\"适用坐席组\" class=\"m-t-15\" :itemInfo=\"{}\" :editable=\"false\">\r\n                 <template slot=\"notEdit\">\r\n                     <el-tag v-for=\"(item,index) in viewInfo.dccGroup\" :key=\"'tag'+index\" type=\"info\" effect=\"plain\">\r\n                       {{ item.title}}\r\n                     </el-tag>\r\n                </template>\r\n            </scrm-form-item>\r\n            \r\n            <scrm-form-item itemLabel=\"任务时间\" itemType=\"input\" :itemInfo=\"viewInfo\" itemKey=\"endDate\" :editable=\"false\"></scrm-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport ScrmFormItem from '@/components/form/ScrmFormItem'\r\nexport default {\r\n    components: {\r\n        ScrmFormItem\r\n    },\r\n    props: {\r\n        id: {\r\n            type: [String, Number],\r\n            default: ''\r\n        } \r\n    },\r\n    data(){\r\n        return{\r\n            dialogVisible: true,\r\n            checked: true,\r\n            loading: false,\r\n            viewInfo: {},\r\n        }\r\n    },\r\n    created(){\r\n        this.taskView();\r\n    },\r\n    methods: {\r\n        cancel(){\r\n            this.$emit('close')\r\n        },\r\n        taskView(){\r\n            this.loading = true;\r\n            this.$fetch.callCenter.openTaskView({'id': this.id}).then((res)=>{\r\n                this.viewInfo = res.data.data;\r\n                if(this.viewInfo.endDate != '永久有效' && this.viewInfo.startDate){\r\n                   this.viewInfo.endDate = `${this.viewInfo.startDate} - ${this.viewInfo.endDate}`\r\n                }\r\n                this.loading = false;\r\n            }).catch(()=>{\r\n                this.loading = false;\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.view-talk-task-dialog /deep/.el-dialog__body {\r\n    padding: 20px 20px 30px;\r\n}\r\n\r\n.el-form-item {\r\n    margin-bottom: 6px;\r\n}\r\n.el-form-item /deep/.el-form-item__label{\r\n    padding-right: 25px;\r\n}\r\n.el-tag {\r\n    margin-right: 10px;\r\n}\r\n\r\n.custom-form.el-form-item {\r\n    margin-bottom: 0;\r\n}\r\n\r\n.custom-form.el-form-item /deep/.el-form-item__label,\r\n.custom-form.el-form-item /deep/ .el-form-item__content{\r\n    height: 32px;\r\n    line-height: 32px;\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/call-center/task/ViewTalkTask.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"view-talk-task-dialog\",attrs:{\"title\":\"查看详情\",\"visible\":_vm.dialogVisible,\"width\":\"500px\",\"appentToBody\":\"\",\"close-on-click-modal\":false,\"before-close\":_vm.cancel},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"form\",attrs:{\"label-width\":\"110px\"}},[_c('scrm-form-item',{attrs:{\"itemLabel\":\"适用场景\",\"itemType\":\"input\",\"itemInfo\":_vm.viewInfo,\"itemKey\":\"scenarioTitle\",\"editable\":false}}),_vm._v(\" \"),_c('scrm-form-item',{attrs:{\"itemLabel\":\"任务名称\",\"itemType\":\"input\",\"itemInfo\":_vm.viewInfo,\"itemKey\":\"title\",\"editable\":false}}),_vm._v(\" \"),_c('scrm-form-item',{staticClass:\"custom-form\",attrs:{\"itemLabel\":\"任务内容\"}}),_vm._v(\" \"),_vm._l((_vm.viewInfo.content),function(item,index){return _c('scrm-form-item',{key:index,staticClass:\"custom-form\",attrs:{\"itemLabel\":(\"任务\" + (index+1)),\"itemInfo\":item,\"itemKey\":\"title\",\"itemType\":\"input\",\"editable\":false}})}),_vm._v(\" \"),_c('scrm-form-item',{staticClass:\"m-t-15\",attrs:{\"itemLabel\":\"适用坐席组\",\"itemInfo\":{},\"editable\":false}},[_c('template',{slot:\"notEdit\"},_vm._l((_vm.viewInfo.dccGroup),function(item,index){return _c('el-tag',{key:'tag'+index,attrs:{\"type\":\"info\",\"effect\":\"plain\"}},[_vm._v(\"\\n                   \"+_vm._s(item.title)+\"\\n                 \")])}),1)],2),_vm._v(\" \"),_c('scrm-form-item',{attrs:{\"itemLabel\":\"任务时间\",\"itemType\":\"input\",\"itemInfo\":_vm.viewInfo,\"itemKey\":\"endDate\",\"editable\":false}})],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b4356344\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/call-center/task/ViewTalkTask.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b4356344\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ViewTalkTask.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ViewTalkTask.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ViewTalkTask.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b4356344\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ViewTalkTask.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b4356344\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/call-center/task/ViewTalkTask.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"talk-task-page m-20 common-box\">\r\n        <search-bar size=\"medium\" class=\"m-t-10 p-20\" @clear=\"clear\" @find=\"find\">\r\n            <div class=\"search-flex\">\r\n                <!-- search-col通过search.key来判断是哪个选项；search-col用for循环，需要自定义的可以通过 search.key == index 来确定自定义的那一列，如<search-col><div slot=\"custom\" v-if=\"search.key==index\"></div></search-col>-->\r\n                <search-col :info=\"search.list[search.name]\" :placeholder=\"'请输入'\"></search-col>\r\n                <search-col :info=\"search.list[search.content]\" :placeholder=\"'请输入'\"></search-col>\r\n                <search-col :info=\"search.list[search.group]\" filterable></search-col>\r\n                <search-col :info=\"search.list[search.state]\"></search-col>\r\n                <search-col :info=\"search.list[search.time]\" type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" value-format=\"yyyy-MM-dd\"></search-col>\r\n            </div>\r\n        </search-bar>\r\n\r\n        <div class=\"p-l-r-20 p-b-20\">\r\n            <data-table ref=\"DataTableRef\" :table=\"dataTable\" @searchTable='searchTable'>\r\n                <div slot=\"buttons\">              \r\n                    <el-button type=\"primary\" icon=\"el-icon-plus\" round size=\"small\" @click=\"HandleFn('add', {})\">新建开口任务</el-button>\r\n                </div>   \r\n                <template slot-scope=\"props\" slot=\"caozuo\">\r\n                    <el-button type=\"text\" @click=\"HandleFn('edit', props.obj.row)\">编辑</el-button>\r\n                    <el-button type=\"text\" class=\"btn-split\" @click=\"taskToggle(props.obj.row)\">{{ props.obj.row.status==1?\"下架\":\"上架\"}}</el-button>\r\n                    <el-button type=\"text\" class=\"btn-split red_font\" @click=\"deleteTask(props.obj.row)\">删除</el-button>\r\n                    <el-button type=\"text\" class=\"btn-split\" @click=\"viewFn(props.obj.row)\">查看详情</el-button>\r\n                </template> \r\n\r\n                <template slot-scope=\"props\" slot=\"contentOverview\">\r\n                    <div class=\"blue pointer\" @click=\"viewFn(props.obj.row)\">{{ props.obj.row.contentOverview}}</div>\r\n                </template> \r\n\r\n                <template slot-scope=\"props\" slot=\"dccGroup\">\r\n                    <span v-if=\"props.obj.row.dccGroup && props.obj.row.dccGroup.length\">\r\n                        {{ props.obj.row.dccGroup[0].title }}\r\n                        <span v-if=\"props.obj.row.dccGroup[1]\">、{{ props.obj.row.dccGroup[1].title }}</span>\r\n                        <span v-if=\"props.obj.row.dccGroup.length > 2\">等{{ props.obj.row.dccGroup.length }}组</span>\r\n                    </span>\r\n                    <span v-else> --</span>\r\n                </template>\r\n            </data-table>\r\n        </div>\r\n\r\n        <!-- 新建/编辑开口任务 -->\r\n        <add-talk-task v-if=\"showAdd\"  :rowInfo=\"currentRow\" @close=\"closeAddFn\" ></add-talk-task>\r\n\r\n        <!-- 查看开口任务 -->\r\n        <view-talk-task v-if=\"showView\" :id=\"currentRow.id\" @close=\"showView=false\"></view-talk-task>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchBar from '@/components/SearchBar';\r\nimport SearchCol from '@/components/form/SearchCol';\r\nimport DataTable from \"@/components/dataTable/table\";\r\nimport AddTalkTask from './AddTalkTask'\r\nimport ViewTalkTask from './ViewTalkTask'\r\nimport SearchMixins from '@/pages/mixins/SearchMixins'\r\nexport default {\r\n    components: {\r\n        SearchBar,\r\n        SearchCol,\r\n        DataTable,\r\n        AddTalkTask,\r\n        ViewTalkTask\r\n    },\r\n    mixins: [SearchMixins],\r\n    data(){\r\n        return{\r\n            showAdd: false, // 新建开口任务\r\n            showView: false, // 查看开口任务\r\n            currentRow: {},\r\n        }\r\n    },\r\n    created(){\r\n        // 找不到的方法在searchMixins.vue 组件里面\r\n        this.initData();\r\n        this.queryData();\r\n    },\r\n    methods: {\r\n        initData(){\r\n            this.initSearch(); // 初始化搜索列\r\n            this.initTable();\r\n            this.openTaskOption();\r\n        },\r\n        initSearch(){\r\n            // 使用key防止在数组中间插入一列后，只要改变key的下标值就可以\r\n            this.search = { \r\n                list: [\r\n                    {\r\n                        type: 'input', \r\n                        label: '任务名称', \r\n                        currentVal: '',\r\n                    },{\r\n                        type: 'input', \r\n                        label: '任务内容', \r\n                        currentVal: '', \r\n                    },{\r\n                        type: 'select', \r\n                        label: '适用坐席组', \r\n                        currentVal: '', \r\n                        isAll: true,\r\n                        isAllTitle: '全部',\r\n                        selectOptions:[], \r\n                        optionLabel:'title', \r\n                        optionValue:\"id\", \r\n                    },{\r\n                        type: 'select', \r\n                        label: '状态', \r\n                        currentVal: '',\r\n                        isAll: true,\r\n                        isAllTitle: '全部', \r\n                        selectOptions:[], \r\n                        optionLabel:'title', \r\n                        optionValue:\"id\", \r\n                    },{\r\n                        type: 'datePicker', \r\n                        label: '任务结束时间', \r\n                        currentVal: '', \r\n                    }\r\n                ],\r\n                name: 0, // 任务名称\r\n                content: 1, // 任务内容\r\n                group: 2,  // 分配坐席组\r\n                state: 3,  // 状态\r\n                time: 4,  // 任务结束时间\r\n            }\r\n        },\r\n        openTaskOption(){\r\n            this.$fetch.callCenter.openTaskListOptions({}).then((res)=>{\r\n                const {dccGroup, status} = res.data.data; \r\n                this.search.list[this.search.group].selectOptions = this.$hasArrContent(dccGroup)?dccGroup:[]; \r\n                this.search.list[this.search.state].selectOptions = this.$hasArrContent(status)?status:[]; \r\n            })\r\n        },\r\n        initTable(){\r\n            this.dataTable = {\r\n                tr: [{\r\n                      id: '1',\r\n                      label: '操作选项',\r\n                      prop: 'caozuo',\r\n                      show:'template',\r\n                      width: '220'\r\n                    },{\r\n                      id: '2',\r\n                      label: '任务ID',\r\n                      prop: 'id',\r\n                      tooltip:true\r\n                    },{\r\n                      id: '3',\r\n                      label: '任务名称',\r\n                      prop: 'title',\r\n                      tooltip:true\r\n                    },{\r\n                      id: '4',\r\n                      label: '任务内容',\r\n                      prop: 'contentOverview',\r\n                      show:'template',\r\n                      tooltip:true,\r\n                      minWidth: '150'\r\n                    },{\r\n                      id: '5',\r\n                      label: '适用坐席组',\r\n                      prop: 'dccGroup',\r\n                      show:'template',\r\n                      tooltip:true,\r\n                      minWidth: '100'\r\n                    },{\r\n                      id: '6',\r\n                      label: '适用场景',\r\n                      prop: 'scenarioTitle',\r\n                      tooltip:true\r\n                    },{\r\n                      id: '7',\r\n                      label: '任务开始时间',\r\n                      prop: 'startDate',\r\n                      tooltip:true,\r\n                      minWidth: '110'\r\n                    },{\r\n                      id: '8',\r\n                      label: '任务结束时间',\r\n                      prop: 'endDate',\r\n                      tooltip:true,\r\n                      minWidth: '110'\r\n                    },{\r\n                      id: '9',\r\n                      label: '状态',\r\n                      prop: 'statusTitle',\r\n                      tooltip:true\r\n                    },{\r\n                      id: '10',\r\n                      label: '更新时间',\r\n                      prop: 'updateDate',\r\n                      tooltip:true,\r\n                      minWidth: '110'\r\n                    }\r\n                ],\r\n                data: [],\r\n                page: {\r\n                    totalCount: 0,\r\n                    pageSize: 20,\r\n                    currentPage: 1\r\n                },\r\n                hasSelect: false, //是否有复选框\r\n                hasExpand: false, //是否有收缩功能\r\n                hasFirstPagination: true, //是否有第一条分页条\r\n                showScrollBar: true, // 是否显示scrollWithBar 组件\r\n                search: {\r\n                    value:'',\r\n                    show: false,\r\n                    width: \"300\", //快捷搜索输入框宽度\r\n                    placeholder: \"请输入任务名称\", //快捷搜索输入框提示文字\r\n                    displayCol: [\"name\",\"tel\"], //弹出需要显示的列\r\n                    parma: {\r\n                      id: \"\"\r\n                    }\r\n                },\r\n            }\r\n        },\r\n        getParams(){\r\n            const { currentPage, pageSize } = this.dataTable.page;\r\n            const { name, content, group, state, time, list } = this.search;\r\n\r\n            let params = {\r\n                title: list[name].currentVal,      // 任务名称\r\n                content: list[content].currentVal,     // 任务内容\r\n                dccGroup: list[group].currentVal,    // 分配坐席组\r\n                status: list[state].currentVal,     // 状态\r\n                startDate: list[time].currentVal && list[time].currentVal[0]+ ' 00:00:00', // 任务结束时间\r\n                endDate: list[time].currentVal && list[time].currentVal[1]+ ' 23:59:59',  // 任务结束时间\r\n                pageSize: pageSize,     // 每页数量\r\n                page: currentPage,          // 当前页\r\n            }\r\n            return params;\r\n        },\r\n        queryData(){\r\n            let that = this;\r\n            let params = this.getParams();\r\n            this.$fetch.callCenter.openTaskList(params).then((res)=>{\r\n                this.$handleResponse(res, res=>{\r\n                    that.dataTable.data = res.list?res.list:[]; //表格所需数据\r\n                    that.dataTable.page = res.page?res.page:that.dataTable.page; //表格所需页面\r\n                },true);\r\n            }).catch(()=>{\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        taskToggle(row){\r\n            this.$confirm(`您确定要${row.status ==1?'下':'上'}架此开口任务吗`, \"提示\", {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"warning\",\r\n                customClass: \"needCenterStyle\",\r\n                cancelButtonClass: \"big cancel\",\r\n                confirmButtonClass: \"big\",\r\n                roundButton: true,\r\n            }).then(() => {\r\n                this.$fetch.callCenter.openTaskToggle({'id': row.id}).then((res)=>{\r\n                    this.$handleResponse(res, res=>{\r\n                        this.$message.success(`${row.status ==1?'下':'上'}架成功`);\r\n                        this.queryData();\r\n                    },true);\r\n                }).catch(()=>{\r\n                    this.$store.commit('closeLoading');\r\n                })\r\n            })\r\n        },\r\n        deleteTask(row){\r\n            this.$confirm(\"您确定要删除此开口任务吗?\", \"提示\", {\r\n             confirmButtonText: \"确定\",\r\n             cancelButtonText: \"取消\",\r\n             type: \"warning\",\r\n             customClass: \"needCenterStyle\",\r\n             cancelButtonClass: \"big cancel\",\r\n             confirmButtonClass: \"big\",\r\n             roundButton: true,\r\n            }).then(() => {\r\n                this.$fetch.callCenter.openTaskDelete({'id': row.id}).then((res)=>{\r\n                    this.$handleResponse(res, res=>{\r\n                        this.$message.success('删除成功');\r\n                        this.queryData();\r\n                    },true);\r\n                }).catch(()=>{\r\n                    this.$store.commit('closeLoading');\r\n                })\r\n            })\r\n        },\r\n        viewFn(row){\r\n            this.currentRow = row;\r\n            this.showView=true;\r\n        },\r\n        HandleFn(type, row){\r\n            this.currentRow = row;\r\n            this.showAdd = true;\r\n        },\r\n        closeAddFn(type){\r\n            this.$store.commit('closeLoading');\r\n            this.showAdd=false;\r\n            if(type == 'success'){\r\n                this.queryData();\r\n            }\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/call-center/task/TalkTask.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"talk-task-page m-20 common-box\"},[_c('search-bar',{staticClass:\"m-t-10 p-20\",attrs:{\"size\":\"medium\"},on:{\"clear\":_vm.clear,\"find\":_vm.find}},[_c('div',{staticClass:\"search-flex\"},[_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.name],\"placeholder\":'请输入'}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.content],\"placeholder\":'请输入'}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.group],\"filterable\":\"\"}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.state]}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.time],\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"p-l-r-20 p-b-20\"},[_c('data-table',{ref:\"DataTableRef\",attrs:{\"table\":_vm.dataTable},on:{\"searchTable\":_vm.searchTable},scopedSlots:_vm._u([{key:\"caozuo\",fn:function(props){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.HandleFn('edit', props.obj.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-split\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.taskToggle(props.obj.row)}}},[_vm._v(_vm._s(props.obj.row.status==1?\"下架\":\"上架\"))]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-split red_font\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.deleteTask(props.obj.row)}}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-split\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.viewFn(props.obj.row)}}},[_vm._v(\"查看详情\")])]}},{key:\"contentOverview\",fn:function(props){return [_c('div',{staticClass:\"blue pointer\",on:{\"click\":function($event){return _vm.viewFn(props.obj.row)}}},[_vm._v(_vm._s(props.obj.row.contentOverview))])]}},{key:\"dccGroup\",fn:function(props){return [(props.obj.row.dccGroup && props.obj.row.dccGroup.length)?_c('span',[_vm._v(\"\\n                    \"+_vm._s(props.obj.row.dccGroup[0].title)+\"\\n                    \"),(props.obj.row.dccGroup[1])?_c('span',[_vm._v(\"、\"+_vm._s(props.obj.row.dccGroup[1].title))]):_vm._e(),_vm._v(\" \"),(props.obj.row.dccGroup.length > 2)?_c('span',[_vm._v(\"等\"+_vm._s(props.obj.row.dccGroup.length)+\"组\")]):_vm._e()]):_c('span',[_vm._v(\" --\")])]}}])},[_c('div',{attrs:{\"slot\":\"buttons\"},slot:\"buttons\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.HandleFn('add', {})}}},[_vm._v(\"新建开口任务\")])],1)])],1),_vm._v(\" \"),(_vm.showAdd)?_c('add-talk-task',{attrs:{\"rowInfo\":_vm.currentRow},on:{\"close\":_vm.closeAddFn}}):_vm._e(),_vm._v(\" \"),(_vm.showView)?_c('view-talk-task',{attrs:{\"id\":_vm.currentRow.id},on:{\"close\":function($event){_vm.showView=false}}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c85187d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/call-center/task/TalkTask.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c85187d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TalkTask.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TalkTask.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TalkTask.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c85187d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TalkTask.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4c85187d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/call-center/task/TalkTask.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}