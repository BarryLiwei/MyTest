webpackJsonp([28],{"7ZRI":function(n,e,t){(n.exports=t("UTlt")(!0)).push([n.i,"\n.add-seat-dialog[data-v-068f7e2c] .el-dialog__body{margin-top:8px;padding:35px 40px 20px 20px\n}\n.add-seat-dialog[data-v-068f7e2c] .el-dialog__footer{padding:0 0 30px\n}\n.el-form-item[data-v-068f7e2c]{margin-bottom:15px\n}\n.el-form-item[data-v-068f7e2c] .el-form-item__label{padding-right:20px\n}\n","",{version:3,sources:["D:/liu/vue-project/MyTest/src/pages/call-center/seat/seat-setting/D:/liu/vue-project/MyTest/src/pages/call-center/seat/seat-setting/AddSeat.vue"],names:[],mappings:";AAsKA,mDACI,eACA,2BAA4B;CAC/B;AAAA,qDAGG,gBAAiB;CACpB;AAAA,+BAGG,kBAAmB;CACtB;AAAA,oDAEG,kBAAmB;CACtB",file:"AddSeat.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.add-seat-dialog /deep/.el-dialog__body {\r\n    margin-top: 8px;\r\n    padding: 35px 40px 20px 20px;\r\n}\r\n\r\n.add-seat-dialog /deep/.el-dialog__footer {\r\n    padding: 0 0 30px;\r\n}\r\n\r\n.el-form-item {\r\n    margin-bottom: 15px;\r\n}\r\n.el-form-item /deep/.el-form-item__label{\r\n    padding-right: 20px;\r\n}\r\n\r\n"],sourceRoot:""}])},Y1T2:function(n,e,t){var a=t("7ZRI");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("FIqI")("78f0144b",a,!1,{})},ey2y:function(n,e,t){var a=t("zaQQ");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("FIqI")("d61f392e",a,!1,{})},ifev:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("IaGi"),s=t("ufHF"),i=t("kfhN"),r={props:{rowItem:{type:Object,default:function(){return{}}}},components:{ScrmFormItem:i.a},data:function(){return{loading:!1,dialogVisible:!0,title:"添加坐席",seatOptions:[],form:{dccId:"",dccTel:"",seatId:"",roleName:""},userOptions:[]}},created:function(){if("edit"==this.rowItem.type){this.title="编辑坐席";var n=this.rowItem.row;this.form.id=n.id,this.form.dccId=n.dccId,this.form.dccTel=n.dccTel,this.form.roleName=n.roleName,this.form.seatId=n.seatNumberId}this.initAdd()},methods:{initAdd:function(){var n=this,e=this.rowItem,t=e.type,a=e.row;this.$fetch.callCenter.initFormSeat().then(function(e){n.$handleResponse(e,function(e){n.seatOptions=n.$hasArrContent(e.seatNumber)?e.seatNumber:[],"edit"==t&&n.seatOptions.unshift({id:a.seatNumberId,tel:a.seatTel?a.seatTel:"--"})},!0)}).catch(function(){n.$store.commit("closeLoading")}),this.getUserList()},getUserList:function(){var n=this;this.loading=!0,this.$fetch.callCenter.seatDccSelectList().then(function(e){n.loading=!1,n.$handleResponse(e,function(e){var t=n.$hasArrContent(e)?e:[],a=n.rowItem,s=a.type,i=a.row;"edit"==s&&(n.checkOptionsHasId(i.dccId,t,"id")||n.userOptions.push({id:i.dccId,nickname:i.dccName?i.dccName:"--",tel:i.dccTel,roleName:i.roleName})),n.userOptions=n.userOptions.concat(t),n.userObj={},n.userOptions&&n.userOptions.length&&n.userOptions.forEach(function(e){n.userObj[e.id]=e})},!1)}).catch(function(e){n.loading=!1})},checkOptionsHasId:function(n,e,t){var a=!1;if(n>-1)for(var s=0;s<e.length;s++)if(e[s][t]==n){a=!0;break}return a},dccChange:function(){this.form.dccTel=this.userObj[this.form.dccId].tel,this.form.roleName=this.userObj[this.form.dccId].roleName},getParams:function(){var n=this.form,e=n.dccId,t=n.seatId,a=n.id;return e?t?{dccId:e,seatNumberId:t,id:a}:(this.$message.error("绑定坐席号码不为空"),!1):(this.$message.error("DCC邀约员不为空"),!1)},addFn:function(){var n=this,e=this.getParams();if(e){this.loading=!0;var t="add"==this.rowItem.type?"createSeat":"updateSeat";this.$fetch.callCenter[t](e).then(function(e){n.loading=!1,n.$handleResponse(e,function(e){n.$message.success(("add"==n.rowItem.type?"新增":"编辑")+"成功"),n.$emit("close","success")},!0)}).catch(function(){n.loading=!1,n.$store.commit("closeLoading")})}},cancel:function(){this.$emit("close","cancel")}}},o=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("el-dialog",{staticClass:"add-seat-dialog",attrs:{title:n.title,visible:n.dialogVisible,width:"550px","append-to-body":"","close-on-click-modal":!1,"before-close":n.cancel},on:{"update:visible":function(e){n.dialogVisible=e}}},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],ref:"form",attrs:{"label-width":"120px"}},[t("scrm-form-item",{attrs:{itemLabel:"姓名",itemType:"select",itemRequired:!0,itemClass:"form_required_after",subClass:"w-100-percent",placeholder:"请选择",itemInfo:n.form,itemKey:"dccId",filterable:!0,selectOptions:n.userOptions,optionLabel:"nickname",optionValue:"id"},on:{change:n.dccChange}}),n._v(" "),t("scrm-form-item",{attrs:{itemLabel:"手机号",itemType:"input",itemRequired:!0,itemClass:"form_required_after",subClass:"w-100-percent",placeholder:"请选择",itemInfo:n.form,itemKey:"dccTel",disabled:!0}}),n._v(" "),t("el-form-item",{staticClass:"form_required_after",attrs:{label:"角色",required:!0}},[n._v("\n            "+n._s(n._f("filterBlank")(n.form.roleName))+"\n        ")]),n._v(" "),t("scrm-form-item",{attrs:{itemLabel:"绑定坐席号码",itemType:"select",itemRequired:!0,itemClass:"form_required_after",subClass:"w-100-percent",placeholder:"请选择",itemInfo:n.form,itemKey:"seatId",filterable:!0,selectOptions:n.seatOptions,optionLabel:"tel",optionValue:"id"}})],1),n._v(" "),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticClass:"w-90",attrs:{round:"",size:"small"},on:{click:n.cancel}},[n._v("取 消")]),n._v(" "),t("el-button",{staticClass:"w-90",attrs:{round:"",size:"small",type:"primary",disabled:n.loading},on:{click:n.addFn}},[n._v("确 定")])],1)],1)};o._withStripped=!0;var l={render:o,staticRenderFns:[]},c=l;var d=!1;var p=t("C7Lr")(r,c,!1,function(n){d||t("Y1T2")},"data-v-068f7e2c",null);p.options.__file="src/pages/call-center/seat/seat-setting/AddSeat.vue";var u=p.exports,h=t("PdD4"),m={components:{SearchCol:a.a,DataTable:s.a,AddSeat:u},mixins:[h.a],data:function(){return{seatInfo:{show:!1,type:"add",row:{}}}},created:function(){this.initData(),this.queryData()},methods:{initData:function(){this.initSearch(),this.initTable()},initSearch:function(){var n=this;this.search={list:[{type:"input",label:"关键字",currentVal:""},{type:"select",label:"坐席组",currentVal:"",isAll:!0,isAllTitle:"全部",selectOptions:[],optionLabel:"title",optionValue:"id"}],keyword:0,groupSeat:1},this.$fetch.callCenter.seatListOption({}).then(function(e){n.$handleResponse(e,function(e){n.search.list[n.search.groupSeat].selectOptions=n.$hasArrContent(e.dccGroup)?e.dccGroup:[]},!1)})},initTable:function(){this.dataTable={tr:[{id:"1",label:"坐席号",prop:"thirdSeatId",align:"center"},{id:"2",label:"姓名",prop:"dccNickname",tooltip:!0,align:"center"},{id:"3",label:"角色",prop:"roleName",tooltip:!0,align:"center"},{id:"4",label:"手机号",prop:"dccTel",tooltip:!0,align:"center"},{id:"5",label:"所属坐席组",prop:"dccGroupTitle",tooltip:!0,align:"center"},{id:"6",label:"坐席电话",prop:"seatTel",tooltip:!0,align:"center"},{id:"7",label:"操作",prop:"caozuo",show:"template",minWidth:"120",align:"center"}],data:[],page:{totalCount:0,pageSize:20,currentPage:1},border:!0,hasSelect:!1,hasExpand:!1,hasFirstPagination:!0,lastPageLayout:"sizes, prev, pager, next",search:{}}},getParams:function(){var n=this.dataTable.page,e=n.currentPage,t=n.pageSize,a=this.search,s=a.keyword,i=a.groupSeat,r=a.list;return{kwd:r[s].currentVal,dccGroupId:r[i].currentVal,pageSize:t,page:e}},queryData:function(){var n=this,e=this,t=this.getParams();this.$fetch.callCenter.seatList(t).then(function(t){n.$handleResponse(t,function(n){e.dataTable.data=n.list?n.list:[],e.dataTable.page=n.page?n.page:e.dataTable.page},!0)}).catch(function(){n.$store.commit("closeLoading")})},handleFn:function(n,e){this.seatInfo.type=n,this.seatInfo.row=e,this.seatInfo.show=!0},closeSeat:function(n){"success"==n&&this.queryData(),this.seatInfo.show=!1}}},f=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"seat-setting-page m-20 common-box "},[t("div",{staticClass:"search-flex search-wrap"},[t("search-col",{staticClass:"seat-search",attrs:{info:n.search.list[n.search.keyword],placeholder:"DCC邀约员/手机号/坐席号"}}),n._v(" "),t("search-col",{staticClass:"seat-search",attrs:{info:n.search.list[n.search.groupSeat],placeholder:"请选择"}}),n._v(" "),t("search-col",{staticClass:"seat-search-btn",attrs:{leftCol:0,rightCol:24}},[t("div",{attrs:{slot:"custom"},slot:"custom"},[t("el-button",{staticClass:"m-l-30 w-110",attrs:{round:"",icon:"el-icon-search",size:"small",type:"primary"},on:{click:n.find}},[n._v("查询")]),n._v(" "),t("el-button",{attrs:{round:"",icon:"el-icon-delete",size:"small",plain:""},on:{click:n.clear}},[n._v("清空查询条件")])],1)])],1),n._v(" "),t("div",{staticClass:"separate-line w-100-percent"}),n._v(" "),t("div",{staticClass:"p-l-r-20 m-b-20"},[t("data-table",{ref:"DataTableRef",staticClass:"table-cyan",attrs:{table:n.dataTable},on:{searchTable:n.searchTable},scopedSlots:n._u([{key:"caozuo",fn:function(e){return[t("el-button",{staticClass:"blue_font_white_bg",attrs:{plain:"",round:"",size:"mini"},on:{click:function(t){return n.handleFn("edit",e.obj.row)}}},[n._v("编辑")])]}}])},[t("div",{attrs:{slot:"buttons"},slot:"buttons"},[t("el-button",{staticClass:"m-b-20",attrs:{round:"",icon:"el-icon-plus",size:"small",type:"primary"},on:{click:function(e){return n.handleFn("add",{})}}},[n._v("新增坐席")])],1)])],1),n._v(" "),n.seatInfo.show?t("add-seat",{attrs:{rowItem:n.seatInfo},on:{close:n.closeSeat}}):n._e()],1)};f._withStripped=!0;var g={render:f,staticRenderFns:[]},A=g;var b=!1;var v=t("C7Lr")(m,A,!1,function(n){b||t("ey2y")},"data-v-4354b2a2",null);v.options.__file="src/pages/call-center/seat/seat-setting/SeatSetting.vue";e.default=v.exports},zaQQ:function(n,e,t){(n.exports=t("UTlt")(!0)).push([n.i,"\n.search-wrap[data-v-4354b2a2]{padding:30px 20px 5px\n}\n.seat-search.el-col-6[data-v-4354b2a2]{width:400px\n}\n.seat-search-btn.el-col-6[data-v-4354b2a2]{width:310px\n}\n.seat-search-add.el-col-6[data-v-4354b2a2]{width:calc(100% - 700px);text-align:right\n}\n.seat-setting-page .note[data-v-4354b2a2]{color:#a8a8a8;font-size:14px;margin-top:9px;padding-right:5px\n}\n","",{version:3,sources:["D:/liu/vue-project/MyTest/src/pages/call-center/seat/seat-setting/D:/liu/vue-project/MyTest/src/pages/call-center/seat/seat-setting/SeatSetting.vue"],names:[],mappings:";AA+LA,8BACI,qBAAsB;CACzB;AAAA,uCAEG,WAAY;CACf;AAAA,2CAEG,WAAY;CACf;AAAA,2CAEG,yBACA,gBAAiB;CACpB;AAAA,0CAGG,cACA,eACA,eACA,iBAAkB;CACrB",file:"SeatSetting.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.search-wrap {\r\n    padding: 30px 20px 5px;\r\n}\r\n.seat-search.el-col-6{\r\n    width: 400px;\r\n}\r\n.seat-search-btn.el-col-6 {\r\n    width: 310px;\r\n}\r\n.seat-search-add.el-col-6{\r\n    width: calc(100% - 700px);\r\n    text-align: right;\r\n}\r\n\r\n.seat-setting-page .note {\r\n    color: #a8a8a8;\r\n    font-size: 14px;\r\n    margin-top: 9px;\r\n    padding-right: 5px;\r\n}\r\n"],sourceRoot:""}])}});
//# sourceMappingURL=28.b0891fbbaee91b57a8b3.js.map