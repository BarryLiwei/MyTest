webpackJsonp([25],{"6Yzn":function(e,t,r){var o=r("tL+b");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("FIqI")("7d4087c2",o,!1,{})},ArYs:function(e,t,r){(e.exports=r("UTlt")(!0)).push([e.i,"\n.order-detail-dialog[data-v-da41d55a] .el-dialog__body{padding:30px 30px 36px\n}\n.box-right[data-v-da41d55a]{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse\n}\n[data-v-da41d55a].el-table .el-table__body .el-table__row tr:hover>td{background-color:#fff !important\n}\n.table_first[data-v-da41d55a]{border-bottom:0px solid #ddd\n}\n","",{version:3,sources:["D:/liu/vue-project/MyTest/src/pages/business/order/D:/liu/vue-project/MyTest/src/pages/business/order/OrderDetail.vue"],names:[],mappings:";AAwHA,uDACI,sBAAuB;CAC1B;AAAA,4BAGG,8BAAA,8BAAA,+BAAA,0BAA2B;CAC9B;AAAA,sEAGG,gCAAgC;CACnC;AAAA,8BAGG,4BAA6B;CAChC",file:"OrderDetail.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.order-detail-dialog /deep/.el-dialog__body {\r\n    padding: 30px 30px 36px;\r\n}\r\n\r\n.box-right {\r\n    flex-direction: row-reverse;\r\n}\r\n\r\n/deep/.el-table .el-table__body .el-table__row tr:hover>td{\r\n    background-color: #fff!important;\r\n}\r\n\r\n.table_first {\r\n    border-bottom: 0px solid #ddd;\r\n}\r\n"],sourceRoot:""}])},fuAV:function(e,t,r){var o=r("ArYs");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("FIqI")("b7864568",o,!1,{})},iqac:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("aA9S"),a=r.n(o),i=r("4YfN"),n=r.n(i),l=r("kciL"),s=r("/Uby"),d=r("IaGi"),c=r("ufHF"),p=r("RbfQ"),h=r("CKy9"),u=r("PdD4"),b={props:{row:{type:Object,default:function(){return{}}}},data:function(){return{showDialog:!0,info:[]}},created:function(){this.initRowData(),this.initData()},methods:{initData:function(){this.rowConfig=[{left:{label:"客户ID",key:"userId"},right:{label:"订单状态",key:"orderStatus"}},{left:{label:"客户姓名",key:"nickname"},right:{label:"下订时间",key:"orderTime"}},{left:{label:"手机号码",key:"tel"},middle:{label:"意向等级",key:"level"},right:{label:"交车时间",key:"orderDeliveryTime"}}],this.tableConfig=[[{header:"跟进DCC",key:"dccName"},{header:"订单编号",key:"orderId"},{header:"订单门店",key:"orderAreaName"},{header:"销售顾问",key:"orderAdvisorName"},{header:"订单姓名",key:"orderNickname"},{header:"订单电话",key:"orderTel"},{header:"订单品牌",key:"orderBrand"}],[{header:"订单车系",key:"orderCarSeries"},{header:"订单车型",key:"orderModel"},{header:"购买保险",key:"orderIsInsuranceName"},{header:"是否贷款",key:"orderIsMortgageName"},{header:"车牌号",key:"orderLicensePlate"},{header:"VIN",key:"orderVin"},{header:"客户来源",key:"customFrom"}]]},initRowData:function(){var e=this.$deepCopyContent(this.row),t=[];this.row.orderFromTopName&&t.push(this.row.orderFromTopName),this.row.orderFromSecondName&&t.push(this.row.orderFromSecondName),e.customFrom=t.join("-"),this.info.push(e)},getDetail:function(){},seeArchive:function(){this.$router.push({path:"/business/potential/detail",query:{id:this.row.intentionId}}),this.$emit("cancel")},cancel:function(){this.$emit("cancel")}}},f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{staticClass:"order-detail-dialog",attrs:{title:"订单详情",visible:e.showDialog,width:"900px","append-to-body":"","close-on-click-modal":!1,"before-close":e.cancel},on:{"update:visible":function(t){e.showDialog=t}}},[r("el-button",{staticClass:"m-b-20",attrs:{round:"",size:"small",type:"primary"},on:{click:e.seeArchive}},[e._v("潜客详情")]),e._v(" "),e._l(e.rowConfig,function(t,o){return r("div",{key:"row"+o,staticClass:"flex  m-b-15"},[r("div",{staticClass:"flex-1 flex"},[r("div",{staticClass:"w-90"},[e._v(e._s(t.left.label))]),e._v(" "),r("div",{staticClass:"flex-1 m-l-15"},[e._v(" "+e._s(e._f("filterBlank")(e.row[t.left.key])))]),e._v(" "),"手机号码"==t.left.label?r("div",{staticClass:"w-90 p-l-10"},[e._v(e._s(t.middle.label))]):e._e(),e._v(" "),"手机号码"==t.left.label?r("div",{staticClass:"flex-1"},[e._v(" "+e._s(e._f("filterBlank")(e.row[t.middle.key])))]):e._e()]),e._v(" "),t.right?r("div",{staticClass:"flex-1 flex box-right"},[r("div",{staticClass:"w-140 m-l-15"},[e._v(e._s(e._f("filterBlank")(e.row[t.right.key])))]),e._v(" "),r("div",{staticClass:"w-90"},[e._v(e._s(t.right.label))])]):e._e()])}),e._v(" "),r("div",{staticClass:"table-content"},[r("el-table",{staticClass:"table_first",staticStyle:{width:"100%"},attrs:{data:e.info,border:""}},e._l(e.tableConfig[0],function(t,o){return r("el-table-column",{key:"first"+o,attrs:{label:t.header,align:"center"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                    "+e._s(e._f("filterBlank")(r.row[t.key]))+"\n                ")]}}],null,!0)})}),1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.info,border:""}},e._l(e.tableConfig[1],function(t,o){return r("el-table-column",{key:"first"+o,attrs:{label:t.header,align:"center"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                    "+e._s(e._f("filterBlank")(r.row[t.key]))+"\n                ")]}}],null,!0)})}),1)],1)],2)};f._withStripped=!0;var m={render:f,staticRenderFns:[]},v=m;var _=!1;var g=r("C7Lr")(b,v,!1,function(e){_||r("fuAV")},"data-v-da41d55a",null);g.options.__file="src/pages/business/order/OrderDetail.vue";var y=g.exports,A={components:{SearchBar:s.a,SearchCol:d.a,DataTable:c.a,ExportLog:p.a,CommonExport:h.a,OrderDetail:y},mixins:[u.a],data:function(){return{showDialog:!1,rowInfo:{},loading:!1}},created:function(){this.initData(),this.queryData()},computed:n()({},Object(l.b)(["roleKey"])),methods:{initData:function(){this.initSearch(),this.initTable(),this.initExport(),this.getDccList(),this.getBrandList(),this.getClueFrom(),this.getAreaOptions(),this.getOrderAdvisorOptions(),this.getClueLevelList()},initExport:function(){this.exportConfig={fileName:"订单导出",ext:"csv",idName:"id",select:[],taskType:"",url:"business.exportOrderExcel",other:{}},this.logConfig={listUrl:"business.exportOrderLog",downUrl:"business.exportOrderExcel"}},initSearch:function(){this.search={list:[{prop:"dccGroup",type:"select",label:"跟进坐席组",currentVal:"",selectOptions:[],optionLabel:"dccGroupName",optionValue:"id"},{prop:"dcc",type:"select",label:"跟进DCC",currentVal:"",isAll:!0,isAllTitle:"全部",selectOptions:[],optionLabel:"dccName",optionValue:"id"},{prop:"customer",type:"cascader",label:"客户来源",currentVal:"",oneVal:"",oneOptions:[],oneOptionLabel:"title",oneOptionValue:"id",secondVal:"",isAll:!0,isAllTitle:"全部",secondOptions:[],secondOptionLabel:"title",secondOptionValue:"id"},{prop:"brand",type:"select",label:"订单品牌",currentVal:"",selectOptions:[],optionLabel:"title",optionValue:"id"},{prop:"series",type:"select",label:"订单车系",currentVal:"",isAll:!0,isAllTitle:"全部",selectOptions:[],optionLabel:"title",optionValue:"id"},{prop:"model",type:"select",label:"订单车型",currentVal:"",isAll:!0,isAllTitle:"全部",selectOptions:[],optionLabel:"title",optionValue:"id"},{prop:"area",type:"select",label:"订单门店",currentVal:"",isAll:!0,isAllTitle:"全部",selectOptions:[],optionLabel:"title",optionValue:"id"},{prop:"advisor",type:"select",label:"销售顾问",currentVal:"",isAll:!0,isAllTitle:"全部",selectOptions:[],optionLabel:"advisorName",optionValue:"advisorTel"},{prop:"insurance",type:"select",label:"购买保险",currentVal:"",isAll:!0,isAllTitle:"全部",selectOptions:[{title:"是",id:1},{title:"否",id:2}],optionLabel:"title",optionValue:"id"},{prop:"loan",type:"select",label:"是否贷款",currentVal:"",isAll:!0,isAllTitle:"全部",selectOptions:[{title:"是",id:1},{title:"否",id:2}],optionLabel:"title",optionValue:"id"},{prop:"order",type:"datePicker",label:"下订时间",currentVal:""},{prop:"level",type:"select",label:"意向等级",currentVal:"",isAll:!0,isAllTitle:"全部",selectOptions:[],optionLabel:"title",optionValue:"id"}],dccGroup:0,dcc:1,customer:2,brand:3,series:4,model:5,area:6,advisor:7,insurance:8,loan:9,order:10,level:11}},initTable:function(){this.dataTable={tr:[{id:"1",label:"操作选项",prop:"caozuo",show:"template",minWidth:"80"},{id:"2",label:"客户ID",prop:"userId",tooltip:!0,minWidth:"100"},{id:"3",label:"客户姓名",prop:"nickname",tooltip:!0,minWidth:"100"},{id:"4",label:"手机号码",prop:"tel",tooltip:!0,minWidth:"120"},{id:"5",label:"意向等级",prop:"level",tooltip:!0,minWidth:"100"},{id:"6",label:"跟进坐席组",prop:"dccGroupName",tooltip:!0,minWidth:"120"},{id:"7",label:"跟进DCC",prop:"dccName",tooltip:!0,minWidth:"120"},{id:"8",label:"订单编号",prop:"orderId",tooltip:!0,minWidth:"120"},{id:"9",label:"订单门店",prop:"orderAreaName",tooltip:!0,minWidth:"120"},{id:"10",label:"销售顾问",prop:"orderAdvisorName",tooltip:!0,minWidth:"120"},{id:"13",label:"订单品牌",prop:"orderBrand",tooltip:!0,minWidth:"120"},{id:"14",label:"订单车系",prop:"orderCarSeries",tooltip:!0,minWidth:"120"},{id:"15",label:"订单车型",prop:"orderModel",tooltip:!0,minWidth:"200"},{id:"16",label:"购买保险",prop:"orderIsInsuranceName",tooltip:!0,minWidth:"100"},{id:"17",label:"是否贷款",prop:"orderIsMortgageName",tooltip:!0,minWidth:"100"},{id:"18",label:"车牌号",prop:"orderLicensePlate",tooltip:!0,minWidth:"100"},{id:"19",label:"VIN",prop:"orderVin",tooltip:!0,minWidth:"100"},{id:"20",label:"客户来源",prop:"from",show:"template",tooltip:!0,minWidth:"130"},{id:"21",label:"订单状态",prop:"orderStatus",tooltip:!0,minWidth:"110"},{id:"22",label:"下订时间",prop:"orderTime",tooltip:!0,minWidth:"170"},{id:"23",label:"交车时间",prop:"orderDeliveryTime",tooltip:!0,minWidth:"170"}],data:[],page:{totalCount:0,pageSize:20,currentPage:1},hasSelect:!0,hasExpand:!1,hasFirstPagination:!0,showScrollBar:!0,search:{value:"",show:!0,url:"business.queryInvitelList",width:"300",placeholder:"请输入手机号码、客户姓名",displayCol:["nickname","tel"],params:{id:""}}}},getParams:function(){var e=this.dataTable.page,t=e.currentPage,r=e.pageSize,o=this.search,a=o.dccGroup,i=o.dcc,n=o.level,l=o.customer,s=o.brand,d=o.series,c=o.model,p=o.area,h=o.advisor,u=o.insurance,b=o.loan,f=o.order,m=o.list;return{dccGroupId:m[a].currentVal,dccId:m[i].currentVal,level:m[n].currentVal,fromTopId:m[l].oneVal,fromSecondId:m[l].secondVal,orderBrandId:m[s].currentVal,orderCarSeriesId:m[d].currentVal,orderModelId:m[c].currentVal,orderAreaId:m[p].currentVal,orderAdvisorKeyword:m[h].currentVal,orderIsInsurance:m[u].currentVal,orderIsMortgage:m[b].currentVal,orderStartTime:m[f].currentVal&&m[f].currentVal[0]+" 00:00:00",orderEndTime:m[f].currentVal&&m[f].currentVal[1]+" 23:59:59",pageSize:r,page:t}},queryData:function(){var e=this,t=this,r=this.getParams();this.exportConfig.other=a()({},r),this.$fetch.business.queryOrderlList(r).then(function(r){e.$handleResponse(r,function(e){t.dataTable.data=e.list?e.list:[],t.dataTable.page=e.page?e.page:t.dataTable.page},!0)}).catch(function(){e.$store.commit("closeLoading")})},seeDetail:function(e){this.rowInfo=e,this.showDialog=!0},remoteMethod:function(e){this.loading=!0,this.getOrderAdvisorOptions(e)},getOrderAdvisorOptions:function(e){var t=this;this.$fetch.business.orderAdvisorList({orderAdvisorKeyword:e},!1,!1).then(function(e){t.loading=!1,t.$handleResponse(e,function(e){t.search.list[t.search.advisor].selectOptions=t.$hasArrContent(e.list)?e.list:[]},!1)}).catch(function(e){t.loading=!1})}}},w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"deal-list-page m-20 common-box"},[r("search-bar",{staticClass:"m-t-10 p-20",attrs:{size:"medium"},on:{clear:e.clear,find:e.find}},[r("div",{staticClass:"search-flex"},[["dcc_supervisor","dcc_group_leader","dcc_inviter"].indexOf(e.roleKey)>-1?r("search-col",{attrs:{info:e.search.list[e.search.dccGroup],filterable:""},on:{change:e.changeDccGroup}}):e._e(),e._v(" "),["dcc_supervisor","dcc_group_leader","dcc_inviter"].indexOf(e.roleKey)>-1?r("search-col",{attrs:{info:e.search.list[e.search.dcc],filterable:""}}):e._e(),e._v(" "),r("search-col",{attrs:{info:e.search.list[e.search.level]}}),e._v(" "),r("search-col",{attrs:{info:e.search.list[e.search.customer],size:"small"},on:{fristChange:e.changeFrom}}),e._v(" "),r("search-col",{attrs:{info:e.search.list[e.search.brand]},on:{change:e.changeBrand}}),e._v(" "),r("search-col",{attrs:{info:e.search.list[e.search.series]},on:{change:e.changeSeries}}),e._v(" "),r("search-col",{attrs:{info:e.search.list[e.search.model]}}),e._v(" "),r("search-col",{attrs:{info:e.search.list[e.search.area],filterable:""}}),e._v(" "),r("search-col",{attrs:{info:e.search.list[e.search.advisor],clearable:"",filterable:"",remote:"",selectPlaceholder:"请输入名字,手机号进行搜索","remote-method":e.remoteMethod,loading:e.loading},on:{clear:e.remoteMethod}}),e._v(" "),r("search-col",{attrs:{info:e.search.list[e.search.insurance]}}),e._v(" "),r("search-col",{attrs:{info:e.search.list[e.search.loan]}}),e._v(" "),r("search-col",{attrs:{info:e.search.list[e.search.order],type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"}})],1)]),e._v(" "),r("div",{staticClass:"p-l-r-20 p-b-20"},[r("data-table",{ref:"DataTableRef",attrs:{table:e.dataTable},on:{searchTable:e.searchTable,onHandleSelectionChange:e.handleSelectionChange},scopedSlots:e._u([{key:"caozuo",fn:function(t){return[t.obj.row.intentionId?r("el-button",{staticClass:"blue_font_white_bg",attrs:{plain:"",round:"",size:"mini"},on:{click:function(r){return e.seeDetail(t.obj.row)}}},[e._v("查看")]):r("span",[e._v("--")])]}},{key:"from",fn:function(t){return[t.obj.row.orderFromTopName?r("span",[e._v(e._s(t.obj.row.orderFromTopName)+" ")]):e._e(),e._v(" "),t.obj.row.orderFromTopName&&t.obj.row.orderFromSecondName?r("span",[e._v("--")]):e._e(),e._v(" "),t.obj.row.orderFromSecondName?r("span",[e._v(e._s(t.obj.row.orderFromSecondName)+" ")]):e._e(),e._v(" "),t.obj.row.orderFromTopName||t.obj.row.orderFromSecondName?e._e():r("span",[e._v("--")])]}}])},[r("div",{attrs:{slot:"buttons"},slot:"buttons"})])],1),e._v(" "),e.showDialog?r("order-detail",{attrs:{row:e.rowInfo},on:{cancel:function(t){e.showDialog=!1}}}):e._e()],1)};w._withStripped=!0;var C={render:w,staticRenderFns:[]},k=C;var x=!1;var V=r("C7Lr")(A,k,!1,function(e){x||r("6Yzn")},"data-v-44ab10e2",null);V.options.__file="src/pages/business/order/Order.vue";t.default=V.exports},"tL+b":function(e,t,r){(e.exports=r("UTlt")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Order.vue",sourceRoot:""}])}});
//# sourceMappingURL=25.9d22df0897b84a82edc7.js.map