{"version":3,"sources":["webpack:///src/pages/call-center/seat/seat-manage/SeatManage.vue","webpack:///./src/pages/call-center/seat/seat-manage/SeatManage.vue?01db","webpack:///./src/pages/call-center/seat/seat-manage/SeatManage.vue","webpack:///src/pages/call-center/seat/seat-manage/component/AddSeatDialog.vue","webpack:///./src/pages/call-center/seat/seat-manage/component/AddSeatDialog.vue?a7de","webpack:///./src/pages/call-center/seat/seat-manage/component/AddSeatDialog.vue"],"names":["SeatManage","components","SearchCol","DataTable","table","AddSeatDailog","AddSeatDialog","mixins","SearchMixins","data","showDcc","dccConfig","created","this","initData","queryData","methods","initDccConfig","initSearch","initTable","search","list","type","label","currentVal","keyword","selectOptions","optionLabel","optionValue","itemInfo","ids","itemKey","isCheckRemove","dataTable","tr","id","prop","align","tooltip","show","minWidth","page","totalCount","pageSize","currentPage","border","hasSelect","hasExpand","hasFirstPagination","lastPageLayout","hasOperation","getParams","_dataTable$page","kwd","_this","that","params","$fetch","callCenter","seatGroupList","then","res","$handleResponse","catch","$store","commit","handleFn","row","$router","push","path","query","showAddDcc","arr","$hasArrContent","dccs","forEach","item","dccId","nickname","dccName","$set","closeAddDcc","_this2","_dccConfig$itemInfo","updateGroupDcc","$message","success","deleteFn","_this3","checkDeleteGroup","groupId","tip","result","doDeleteFn","err","_this4","$confirm","confirmButtonText","cancelButtonText","customClass","cancelButtonClass","confirmButtonClass","roundButton","deleteGroupSeat","seat_manage_SeatManage","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","info","placeholder","_v","leftCol","rightCol","slot","round","icon","size","on","click","find","plain","clear","$event","ref","searchTable","scopedSlots","_u","key","fn","props","obj","title","isDccDialog","config","multiple","collapse-tags","close","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","String","default","Object","Boolean","ScrmFormItem","dialogVisible","dialogConfig","loading","copyArr","$deepCopyContent","val","getSelectList","addFn","assign_default","$emit","cancel","dccSelectList","checkSelectOptions","sub","indexOf","concat","changeTag","length","checkVal","filter","includes","checkDccUnbind","error","msg","i","copyDcc","splice","component_AddSeatDialog","visible","width","append-to-body","close-on-click-modal","before-close","update:visible","directives","name","rawName","value","expression","label-width","_g","_b","itemLabel","itemType","filterable","change","$attrs","$listeners"],"mappings":"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","file":"static/js/17.2c9a8330ba2305cecd08.js","sourcesContent":["<template>\r\n    <div class=\"seat-manage-page m-20 common-box \">\r\n        <div class=\"search-flex search-wrap\">\r\n            <search-col :info=\"search.list[search.keyword]\" :placeholder=\"'坐席组名称/服务门店'\" class=\"seat-search\"></search-col>\r\n            <search-col :leftCol=\"0\" :rightCol=\"24\" class=\"seat-search-btn\">\r\n                <div slot=\"custom\">\r\n                    <el-button round icon=\"el-icon-search\" @click=\"find\"  size=\"small\" type=\"primary\" class=\"m-l-28 w-110\">查询</el-button>\r\n                    <el-button round icon=\"el-icon-delete\" @click=\"clear\" size=\"small\" plain >清空查询条件</el-button>\r\n                </div>\r\n            </search-col>\r\n        </div>\r\n\r\n        <div class=\"separate-line w-100-percent\"></div>\r\n\r\n        <div class=\"p-20\">\r\n            <el-button round icon=\"el-icon-plus\" @click=\"handleFn('add', {})\" size=\"small\" type=\"primary\" class=\"m-b-20\">新增坐席组</el-button>\r\n            <data-table ref=\"DataTableRef\" class='table-cyan' :table=\"dataTable\" @searchTable='searchTable'>\r\n                <template slot-scope=\"props\" slot=\"caozuo\">\r\n                    <el-button class=\"blue_font_white_bg\" plain round size=\"mini\" @click=\"showAddDcc(props.obj.row)\">添加DCC邀约员</el-button>\r\n                    <el-button class=\"blue_font_white_bg\" plain round size=\"mini\" @click=\"handleFn('edit',props.obj.row)\">编辑</el-button>\r\n                    <!-- 产品还没考虑好删除逻辑，暂时隐藏 -->\r\n                    <!-- <el-button class=\"red_font_white_bg\" plain round size=\"mini\" @click=\"deleteFn(props.obj.row)\">删除</el-button> -->\r\n                </template> \r\n            </data-table>\r\n        </div>\r\n\r\n        <!-- 弹窗上的新增坐席 -->\r\n        <add-seat-dailog v-if=\"showDcc\" @close=\"closeAddDcc\" :title=\"'添加DCC邀约员'\" :isDccDialog=\"true\" :config=\"dccConfig\" multiple collapse-tags></add-seat-dailog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchCol from '@/components/form/SearchCol';\r\nimport DataTable from \"@/components/dataTable/table\";\r\nimport AddSeatDailog from './component/AddSeatDialog';\r\nimport SearchMixins from '@/pages/mixins/SearchMixins'\r\nexport default {\r\n    components: {\r\n        SearchCol,\r\n        DataTable,\r\n        AddSeatDailog\r\n    },\r\n    mixins: [SearchMixins],\r\n    data(){\r\n        return {\r\n            showDcc: false,\r\n            dccConfig:{} , // 新增，编辑坐席弹窗\r\n        }\r\n    },\r\n    created(){\r\n        this.initData();\r\n        this.queryData();\r\n    },\r\n    methods: {\r\n        initData(){\r\n            this.initDccConfig();\r\n            this.initSearch();\r\n            this.initTable();\r\n        },\r\n        initSearch(){\r\n            // 使用key防止在数组中间插入一列后，只要改变key的下标值就可以\r\n            this.search = { \r\n                list: [\r\n                    {\r\n                        type: 'input', \r\n                        label: '关键字', \r\n                        currentVal:'',\r\n                    }\r\n                ],\r\n                keyword: 0, // 任务名称\r\n            }\r\n        },\r\n        initDccConfig(){\r\n            this.dccConfig = {\r\n                label: 'DCC邀约员',\r\n                selectOptions:[],\r\n                optionLabel:'nickname',\r\n                optionValue:'id',\r\n                itemInfo: {'ids':[]},\r\n                itemKey: 'ids',\r\n                isCheckRemove: true,\r\n            }\r\n        },\r\n        initTable(){\r\n            this.dataTable = {\r\n                tr: [{\r\n                      id: '1',\r\n                      label: '坐席组名称',\r\n                      prop: 'title',\r\n                      align: 'center'\r\n                    },{\r\n                      id: '2',\r\n                      label: '服务门店',\r\n                      prop: 'areaOverview',\r\n                      tooltip:true,\r\n                      align: 'center'\r\n                    },{\r\n                      id: '3',\r\n                      label: 'DCC邀约员个数',\r\n                      prop: 'dccCount',\r\n                      tooltip:true,\r\n                      align: 'center'\r\n                    },{\r\n                      id: '4',\r\n                      label: 'DCC负责人',\r\n                      prop: 'leaderName',\r\n                      tooltip:true,\r\n                      align: 'center'\r\n                    },{\r\n                      id: '5',\r\n                      label: '更新时间',\r\n                      prop: 'updateDate',\r\n                      tooltip:true,\r\n                      align: 'center'\r\n                    },{\r\n                      id: '6',\r\n                      label: '操作',\r\n                      prop: 'caozuo',\r\n                      show:'template',\r\n                      minWidth: '150',\r\n                      align: 'center'\r\n                    }\r\n                ],\r\n                data: [],\r\n                page: {\r\n                    totalCount: 0,\r\n                    pageSize: 20,\r\n                    currentPage: 1\r\n                },\r\n                border: true, // 是否带边框\r\n                hasSelect: false, //是否有复选框\r\n                hasExpand: false, //是否有收缩功能\r\n                hasFirstPagination: false, //是否有第一条分页条\r\n                lastPageLayout: 'sizes, prev, pager, next', // 最后一行的分页是否显示sizes\r\n                search: {},\r\n                hasOperation: false, // 显示最后的operations\r\n            }\r\n        },\r\n        getParams(){\r\n            const { currentPage, pageSize } = this.dataTable.page;\r\n            let params = {\r\n                kwd: this.search.list[this.search.keyword].currentVal,\r\n                pageSize: pageSize,         // 每页数量\r\n                page: currentPage,          // 当前页\r\n            }\r\n            return params;\r\n        },\r\n        queryData(){\r\n            let that = this;\r\n            let params = this.getParams();\r\n            this.$fetch.callCenter.seatGroupList(params).then((res)=>{\r\n                this.$handleResponse(res, res=>{\r\n                    that.dataTable.data = res.list?res.list:[]; //表格所需数据\r\n                    that.dataTable.page = res.page?res.page:that.dataTable.page; //表格所需页面\r\n                },true);\r\n            }).catch(()=>{\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        handleFn(type, row){\r\n            this.$router.push({path:type=='add'?'/call/seat/seat-manage/add':'/call/seat/seat-manage/edit', query:{ id: row.id}})\r\n        },\r\n        showAddDcc(row){\r\n            let ids = [];\r\n            let arr = [];\r\n            if(this.$hasArrContent(row.dccs)){\r\n                row.dccs.forEach((item)=>{\r\n                    ids.push(item.dccId);\r\n                    arr.push({'nickname': item.dccName, 'id': item.dccId})\r\n                })\r\n            }\r\n            this.dccConfig.itemInfo = row;\r\n            this.$set(this.dccConfig.itemInfo, 'ids', ids);\r\n            this.dccConfig.selectOptions = arr;\r\n            this.showDcc = true;\r\n        },\r\n        closeAddDcc(type){\r\n            if(type == 'success'){\r\n                const {id, ids} = this.dccConfig.itemInfo;\r\n                this.$fetch.callCenter.updateGroupDcc({'id': id, 'dccId': ids }).then((res)=>{\r\n                    this.$handleResponse(res, (res)=>{\r\n                        this.showDcc = false;\r\n                        this.$message.success('添加成功');\r\n                        this.queryData();   \r\n                    },true)\r\n                }).catch(()=>{\r\n                    this.$store.commit('closeLoading');\r\n                })\r\n            }else {\r\n                this.showDcc = false;\r\n            }\r\n        },\r\n        deleteFn(row){\r\n            this.$fetch.callCenter.checkDeleteGroup({'groupId': row.id}).then((res)=>{\r\n                this.$handleResponse(res, (res)=>{                                    \r\n                    let tip = res.result == 0?'该坐席组名下有线索及潜客数据，一旦删除这些数据坐席处理人置为空，该您确定要删除该坐席组？':'您确定删除该坐席组?'\r\n                    this.doDeleteFn(tip, row);\r\n                },true)\r\n            }).catch((err)=>{\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        doDeleteFn(tip, row){\r\n            this.$confirm(tip, \"提示\", {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"warning\",\r\n                customClass: \"needCenterStyle\",\r\n                cancelButtonClass: \"big cancel\",\r\n                confirmButtonClass: \"big\",\r\n                roundButton: true,\r\n            }).then(() => {\r\n                this.$fetch.callCenter.deleteGroupSeat({'id': row.id}).then((res)=>{\r\n                    this.$handleResponse(res, res=>{\r\n                        this.$message.success('删除成功');\r\n                        this.queryData();\r\n                    },true);\r\n                }).catch(()=>{\r\n                    this.$store.commit('closeLoading');\r\n                })\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search-wrap {\r\n    padding: 30px 20px 5px;\r\n}\r\n.seat-search.el-col-6{\r\n    width: 290px;\r\n}\r\n.seat-search-btn.el-col-6 {\r\n    width: 290px;\r\n}\r\n.seat-search-add.el-col-6{\r\n    width: calc(100% - 700px);\r\n    text-align: right;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/call-center/seat/seat-manage/SeatManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"seat-manage-page m-20 common-box \"},[_c('div',{staticClass:\"search-flex search-wrap\"},[_c('search-col',{staticClass:\"seat-search\",attrs:{\"info\":_vm.search.list[_vm.search.keyword],\"placeholder\":'坐席组名称/服务门店'}}),_vm._v(\" \"),_c('search-col',{staticClass:\"seat-search-btn\",attrs:{\"leftCol\":0,\"rightCol\":24}},[_c('div',{attrs:{\"slot\":\"custom\"},slot:\"custom\"},[_c('el-button',{staticClass:\"m-l-28 w-110\",attrs:{\"round\":\"\",\"icon\":\"el-icon-search\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.find}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"round\":\"\",\"icon\":\"el-icon-delete\",\"size\":\"small\",\"plain\":\"\"},on:{\"click\":_vm.clear}},[_vm._v(\"清空查询条件\")])],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"separate-line w-100-percent\"}),_vm._v(\" \"),_c('div',{staticClass:\"p-20\"},[_c('el-button',{staticClass:\"m-b-20\",attrs:{\"round\":\"\",\"icon\":\"el-icon-plus\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleFn('add', {})}}},[_vm._v(\"新增坐席组\")]),_vm._v(\" \"),_c('data-table',{ref:\"DataTableRef\",staticClass:\"table-cyan\",attrs:{\"table\":_vm.dataTable},on:{\"searchTable\":_vm.searchTable},scopedSlots:_vm._u([{key:\"caozuo\",fn:function(props){return [_c('el-button',{staticClass:\"blue_font_white_bg\",attrs:{\"plain\":\"\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showAddDcc(props.obj.row)}}},[_vm._v(\"添加DCC邀约员\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"blue_font_white_bg\",attrs:{\"plain\":\"\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleFn('edit',props.obj.row)}}},[_vm._v(\"编辑\")])]}}])})],1),_vm._v(\" \"),(_vm.showDcc)?_c('add-seat-dailog',{attrs:{\"title\":'添加DCC邀约员',\"isDccDialog\":true,\"config\":_vm.dccConfig,\"multiple\":\"\",\"collapse-tags\":\"\"},on:{\"close\":_vm.closeAddDcc}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-35f4cb83\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/call-center/seat/seat-manage/SeatManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35f4cb83\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SeatManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SeatManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SeatManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35f4cb83\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SeatManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-35f4cb83\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/call-center/seat/seat-manage/SeatManage.vue\n// module id = null\n// module chunks = ","<template>\r\n    <el-dialog\r\n      :title=\"title\"\r\n      class=\"add-seat-dialog\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"520px\"\r\n      append-to-body\r\n      :close-on-click-modal=\"false\"\r\n      :before-close=\"cancel\">\r\n      <el-form ref=\"form\" label-width=\"110px\" v-loading=\"loading\">\r\n            <!--  scrm-form-item 上设置的属性会进入到 scrm-form-item里面的子组件editCell上设置的 -->\r\n            <scrm-form-item \r\n                :itemLabel=\"dialogConfig.label\"\r\n                itemType=\"select\" \r\n                :filterable=\"true\" \r\n                :selectOptions=\"dialogConfig.selectOptions\" \r\n                :optionLabel=\"dialogConfig.optionLabel\"\r\n                :optionValue=\"dialogConfig.optionValue\"\r\n                :itemInfo=\"dialogConfig.itemInfo\"\r\n                :itemKey=\"dialogConfig.itemKey\"\r\n                @change=\"changeTag\"\r\n                v-bind=\"$attrs\" \r\n                v-on=\"$listeners\"></scrm-form-item>\r\n            <el-form-item \r\n            ></el-form-item>\r\n      </el-form>\r\n\r\n      <span slot=\"footer\">\r\n        <el-button round size=\"small\" class=\"w-90\" @click=\"cancel\">取 消</el-button>\r\n        <el-button round size=\"small\" class=\"w-90\" @click=\"addFn\" type=\"primary\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\n// 添加坐席和添加DCC共用一个组件\r\nimport ScrmFormItem from '@/components/form/ScrmFormItem'\r\nexport default {\r\n    props: {\r\n        title: {\r\n            type: String,\r\n            default: '添加坐席'\r\n        },\r\n        config: {\r\n            type: Object,\r\n            default: {\r\n                label: '坐席',\r\n                selectOptions:[],\r\n                optionLabel:'',\r\n                optionValue:'',\r\n                itemInfo: {},\r\n                itemKey: 'name',\r\n                isCheckRemove: true, // 是否需要检测删除的判断\r\n            }\r\n        },\r\n        isDccDialog: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    components: {\r\n        ScrmFormItem\r\n    },\r\n    data(){\r\n        return{\r\n            dialogVisible: true,\r\n            dialogConfig: {},\r\n            loading: false\r\n        }\r\n    },\r\n    created(){\r\n        this.copyArr = []; \r\n        this.dialogConfig = this.$deepCopyContent(this.config); // 弹窗出现的时候，列表数据已经获取到了\r\n        if(this.dialogConfig.isCheckRemove){\r\n            let val = this.dialogConfig.itemInfo[this.dialogConfig.itemKey];\r\n            this.dialogConfig['copyDcc'] = val ? this.$deepCopyContent(val): []; // 目前先处理多选的，单选以后用到再补充\r\n            this.copyArr = val ? this.$deepCopyContent(val): [];\r\n        }\r\n\r\n        // 此方法是添加Dcc邀约员需要获取下拉列表, 添加坐席组添加DCC组长弹窗不需要(坐席组的数据从父元素传进来)\r\n        if(this.isDccDialog){ \r\n            this.getSelectList();\r\n        }\r\n    },\r\n    methods: {\r\n        addFn(){\r\n            Object.assign(this.config, this.dialogConfig)\r\n            this.$emit('close', 'success')\r\n        },\r\n        cancel(){\r\n            this.$emit('close','cancel')\r\n        },\r\n        getSelectList(){\r\n            this.loading=true;\r\n            // 已经添加的dcc邀约员，下拉列表没有值，每次接口下拉返回来都变化，因此不缓存\r\n            this.$fetch.callCenter.dccSelectList({'page': 1, 'pageSize': 10000}).then((res)=>{\r\n                this.loading=false;\r\n                this.$handleResponse(res, (data)=>{\r\n                    let arr = this.$hasArrContent(data)?data:[]; \r\n                    this.checkSelectOptions(arr);\r\n                }, false)\r\n            }).catch(()=>{\r\n                this.loading=false;\r\n            })\r\n        },\r\n        checkSelectOptions(arr){\r\n            let ids=[];\r\n            if(this.$hasArrContent(this.dialogConfig.selectOptions)){ // 获取从父元素的值\r\n                this.dialogConfig.selectOptions.forEach((item)=>{\r\n                    ids.push(item[this.dialogConfig.optionValue])\r\n                })\r\n            }\r\n            if(this.$hasArrContent(ids) && this.$hasArrContent(arr)){ // 接口和父元素都有值，需要过滤\r\n                arr.forEach((sub)=>{\r\n                    if(ids.indexOf(sub[this.dialogConfig.optionValue])==-1){\r\n                        this.dialogConfig.selectOptions.push(sub)\r\n                    }\r\n                })\r\n            }else{\r\n                this.dialogConfig.selectOptions = this.dialogConfig.selectOptions.concat(arr);\r\n            }\r\n        },\r\n        changeTag(val){\r\n            if(!this.dialogConfig.isCheckRemove){ // 删除时要判断的的才进来\r\n                return;\r\n            }\r\n\r\n            if(this.copyArr.length <= val.length){ // 增加的时候不需要检验\r\n                this.copyArr = this.$deepCopyContent(val);\r\n                return;\r\n            }\r\n\r\n            // 取消的时候执行\r\n            let checkVal = this.copyArr.filter(function (item) { return val.indexOf(item) === -1 }); // 取差集\r\n            if(!this.dialogConfig['copyDcc'].includes(checkVal[0])){ // 在初始化的数据中不包含的，就是新增\r\n                this.copyArr = this.$deepCopyContent(val);\r\n                return;\r\n            }\r\n            \r\n            // 取消且需要校验的邀约员\r\n            this.loading = true;\r\n            this.$fetch.callCenter.checkDccUnbind({'dccId': checkVal[0]}).then((res)=>{\r\n                this.loading = false;\r\n                this.$handleResponse(res, (res)=>{                                    \r\n                    if(res.result == 0){ // 接口返回来不可删 0为不可移出  1 可移出\r\n                        this.$message.error(res.msg)\r\n                        this.dialogConfig.itemInfo[this.dialogConfig.itemKey] = this.$deepCopyContent(this.copyArr);\r\n                    }else {\r\n                        // 接口返回来可以删\r\n                        this.copyArr = this.$deepCopyContent(val);\r\n                        for(let i=0, length=this.dialogConfig.copyDcc.length; i<length; i++){\r\n                            if(this.dialogConfig.copyDcc[i] == checkVal[0]){\r\n                                this.dialogConfig.copyDcc.splice(i, 1);\r\n                                return;\r\n                            }\r\n                        } \r\n                    }\r\n                },true)\r\n            }).catch((err)=>{\r\n                this.loading = false;\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.add-seat-dialog /deep/.el-dialog__body {\r\n    margin-top: 8px;\r\n    padding: 35px 35px 20px 10px;\r\n}\r\n\r\n.add-seat-dialog /deep/.el-dialog__footer {\r\n    padding-bottom: 34px;\r\n}\r\n\r\n.el-form-item {\r\n    margin-bottom: 5px;\r\n}\r\n.el-form-item /deep/.el-form-item__label{\r\n    padding-right: 20px;\r\n}\r\n\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/call-center/seat/seat-manage/component/AddSeatDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"add-seat-dialog\",attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"520px\",\"append-to-body\":\"\",\"close-on-click-modal\":false,\"before-close\":_vm.cancel},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"form\",attrs:{\"label-width\":\"110px\"}},[_c('scrm-form-item',_vm._g(_vm._b({attrs:{\"itemLabel\":_vm.dialogConfig.label,\"itemType\":\"select\",\"filterable\":true,\"selectOptions\":_vm.dialogConfig.selectOptions,\"optionLabel\":_vm.dialogConfig.optionLabel,\"optionValue\":_vm.dialogConfig.optionValue,\"itemInfo\":_vm.dialogConfig.itemInfo,\"itemKey\":_vm.dialogConfig.itemKey},on:{\"change\":_vm.changeTag}},'scrm-form-item',_vm.$attrs,false),_vm.$listeners)),_vm._v(\" \"),_c('el-form-item')],1),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"w-90\",attrs:{\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"w-90\",attrs:{\"round\":\"\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.addFn}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f0e24a4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/call-center/seat/seat-manage/component/AddSeatDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f0e24a4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddSeatDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddSeatDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddSeatDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f0e24a4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddSeatDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6f0e24a4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/call-center/seat/seat-manage/component/AddSeatDialog.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}