{"version":3,"sources":["webpack:///src/pages/business/defeat/Defeat.vue","webpack:///./src/pages/business/defeat/Defeat.vue?643d","webpack:///./src/pages/business/defeat/Defeat.vue"],"names":["Defeat","components","SearchBar","SearchCol","DataTable","table","ExportLog","CommonExport","mixins","SearchMixins","data","created","this","initData","queryData","computed","extends_default","Object","vuex_esm","methods","getBrandList","getClueFrom","getDccList","getClueLevelList","getAreaOptions","getDefeatStatusOptions","getDefeatReasonOptions","initSearch","initTable","initExport","exportConfig","fileName","ext","idName","select","taskType","url","other","logConfig","listUrl","downUrl","search","list","prop","type","label","currentVal","selectOptions","optionLabel","optionValue","isAll","isAllTitle","defineProperty_default","oneVal","oneOptions","oneOptionLabel","oneOptionValue","secondVal","secondOptions","secondOptionLabel","secondOptionValue","dccGroup","dcc","customer","brand","series","model","level","area","apply","handle","status","archive","dataTable","tr","id","show","minWidth","tooltip","page","totalCount","pageSize","currentPage","hasSelect","hasExpand","hasFirstPagination","showScrollBar","value","width","placeholder","displayCol","params","getParams","_dataTable$page","_search","dccGroupId","dccId","fromTopId","fromSecondId","brandId","carSeriesId","modelId","areaId","reasonTypeId","reviewStatus","applyStartTime","applyEndTime","reviewStartTime","reviewEndTime","archiveCreatedStartTime","archiveCreatedEndTime","_this","that","assign_default","$fetch","business","queryDefeatlList","then","res","$handleResponse","catch","$store","commit","seeArchive","row","$router","push","path","query","intentionId","defeat_Defeat","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","on","clear","find","indexOf","roleKey","info","filterable","change","changeDccGroup","_e","_v","fristChange","changeFrom","changeBrand","changeSeries","range-separator","start-placeholder","end-placeholder","value-format","ref","searchTable","onHandleSelectionChange","handleSelectionChange","scopedSlots","_u","key","fn","props","plain","round","click","$event","obj","_s","fromTopName","fromSecondName","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/30.a9e2ef3f13d83359f56a.js","sourcesContent":["<template>\r\n    <div class=\"defeat-list-page m-20 common-box\">\r\n        <search-bar size=\"small\" class=\"m-t-10 p-20\" @clear=\"clear\" @find=\"find\">\r\n            <div class=\"search-flex\">\r\n                <!-- search-col通过search.key来判断是哪个选项；search-col用for循环，需要自定义的可以通过 search.key == index 来确定自定义的那一列，如<search-col><div slot=\"custom\" v-if=\"search.key==index\"></div></search-col>-->\r\n                <search-col  :info=\"search.list[search.dccGroup]\"  filterable @change=\"changeDccGroup\" v-if=\"['dcc_supervisor','dcc_group_leader','dcc_inviter'].indexOf(roleKey)>-1\"></search-col>\r\n                <search-col  :info=\"search.list[search.dcc]\" filterable v-if=\"['dcc_supervisor','dcc_group_leader','dcc_inviter'].indexOf(roleKey)>-1\"></search-col>\r\n                <search-col :info=\"search.list[search.customer]\"  @fristChange=\"changeFrom\" size=\"small\"></search-col>\r\n                <search-col :info=\"search.list[search.brand]\"  @change=\"changeBrand\"></search-col>\r\n                <search-col :info=\"search.list[search.series]\" @change=\"changeSeries\"></search-col>\r\n                <search-col :info=\"search.list[search.model]\"></search-col>\r\n                <search-col :info=\"search.list[search.level]\"></search-col>\r\n                <search-col :info=\"search.list[search.area]\" filterable></search-col>\r\n                <search-col :info=\"search.list[search.type]\"></search-col>\r\n                <search-col :info=\"search.list[search.apply]\" type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" value-format=\"yyyy-MM-dd\"></search-col>\r\n                <search-col :info=\"search.list[search.handle]\" type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" value-format=\"yyyy-MM-dd\"></search-col>\r\n                <search-col :info=\"search.list[search.status]\"></search-col>\r\n                <search-col :info=\"search.list[search.archive]\" type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" value-format=\"yyyy-MM-dd\"></search-col>\r\n            </div>\r\n        </search-bar>\r\n\r\n        <div class=\"p-l-r-20 p-b-20\">\r\n            <data-table ref=\"DataTableRef\" :table=\"dataTable\" @searchTable='searchTable' @onHandleSelectionChange=\"handleSelectionChange\">\r\n                <div slot=\"buttons\">      \r\n                    <!--导出 二进制文件流-->\r\n                    <!-- <common-export class=\"m-l-5\" :config=\"exportConfig\" plain :isLoad=\"false\"></common-export> -->\r\n\r\n                    <!-- 导出日志 -->\r\n                    <!-- <export-log class=\"m-l-5\" :config=\"logConfig\"></export-log> -->\r\n                </div>   \r\n                <template slot-scope=\"props\" slot=\"caozuo\">\r\n                    <el-button class=\"blue_font_white_bg\" plain round size=\"mini\" @click=\"seeArchive(props.obj.row)\">档案</el-button>\r\n                </template> \r\n\r\n                <template slot-scope=\"props\" slot=\"from\">\r\n                    <span v-if=\"props.obj.row.fromTopName\">{{ props.obj.row.fromTopName}} </span>\r\n                    <span v-if=\"props.obj.row.fromTopName && props.obj.row.fromSecondName\">--</span>\r\n                    <span v-if=\"props.obj.row.fromSecondName\">{{ props.obj.row.fromSecondName}} </span>\r\n                    <span v-if=\"!props.obj.row.fromTopName && !props.obj.row.fromSecondName\">--</span>\r\n                </template> \r\n            </data-table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'; \r\nimport SearchBar from '@/components/SearchBar';\r\nimport SearchCol from '@/components/form/SearchCol';\r\nimport DataTable from \"@/components/dataTable/table\";\r\nimport ExportLog from '@/components/export/ExportLog';\r\nimport CommonExport from '@/components/export/CommonExport';\r\nimport SearchMixins from '@/pages/mixins/SearchMixins'\r\nexport default {\r\n    components: {\r\n        SearchBar,\r\n        SearchCol,\r\n        DataTable,\r\n        ExportLog,\r\n        CommonExport,\r\n    },\r\n     mixins: [SearchMixins],\r\n    data(){\r\n        return{}\r\n    },\r\n    created(){\r\n        this.initData();\r\n        this.queryData();\r\n    },\r\n    computed: {\r\n        ...mapGetters([ 'roleKey',])\r\n    },\r\n    methods: {\r\n        initData(){\r\n            this.getBrandList(); // 在searchMixins.vue 组件里面\r\n            this.getClueFrom();  // 在searchMixins.vue 组件里面\r\n            this.getDccList();  //  DCC组 在searchMixins.vue 组件里面\r\n            this.getClueLevelList(); // 意向等级\r\n            this.getAreaOptions();  // 门店\r\n            this.getDefeatStatusOptions(); // 战败状态\r\n            this.getDefeatReasonOptions(); // 战败类型\r\n\r\n            this.initSearch(); // 初始化搜索列\r\n            this.initTable();\r\n            this.initExport();\r\n        },\r\n        initExport(){\r\n            this.exportConfig = {\r\n                fileName: \"战败导出\",  // 导出文件名\r\n                ext: \"csv\",    // 导出文件格式\r\n                idName: \"id\",  // 取对象的那个字段的值\r\n                select: [],    // 多选的时候导出\r\n                taskType: \"\",  // 任务的类型\r\n                url: \"business.exportDefeatExcel\",       // 接口路径\r\n                other: {},     // 其它等参数，比如分页，每页多少，或者其他筛选条件的参数\r\n            }\r\n            this.logConfig = {\r\n                listUrl: 'business.exportDefeatLog',   // 模块.方法明， 默认用公共的导出，下载方法\r\n                downUrl: 'business.exportDefeatExcel',   // 模块.方法明， 默认用公共的导出，下载方法 \r\n            }\r\n        },\r\n        initSearch(){\r\n            // 使用key防止在数组中间插入一列后，只要改变key的下标值就可以\r\n            this.search = { \r\n                list: [\r\n                    {\r\n                        prop: 'dccGroup',\r\n                        type: 'select', \r\n                        label: '跟进坐席组', \r\n                        currentVal: '', \r\n                        selectOptions:[], \r\n                        optionLabel:'dccGroupName', \r\n                        optionValue:\"id\", \r\n                    },{\r\n                        prop: 'dcc',\r\n                        type: 'select', \r\n                        label: '跟进DCC', \r\n                        currentVal: '', \r\n                        isAll:true,\r\n                        isAllTitle: '全部',\r\n                        selectOptions:[], \r\n                        optionLabel:'dccName', \r\n                        optionValue:\"id\",\r\n                    },{\r\n                        type: 'cascader', \r\n                        label: '客户来源', \r\n                        currentVal: '', \r\n                        oneVal: '',\r\n                        oneOptions:[],\r\n                        oneOptionLabel: 'title',\r\n                        oneOptionValue: 'id',\r\n                        secondVal:'',\r\n                        isAll:true,\r\n                        isAllTitle: '全部',\r\n                        secondOptions: [],\r\n                        secondOptionLabel: 'title',\r\n                        secondOptionValue: 'id',\r\n                        isAll: true,\r\n                    },{\r\n                        prop: 'brand',\r\n                        type: 'select', \r\n                        label: '意向品牌', \r\n                        currentVal: '', \r\n                        selectOptions:[], \r\n                        optionLabel:'title', \r\n                        optionValue:\"id\", \r\n                    },{\r\n                        prop: 'series',\r\n                        type: 'select', \r\n                        label: '意向车系', \r\n                        currentVal: '', \r\n                        isAll:true,\r\n                        isAllTitle: '全部',\r\n                        selectOptions:[], \r\n                        optionLabel:'title', \r\n                        optionValue:\"id\", \r\n                    },{\r\n                        prop: 'model',\r\n                        type: 'select', \r\n                        label: '意向车型', \r\n                        currentVal: '', \r\n                        isAll:true,\r\n                        isAllTitle: '全部',\r\n                        selectOptions:[], \r\n                        optionLabel:'title', \r\n                        optionValue:\"id\", \r\n                    },{\r\n                        type: 'select', \r\n                        label: '意向等级', \r\n                        currentVal: '', \r\n                        isAll:true,\r\n                        isAllTitle: '全部',\r\n                        selectOptions:[], \r\n                        optionLabel:'title', \r\n                        optionValue:\"id\", \r\n                    },{\r\n                        type: 'select', \r\n                        label: '归属门店', \r\n                        currentVal: '', \r\n                        isAll:true,\r\n                        isAllTitle: '全部',\r\n                        selectOptions:[], \r\n                        optionLabel:'title', \r\n                        optionValue:\"id\", \r\n                    },{\r\n                        type: 'select', \r\n                        label: '战败类型', \r\n                        currentVal: '', \r\n                        isAll:true,\r\n                        isAllTitle: '全部',\r\n                        selectOptions:[], \r\n                        optionLabel:'title', \r\n                        optionValue:\"id\", \r\n                    },{\r\n                        type: 'datePicker', \r\n                        label: '战败申请时间', \r\n                        currentVal: '', \r\n                    },{\r\n                        type: 'datePicker', \r\n                        label: '战败处理时间', \r\n                        currentVal: '', \r\n                    },{\r\n                        type: 'select', \r\n                        label: '战败状态', \r\n                        currentVal: '', \r\n                        isAll:true,\r\n                        isAllTitle: '全部',\r\n                        selectOptions:[], \r\n                        optionLabel:'title', \r\n                        optionValue:\"id\", \r\n                    },{\r\n                        type: 'datePicker', \r\n                        label: '建档时间', \r\n                        currentVal: '', \r\n                    }\r\n                ],\r\n                dccGroup: 0, // 跟进坐席组\r\n                dcc: 1,      // 跟进DCC\r\n                customer: 2,    // 客户来源\r\n                brand: 3,       // 意向品牌\r\n                series: 4,     //  意向车系\r\n                model: 5,        //  意向车型\r\n                level: 6,       // 意向等级\r\n                area: 7,       // 归属门店\r\n                type:8,         // 战败类型\r\n                apply:9,         // 战败申请时间\r\n                handle: 10,       // 战败处理时间\r\n                status: 11,       // 战败状态\r\n                archive: 12,       // 建档时间\r\n            }\r\n\r\n        },\r\n        initTable(){\r\n            this.dataTable = {\r\n                tr: [{\r\n                      id: '1',\r\n                      label: '操作选项',\r\n                      prop: 'caozuo',\r\n                      show:'template',\r\n                      minWidth: '100'\r\n                    },{\r\n                      id: '2',\r\n                      label: '客户ID',\r\n                      prop: 'userId',\r\n                      tooltip:true,\r\n                      minWidth: '100'\r\n                    },{\r\n                      id: '3',\r\n                      label: '客户姓名',\r\n                      prop: 'nickname',\r\n                      tooltip:true,\r\n                      minWidth: '100'\r\n                    },{\r\n                      id: '4',\r\n                      label: '手机号码',\r\n                      prop: 'tel',\r\n                      tooltip:true,\r\n                      minWidth: '120'\r\n                    },{\r\n                      id: '5',\r\n                      label: '跟进坐席组',\r\n                      prop: 'dccGroupName',\r\n                      tooltip:true,\r\n                      minWidth: '120'\r\n                    },{\r\n                      id: '6',\r\n                      label: '跟进DCC',\r\n                      prop: 'dccName',\r\n                      tooltip:true,\r\n                      minWidth: '120'\r\n                    },{\r\n                      id: '7',\r\n                      label: '跟进次数',\r\n                      prop: 'followTimes',\r\n                      tooltip:true,\r\n                      minWidth: '100'\r\n                    },{\r\n                      id: '8',\r\n                      label: '战败状态',\r\n                      prop: 'reviewStatusName',\r\n                      tooltip:true,\r\n                      minWidth: '100'\r\n                    },{\r\n                      id: '9',\r\n                      label: '战败类型',\r\n                      prop: 'reasonType',\r\n                      tooltip:true,\r\n                      minWidth: '100'\r\n                    },{\r\n                      id: '10',\r\n                      label: '建档时间',\r\n                      prop: 'archiveCreatedAt',\r\n                      tooltip:true,\r\n                      minWidth: '170'\r\n                    },{\r\n                      id: '11',\r\n                      label: '战败申请时间',\r\n                      prop: 'createdAt',\r\n                      tooltip:true,\r\n                      minWidth: '170'\r\n                    },{\r\n                      id: '12',\r\n                      label: '战败处理时间',\r\n                      prop: 'reviewAt',\r\n                      tooltip:true,\r\n                      minWidth: '170'\r\n                    },{\r\n                      id: '13',\r\n                      label: '归属门店',\r\n                      prop: 'areaName',\r\n                      tooltip:true,\r\n                      minWidth: '130'\r\n                    },{\r\n                      id: '14',\r\n                      label: '意向车型',\r\n                      prop: 'model',\r\n                      tooltip:true,\r\n                      minWidth: '200'\r\n                    },{\r\n                      id: '15',\r\n                      label: '客户来源',\r\n                      prop: 'from',\r\n                      show: 'template',\r\n                      tooltip:true,\r\n                      minWidth: '150'\r\n                    },{\r\n                      id: '16',\r\n                      label: '销售顾问',\r\n                      prop: 'advisorName',\r\n                      tooltip:true,\r\n                      minWidth: '120'\r\n                    }\r\n                ],\r\n                data: [],\r\n                page: {\r\n                    totalCount: 0,\r\n                    pageSize: 20,\r\n                    currentPage: 1\r\n                },\r\n                hasSelect: true, //是否有复选框\r\n                hasExpand: false, //是否有收缩功能\r\n                hasFirstPagination: true, //是否有第一条分页条\r\n                showScrollBar: true, // 是否显示scrollWithBar 组件\r\n                search: {\r\n                    value:'',\r\n                    show: true,\r\n                    url: \"business.queryDefeatlList\", //快捷搜索的方法名称:  模块.方法名\r\n                    width: \"300\", //快捷搜索输入框宽度\r\n                    placeholder: \"客户ID/客户姓名/手机号码\", //快捷搜索输入框提示文字\r\n                    displayCol: [\"nickname\",\"tel\"], //弹出需要显示的列\r\n                    params: {\r\n                      id: \"\"\r\n                    }\r\n                },\r\n            }\r\n        },\r\n        getParams(){\r\n            const { currentPage, pageSize } = this.dataTable.page;\r\n            const { dccGroup,dcc,customer,brand,series,model,level,area,type,apply,handle,status,archive, list } = this.search;\r\n\r\n            let params = {\r\n                dccGroupId: list[dccGroup].currentVal,\r\n                dccId: list[dcc].currentVal, \r\n                fromTopId: list[customer].oneVal,         // 客户来源一级级\r\n                fromSecondId: list[customer].secondVal,   // 客户来源二级  \r\n                brandId: list[brand].currentVal,          // 意向品牌ID\r\n                carSeriesId: list[series].currentVal,     // 意向车系ID\r\n                modelId: list[model].currentVal,          // 意向车型ID\r\n                level: list[level].currentVal,            // 意向等级.默认所有.H,A,B,C\r\n                areaId: list[area].currentVal,            // 来源门店ID\r\n                reasonTypeId: list[type].currentVal,       // 战败类型\r\n                reviewStatus: list[status].currentVal,       // 战败状态\r\n                applyStartTime: list[apply].currentVal && list[apply].currentVal[0] + ' 00:00:00',\r\n                applyEndTime: list[apply].currentVal && list[apply].currentVal[1]+ ' 23:59:59',\r\n                reviewStartTime: list[handle].currentVal && list[handle].currentVal[0] + ' 00:00:00',  \r\n                reviewEndTime: list[handle].currentVal && list[handle].currentVal[1]+ ' 23:59:59',    \r\n                archiveCreatedStartTime: list[archive].currentVal && list[archive].currentVal[0] + ' 00:00:00',  \r\n                archiveCreatedEndTime: list[archive].currentVal && list[archive].currentVal[1]+ ' 23:59:59',        \r\n                pageSize: pageSize,     // 每页数量\r\n                page: currentPage,              // 当前页\r\n            }\r\n            return params;\r\n        },\r\n        queryData(){\r\n            let that = this;\r\n            let params = this.getParams();\r\n            this.exportConfig.other = Object.assign({},params);  // 导出配置参数\r\n            this.$fetch.business.queryDefeatlList(params).then((res)=>{\r\n                this.$handleResponse(res, res=>{\r\n                    that.dataTable.data = res.list?res.list:[]; //表格所需数据\r\n                    that.dataTable.page = res.page?res.page:that.dataTable.page; //表格所需页面\r\n                },true);\r\n            }).catch(()=>{\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        seeArchive(row){\r\n            this.$router.push({'path':'/business/potential/detail', query: {'id': row.intentionId}});\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/business/defeat/Defeat.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"defeat-list-page m-20 common-box\"},[_c('search-bar',{staticClass:\"m-t-10 p-20\",attrs:{\"size\":\"small\"},on:{\"clear\":_vm.clear,\"find\":_vm.find}},[_c('div',{staticClass:\"search-flex\"},[(['dcc_supervisor','dcc_group_leader','dcc_inviter'].indexOf(_vm.roleKey)>-1)?_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.dccGroup],\"filterable\":\"\"},on:{\"change\":_vm.changeDccGroup}}):_vm._e(),_vm._v(\" \"),(['dcc_supervisor','dcc_group_leader','dcc_inviter'].indexOf(_vm.roleKey)>-1)?_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.dcc],\"filterable\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.customer],\"size\":\"small\"},on:{\"fristChange\":_vm.changeFrom}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.brand]},on:{\"change\":_vm.changeBrand}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.series]},on:{\"change\":_vm.changeSeries}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.model]}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.level]}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.area],\"filterable\":\"\"}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.type]}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.apply],\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\"}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.handle],\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\"}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.status]}}),_vm._v(\" \"),_c('search-col',{attrs:{\"info\":_vm.search.list[_vm.search.archive],\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"p-l-r-20 p-b-20\"},[_c('data-table',{ref:\"DataTableRef\",attrs:{\"table\":_vm.dataTable},on:{\"searchTable\":_vm.searchTable,\"onHandleSelectionChange\":_vm.handleSelectionChange},scopedSlots:_vm._u([{key:\"caozuo\",fn:function(props){return [_c('el-button',{staticClass:\"blue_font_white_bg\",attrs:{\"plain\":\"\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.seeArchive(props.obj.row)}}},[_vm._v(\"档案\")])]}},{key:\"from\",fn:function(props){return [(props.obj.row.fromTopName)?_c('span',[_vm._v(_vm._s(props.obj.row.fromTopName)+\" \")]):_vm._e(),_vm._v(\" \"),(props.obj.row.fromTopName && props.obj.row.fromSecondName)?_c('span',[_vm._v(\"--\")]):_vm._e(),_vm._v(\" \"),(props.obj.row.fromSecondName)?_c('span',[_vm._v(_vm._s(props.obj.row.fromSecondName)+\" \")]):_vm._e(),_vm._v(\" \"),(!props.obj.row.fromTopName && !props.obj.row.fromSecondName)?_c('span',[_vm._v(\"--\")]):_vm._e()]}}])},[_c('div',{attrs:{\"slot\":\"buttons\"},slot:\"buttons\"})])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d2856c70\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/business/defeat/Defeat.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d2856c70\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Defeat.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Defeat.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Defeat.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d2856c70\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Defeat.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d2856c70\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/business/defeat/Defeat.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}