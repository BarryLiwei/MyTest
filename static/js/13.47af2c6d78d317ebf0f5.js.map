{"version":3,"sources":["webpack:///src/pages/call-center/know/activity/AddActivity.vue","webpack:///./src/pages/call-center/know/activity/AddActivity.vue?d317","webpack:///./src/pages/call-center/know/activity/AddActivity.vue","webpack:///src/pages/call-center/know/activity/ViewActivity.vue","webpack:///./src/pages/call-center/know/activity/ViewActivity.vue?2506","webpack:///./src/pages/call-center/know/activity/ViewActivity.vue","webpack:///src/pages/call-center/know/activity/Activity.vue","webpack:///./src/pages/call-center/know/activity/Activity.vue?d207","webpack:///./src/pages/call-center/know/activity/Activity.vue","webpack:///./src/pages/call-center/know/activity/AddActivity.vue?aba2","webpack:///./src/pages/call-center/know/activity/ViewActivity.vue?97db","webpack:///./src/pages/call-center/know/activity/ViewActivity.vue?e380","webpack:///./src/pages/call-center/know/activity/Activity.vue?f7b7","webpack:///./src/pages/call-center/know/activity/AddActivity.vue?cc7d","webpack:///./src/pages/call-center/know/activity/Activity.vue?842c","webpack:///./src/pages/call-center/know/activity/AddActivity.vue?68cd","webpack:///./src/pages/call-center/know/activity/AddActivity.vue?f2e3"],"names":["AddActivity","props","rowInfo","type","Object","default","components","ScrmFormItem","data","loading","dialogVisible","title","info","brandId","areaId","content","time","checked","optionsInfo","brand","area","minTime","moment_default","Date","subtract","created","keys_default","this","length","taskView","initTypeOptions","methods","id","_this","$fetch","callCenter","activityView","then","res","$handleResponse","result","activityType","endDate","push","startDate","typeChange","areas","forEach","element","catch","$store","commit","cancel","$emit","getParmam","_info","$message","error","params","addFn","_this2","activityCreate","success","activityUpdate","initBrandOptions","initAreaOptions","_this3","common","carBrand","_this4","commonAreaList","render","this$1","_vm","_h","$createElement","_c","_self","staticClass","attrs","visible","width","appentToBody","close-on-click-modal","before-close","on","update:visible","$event","directives","name","rawName","value","expression","ref","label-width","itemInfo","itemKey","itemLabel","itemRequired","itemClass","itemType","subClass","range-separator","start-placeholder","end-placeholder","value-format","disabled","picker-options","disabledDate","getTime","_v","placeholder","filterable","selectOptions","optionLabel","optionValue","change","multiple","maxlength","_e","autosize","minRows","show-word-limit","slot","round","size","click","_withStripped","esExports","staticRenderFns","activity_AddActivity","disposed","Component","__webpack_require__","normalizeComponent","ssrContext","options","__file","know_activity_AddActivity","ViewActivity","String","Number","viewInfo","areasName","areaName","areasLength","ViewActivity_render","editable","_s","_l","item","index","key","isEllipsis","ViewActivity_esExports","activity_ViewActivity","ViewActivity_disposed","ViewActivity_Component","ViewActivity_normalizeComponent","know_activity_ViewActivity","Activity","SearchBar","SearchCol","DataTable","table","mixins","SearchMixins","showAdd","showView","currentRow","initData","queryData","initSearch","initTable","getAreaOptions","search","list","prop","label","currentVal","isAll","isAllTitle","createDate","validDate","dataTable","tr","tooltip","minWidth","show","page","totalCount","pageSize","currentPage","border","hasSelect","hasExpand","hasFirstPagination","showScrollBar","url","displayCol","keyword","getParams","_dataTable$page","_search","createDateStart","createDateEnd","validDateStart","validDateEnd","that","activityList","batchDelete","console","log","selectData","$hasArrContent","$confirm","confirmButtonText","cancelButtonText","customClass","cancelButtonClass","confirmButtonClass","roundButton","ids","activityDelete","warning","deleteFn","row","viewFn","HandleFn","closeShowAdd","Activity_render","clear","find","leftCol","searchTable","onHandleSelectionChange","handleSelectionChange","scopedSlots","_u","fn","plain","obj","icon","close","Activity_esExports","activity_Activity","Activity_disposed","Activity_Component","Activity_normalizeComponent","__webpack_exports__","module","i","locals","exports","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/13.47af2c6d78d317ebf0f5.js","sourcesContent":["<template>\r\n    <el-dialog\r\n      :title=\"title\"\r\n      class=\"add-talk-task-dialog\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"650px\"\r\n      appentToBody\r\n      :close-on-click-modal=\"false\"\r\n      :before-close=\"cancel\">\r\n        <el-form ref=\"form\" label-width=\"110px\" v-loading=\"loading\">\r\n            <scrm-form-item :itemInfo=\"info\" itemKey=\"time\" itemLabel=\"有效期\" :itemRequired=\"true\" itemClass=\"form_required_after\"  class=\"form-task-time\" \r\n                itemType=\"datePicker\" subClass=\"w-400\" type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" value-format=\"yyyy-MM-dd\" :disabled=\"checked\"\r\n                :picker-options=\"{\r\n                    disabledDate: time => {\r\n                        return time < new Date(this.minTime).getTime();\r\n                    },\r\n                }\"></scrm-form-item>\r\n\r\n            <scrm-form-item  :itemInfo=\"info\"  itemKey=\"type\" itemLabel=\"活动类型\"  :itemRequired=\"true\"  itemClass=\"form_required_after\"  \r\n                itemType=\"select\"  subClass=\"w-400\" placeholder=\"请选择\" :filterable=\"true\" :selectOptions=\"optionsInfo.type\"  :optionLabel=\"'title'\" :optionValue=\"'id'\" @change=\"typeChange()\"></scrm-form-item>\r\n\r\n            <scrm-form-item v-show=\"info.type == 3\" :itemInfo=\"info\" itemKey=\"brandId\" itemLabel=\"适用品牌\"  :itemRequired=\"true\"  itemClass=\"form_required_after\"  \r\n                itemType=\"select\"  subClass=\"w-400\" placeholder=\"请选择\" :filterable=\"true\" :selectOptions=\"optionsInfo.brand\"  :optionLabel=\"'title'\" :optionValue=\"'id'\"></scrm-form-item>\r\n\r\n            <scrm-form-item v-show=\"info.type == 4\" :itemInfo=\"info\" itemKey=\"areaId\" itemLabel=\"适用门店\"  :itemRequired=\"true\"  itemClass=\"form_required_after\"  \r\n                itemType=\"select\" multiple  subClass=\"w-400\" placeholder=\"请选择\" :filterable=\"true\" :selectOptions=\"optionsInfo.area\"  :optionLabel=\"'title'\" :optionValue=\"'id'\"></scrm-form-item>\r\n\r\n            <scrm-form-item v-if=\"info.type\" :itemInfo=\"info\"  itemKey=\"title\" itemLabel=\"活动标题\"  :itemRequired=\"true\"  itemClass=\"form_required_after\" \r\n                itemType=\"input\"  subClass=\"w-400\" maxlength=\"20\"  placeholder=\"20个字符以内\">\r\n            </scrm-form-item>\r\n\r\n            <scrm-form-item v-if=\"info.type\" :itemInfo=\"info\"  itemKey=\"content\" itemLabel=\"内容\"  :itemRequired=\"true\"  itemClass=\"form_required_after\" \r\n                itemType=\"input\" type=\"textarea\" :autosize=\"{ minRows: 4}\" subClass=\"w-400\" maxlength=\"500\"  placeholder=\"请输入活动内容\" show-word-limit>\r\n            </scrm-form-item>\r\n        </el-form>\r\n\r\n      <span slot=\"footer\">\r\n        <el-button round size=\"small\" class=\"w-90\" @click=\"cancel\">取 消</el-button>\r\n        <el-button round size=\"small\" class=\"w-90\" @click=\"addFn\" type=\"primary\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport ScrmFormItem from '@/components/form/ScrmFormItem'\r\nimport moment from 'moment'\r\nexport default {\r\n    props: {\r\n        rowInfo: {\r\n            type: Object,\r\n            default: ()=>{ \r\n                return {}\r\n            }\r\n        }\r\n    },\r\n    components: {\r\n        ScrmFormItem\r\n    },\r\n    data(){\r\n        return{\r\n            loading: false,\r\n            dialogVisible: true,\r\n            title: '新增活动',\r\n            type: 'add',\r\n            info:{\r\n                type: '',\r\n                brandId: '',\r\n                areaId: [],\r\n                title: '',\r\n                content: '',\r\n                time: [],    // \"endDate\": \"2020-08-01 12:00\"  过期时间，没有过期时间传0\r\n            },\r\n            checked: false,\r\n            optionsInfo: {\r\n                type: [],\r\n                brand: [],\r\n                area: []\r\n            },\r\n            minTime:moment(new Date()).subtract(1, 'day'),\r\n        }\r\n    },\r\n    created(){\r\n        if(Object.keys(this.rowInfo).length){\r\n            this.title = '编辑活动';\r\n            this.type = 'edit';\r\n            this.taskView();\r\n        }\r\n        this.initTypeOptions();\r\n    },\r\n    methods: {\r\n        initTypeOptions(){\r\n            this.optionsInfo.type = [\r\n                {\r\n                    \"id\": 2,\r\n                    \"title\": \"集团活动\"\r\n                },\r\n                {\r\n                    \"id\": 3,\r\n                    \"title\": \"品牌活动\"\r\n                },\r\n                {\r\n                    \"id\": 4,\r\n                    \"title\": \"其他活动\"\r\n                }\r\n            ]\r\n        },\r\n        taskView(){\r\n            this.$fetch.callCenter.activityView({'id': this.rowInfo.id}).then((res)=>{\r\n                this.$handleResponse(res, res => {\r\n                    let result = res;\r\n                    this.info.type = result.activityType;\r\n                    if(result.endDate){\r\n                        this.info.time.length = 0;\r\n                        this.info.time.push(result.startDate);\r\n                        this.info.time.push(result.endDate);\r\n                    }\r\n                    this.typeChange();\r\n                    this.info.areaId = [];\r\n                    result.areas.forEach(element => {\r\n                        this.info.areaId.push(element.id)\r\n                    });\r\n                    this.info.brandId = result.brandId;\r\n                    this.info.title = result.title;\r\n                    this.info.content = result.content;\r\n\r\n                    \r\n                },true);\r\n            }).catch(()=>{\r\n                this.$store.commit(\"closeLoading\");\r\n            })\r\n        },\r\n        cancel(){\r\n            this.$emit('close', 'cancel');\r\n        },\r\n        getParmam(){\r\n            const { type, brandId, areaId, title, content, time} = this.info;\r\n            if(!time.length){\r\n                this.$message.error('有效期未填写，请完成填写再提交')\r\n                return false;\r\n            }\r\n            if(!type){\r\n                this.$message.error('活动类型未填写，请完成填写再提交')\r\n                return false;\r\n            }\r\n            if(type && type == 3 && !brandId){\r\n                this.$message.error('品牌未填写，请完成填写再提交')\r\n                return false;\r\n            }\r\n            if(type && type == 4 && !areaId.length){\r\n                this.$message.error('适用门店未填写，请完成填写再提交')\r\n                return false;\r\n            }\r\n            if(!title){\r\n                this.$message.error('活动标题未填写，请完成填写再提交')\r\n                return false;\r\n            }\r\n            if(!content){\r\n                this.$message.error('内容未填写，请完成填写再提交')\r\n                return false;\r\n            }\r\n            \r\n            let params = {\r\n                type: type,       // 活动类型\r\n                title: title,      // 标题\r\n                content: content,      // 内容\r\n                startDate: time && time[0],\r\n                endDate: time && time[1]\r\n            }\r\n            if(params.type == 3){\r\n                params.brandId = brandId;\r\n            }else if(params.type == 4){\r\n                params.areaId = areaId;\r\n            }\r\n            return params;\r\n        },\r\n        addFn(){\r\n            let params = this.getParmam();\r\n            if(params){\r\n                if(this.type == 'add'){\r\n                    this.$fetch.callCenter.activityCreate(params).then((res)=>{\r\n                        this.$handleResponse(res, res => {\r\n                            this.$message.success('新增成功');\r\n                            this.$emit('close', 'success')\r\n                        },true);\r\n                    }).catch(()=>{ this.$store.commit(\"closeLoading\");})\r\n                }else {\r\n                    params['id'] = this.rowInfo.id;\r\n                    this.$fetch.callCenter.activityUpdate(params).then((res)=>{\r\n                        this.$handleResponse(res, res => {\r\n                            this.$message.success('编辑成功');\r\n                            this.$emit('close', 'success')\r\n                        },true);\r\n                    }).catch(()=>{ this.$store.commit(\"closeLoading\");})\r\n                }\r\n            }\r\n        },\r\n        typeChange(){\r\n            if(this.info.type == 3){\r\n                this.initBrandOptions();\r\n            }else if(this.info.type == 4){\r\n                this.initAreaOptions();\r\n            }\r\n        },\r\n        initBrandOptions(){\r\n            this.$fetch.common.carBrand({}).then((res)=>{\r\n                this.$handleResponse(res, res => {\r\n                    this.optionsInfo.brand = res;\r\n                },true);\r\n            }).catch(()=>{\r\n                this.$store.commit(\"closeLoading\");\r\n            })\r\n        },\r\n        initAreaOptions(){\r\n            this.$fetch.common.commonAreaList({}).then((res)=>{\r\n                this.$handleResponse(res, res => {\r\n                    this.optionsInfo.area = res;\r\n                },true);\r\n            }).catch(()=>{\r\n                this.$store.commit(\"closeLoading\");\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.add-talk-task-dialog /deep/.el-dialog__body {\r\n    padding: 25px 35px 0 20px;\r\n}\r\n\r\n.add-talk-task-dialog /deep/.el-dialog__footer {\r\n    padding-bottom: 37px;\r\n}\r\n\r\n.form-task-time.el-form-item {\r\n    // margin-bottom: 5px;\r\n}\r\n.el-form-item,\r\n.form-task-limit.el-form-item {\r\n    margin-bottom: 10px;\r\n}\r\n.w-60 {\r\n    width: 60px;\r\n}\r\n\r\n.span-icon {\r\n    display: inline-block;\r\n    width: 38px;\r\n    height: 38px;\r\n    cursor: pointer;\r\n    vertical-align: middle;\r\n}\r\n\r\n</style>\r\n\r\n<style>\r\n.add-talk-task-dialog /deep/.form-task-time /deep/.el-input__inner {\r\n    width: 400px;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/call-center/know/activity/AddActivity.vue","var render = function() {\n  var this$1 = this\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"el-dialog\",\n    {\n      staticClass: \"add-talk-task-dialog\",\n      attrs: {\n        title: _vm.title,\n        visible: _vm.dialogVisible,\n        width: \"650px\",\n        appentToBody: \"\",\n        \"close-on-click-modal\": false,\n        \"before-close\": _vm.cancel\n      },\n      on: {\n        \"update:visible\": function($event) {\n          _vm.dialogVisible = $event\n        }\n      }\n    },\n    [\n      _c(\n        \"el-form\",\n        {\n          directives: [\n            {\n              name: \"loading\",\n              rawName: \"v-loading\",\n              value: _vm.loading,\n              expression: \"loading\"\n            }\n          ],\n          ref: \"form\",\n          attrs: { \"label-width\": \"110px\" }\n        },\n        [\n          _c(\"scrm-form-item\", {\n            staticClass: \"form-task-time\",\n            attrs: {\n              itemInfo: _vm.info,\n              itemKey: \"time\",\n              itemLabel: \"有效期\",\n              itemRequired: true,\n              itemClass: \"form_required_after\",\n              itemType: \"datePicker\",\n              subClass: \"w-400\",\n              type: \"daterange\",\n              \"range-separator\": \"至\",\n              \"start-placeholder\": \"开始日期\",\n              \"end-placeholder\": \"结束日期\",\n              \"value-format\": \"yyyy-MM-dd\",\n              disabled: _vm.checked,\n              \"picker-options\": {\n                disabledDate: function(time) {\n                  return time < new Date(this$1.minTime).getTime()\n                }\n              }\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"scrm-form-item\", {\n            attrs: {\n              itemInfo: _vm.info,\n              itemKey: \"type\",\n              itemLabel: \"活动类型\",\n              itemRequired: true,\n              itemClass: \"form_required_after\",\n              itemType: \"select\",\n              subClass: \"w-400\",\n              placeholder: \"请选择\",\n              filterable: true,\n              selectOptions: _vm.optionsInfo.type,\n              optionLabel: \"title\",\n              optionValue: \"id\"\n            },\n            on: {\n              change: function($event) {\n                return _vm.typeChange()\n              }\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"scrm-form-item\", {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: _vm.info.type == 3,\n                expression: \"info.type == 3\"\n              }\n            ],\n            attrs: {\n              itemInfo: _vm.info,\n              itemKey: \"brandId\",\n              itemLabel: \"适用品牌\",\n              itemRequired: true,\n              itemClass: \"form_required_after\",\n              itemType: \"select\",\n              subClass: \"w-400\",\n              placeholder: \"请选择\",\n              filterable: true,\n              selectOptions: _vm.optionsInfo.brand,\n              optionLabel: \"title\",\n              optionValue: \"id\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"scrm-form-item\", {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: _vm.info.type == 4,\n                expression: \"info.type == 4\"\n              }\n            ],\n            attrs: {\n              itemInfo: _vm.info,\n              itemKey: \"areaId\",\n              itemLabel: \"适用门店\",\n              itemRequired: true,\n              itemClass: \"form_required_after\",\n              itemType: \"select\",\n              multiple: \"\",\n              subClass: \"w-400\",\n              placeholder: \"请选择\",\n              filterable: true,\n              selectOptions: _vm.optionsInfo.area,\n              optionLabel: \"title\",\n              optionValue: \"id\"\n            }\n          }),\n          _vm._v(\" \"),\n          _vm.info.type\n            ? _c(\"scrm-form-item\", {\n                attrs: {\n                  itemInfo: _vm.info,\n                  itemKey: \"title\",\n                  itemLabel: \"活动标题\",\n                  itemRequired: true,\n                  itemClass: \"form_required_after\",\n                  itemType: \"input\",\n                  subClass: \"w-400\",\n                  maxlength: \"20\",\n                  placeholder: \"20个字符以内\"\n                }\n              })\n            : _vm._e(),\n          _vm._v(\" \"),\n          _vm.info.type\n            ? _c(\"scrm-form-item\", {\n                attrs: {\n                  itemInfo: _vm.info,\n                  itemKey: \"content\",\n                  itemLabel: \"内容\",\n                  itemRequired: true,\n                  itemClass: \"form_required_after\",\n                  itemType: \"input\",\n                  type: \"textarea\",\n                  autosize: { minRows: 4 },\n                  subClass: \"w-400\",\n                  maxlength: \"500\",\n                  placeholder: \"请输入活动内容\",\n                  \"show-word-limit\": \"\"\n                }\n              })\n            : _vm._e()\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"span\",\n        { attrs: { slot: \"footer\" }, slot: \"footer\" },\n        [\n          _c(\n            \"el-button\",\n            {\n              staticClass: \"w-90\",\n              attrs: { round: \"\", size: \"small\" },\n              on: { click: _vm.cancel }\n            },\n            [_vm._v(\"取 消\")]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-button\",\n            {\n              staticClass: \"w-90\",\n              attrs: { round: \"\", size: \"small\", type: \"primary\" },\n              on: { click: _vm.addFn }\n            },\n            [_vm._v(\"确 定\")]\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-loader/node_modules/vue-hot-reload-api\")      .rerender(\"data-v-7e51de96\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7e51de96\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/call-center/know/activity/AddActivity.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e51de96\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./AddActivity.vue\")\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e51de96\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=1!./AddActivity.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./AddActivity.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./AddActivity.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7e51de96\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./AddActivity.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7e51de96\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/call-center/know/activity/AddActivity.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7e51de96\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-7e51de96\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/call-center/know/activity/AddActivity.vue\n// module id = null\n// module chunks = ","<template>\r\n    <el-dialog\r\n      title=\"活动详情\"\r\n      class=\"view-talk-task-dialog\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"500px\"\r\n      appentToBody\r\n      :close-on-click-modal=\"false\"\r\n      :before-close=\"cancel\">\r\n      <el-form ref=\"form\" label-width=\"110px\" v-loading=\"loading\">\r\n            <scrm-form-item itemLabel=\"有效期\" itemType=\"input\" :itemInfo=\"{}\" :editable=\"false\">\r\n              <template slot=\"notEdit\">\r\n                     {{viewInfo.startDate}} 至 {{viewInfo.endDate}}\r\n                </template>\r\n            </scrm-form-item>\r\n\r\n            <scrm-form-item itemLabel=\"活动类型\" itemType=\"input\" :itemInfo=\"viewInfo\" itemKey=\"activityTypeTitle\" :editable=\"false\"></scrm-form-item>\r\n            \r\n            <scrm-form-item v-show=\"viewInfo.activityType == 3\" itemLabel=\"适用品牌\" itemType=\"input\" :itemInfo=\"viewInfo\" itemKey=\"brand\" :editable=\"false\"></scrm-form-item>\r\n\r\n            <scrm-form-item v-show=\"viewInfo.activityType == 4\" :itemLabel=\"`适用门店(${viewInfo.areasLength})`\" itemType=\"input\" :itemInfo=\"{}\" :editable=\"false\">\r\n              <template slot=\"notEdit\">\r\n                     <span v-for=\"(item, index) in viewInfo.areasName\" :key=\"index\"><i v-if=\"index != 0\">、</i>{{item}}</span>\r\n                </template>\r\n            </scrm-form-item>\r\n\r\n            <scrm-form-item itemLabel=\"活动标题\" itemType=\"input\" :itemInfo=\"viewInfo\" itemKey=\"title\" :editable=\"false\"></scrm-form-item>\r\n\r\n            <scrm-form-item itemLabel=\"内容\" itemType=\"input\" :itemInfo=\"viewInfo\" itemKey=\"content\" :editable=\"false\" :isEllipsis=\"false\"></scrm-form-item>\r\n\r\n      </el-form>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport ScrmFormItem from '@/components/form/ScrmFormItem'\r\nexport default {\r\n    components: {\r\n        ScrmFormItem\r\n    },\r\n    props: {\r\n        id: {\r\n            type: [String, Number],\r\n            default: ''\r\n        } \r\n    },\r\n    data(){\r\n        return{\r\n            dialogVisible: true,\r\n            checked: true,\r\n            loading: false,\r\n            viewInfo: {},\r\n        }\r\n    },\r\n    created(){\r\n        this.taskView();\r\n    },\r\n    methods: {\r\n        cancel(){\r\n            this.$emit('cancel')\r\n        },\r\n        taskView(){\r\n            this.$fetch.callCenter.activityView({'id': this.id}).then((res)=>{\r\n              this.$handleResponse(res, res=>{\r\n                this.viewInfo = res;\r\n                this.viewInfo.areasName = [];\r\n                res.areas.forEach(element => {\r\n                  this.viewInfo.areasName.push(element.areaName)\r\n                });\r\n                this.viewInfo.areasLength = this.viewInfo.areasName.length;\r\n              },true);\r\n            }).catch(()=>{\r\n              this.$store.commit('closeLoading');\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.view-talk-task-dialog /deep/.el-dialog__body {\r\n    padding: 20px 20px 30px;\r\n}\r\n\r\n.el-form-item {\r\n    margin-bottom: 6px;\r\n}\r\n.el-form-item /deep/.el-form-item__label{\r\n    padding-right: 25px;\r\n}\r\n.el-tag {\r\n    margin-right: 10px;\r\n}\r\n\r\n.custom-form.el-form-item {\r\n    margin-bottom: 0;\r\n}\r\n\r\n.custom-form.el-form-item /deep/.el-form-item__label,\r\n.custom-form.el-form-item /deep/ .el-form-item__content{\r\n    height: 32px;\r\n    line-height: 32px;\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/call-center/know/activity/ViewActivity.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"el-dialog\",\n    {\n      staticClass: \"view-talk-task-dialog\",\n      attrs: {\n        title: \"活动详情\",\n        visible: _vm.dialogVisible,\n        width: \"500px\",\n        appentToBody: \"\",\n        \"close-on-click-modal\": false,\n        \"before-close\": _vm.cancel\n      },\n      on: {\n        \"update:visible\": function($event) {\n          _vm.dialogVisible = $event\n        }\n      }\n    },\n    [\n      _c(\n        \"el-form\",\n        {\n          directives: [\n            {\n              name: \"loading\",\n              rawName: \"v-loading\",\n              value: _vm.loading,\n              expression: \"loading\"\n            }\n          ],\n          ref: \"form\",\n          attrs: { \"label-width\": \"110px\" }\n        },\n        [\n          _c(\n            \"scrm-form-item\",\n            {\n              attrs: {\n                itemLabel: \"有效期\",\n                itemType: \"input\",\n                itemInfo: {},\n                editable: false\n              }\n            },\n            [\n              _c(\"template\", { slot: \"notEdit\" }, [\n                _vm._v(\n                  \"\\n                 \" +\n                    _vm._s(_vm.viewInfo.startDate) +\n                    \" 至 \" +\n                    _vm._s(_vm.viewInfo.endDate) +\n                    \"\\n            \"\n                )\n              ])\n            ],\n            2\n          ),\n          _vm._v(\" \"),\n          _c(\"scrm-form-item\", {\n            attrs: {\n              itemLabel: \"活动类型\",\n              itemType: \"input\",\n              itemInfo: _vm.viewInfo,\n              itemKey: \"activityTypeTitle\",\n              editable: false\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"scrm-form-item\", {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: _vm.viewInfo.activityType == 3,\n                expression: \"viewInfo.activityType == 3\"\n              }\n            ],\n            attrs: {\n              itemLabel: \"适用品牌\",\n              itemType: \"input\",\n              itemInfo: _vm.viewInfo,\n              itemKey: \"brand\",\n              editable: false\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"scrm-form-item\",\n            {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.viewInfo.activityType == 4,\n                  expression: \"viewInfo.activityType == 4\"\n                }\n              ],\n              attrs: {\n                itemLabel: \"适用门店(\" + _vm.viewInfo.areasLength + \")\",\n                itemType: \"input\",\n                itemInfo: {},\n                editable: false\n              }\n            },\n            [\n              _c(\n                \"template\",\n                { slot: \"notEdit\" },\n                _vm._l(_vm.viewInfo.areasName, function(item, index) {\n                  return _c(\"span\", { key: index }, [\n                    index != 0 ? _c(\"i\", [_vm._v(\"、\")]) : _vm._e(),\n                    _vm._v(_vm._s(item))\n                  ])\n                }),\n                0\n              )\n            ],\n            2\n          ),\n          _vm._v(\" \"),\n          _c(\"scrm-form-item\", {\n            attrs: {\n              itemLabel: \"活动标题\",\n              itemType: \"input\",\n              itemInfo: _vm.viewInfo,\n              itemKey: \"title\",\n              editable: false\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"scrm-form-item\", {\n            attrs: {\n              itemLabel: \"内容\",\n              itemType: \"input\",\n              itemInfo: _vm.viewInfo,\n              itemKey: \"content\",\n              editable: false,\n              isEllipsis: false\n            }\n          })\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-loader/node_modules/vue-hot-reload-api\")      .rerender(\"data-v-4e94f082\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-4e94f082\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/call-center/know/activity/ViewActivity.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e94f082\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./ViewActivity.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./ViewActivity.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./ViewActivity.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e94f082\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./ViewActivity.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4e94f082\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/call-center/know/activity/ViewActivity.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4e94f082\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-4e94f082\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/call-center/know/activity/ViewActivity.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"activity-page m-20 common-box\">\r\n        <search-bar size=\"medium\" class=\"m-t-10 p-20\" @clear=\"clear\" @find=\"find\">\r\n            <div class=\"search-flex\">\r\n                <!-- search-col通过search.key来判断是哪个选项；search-col用for循环，需要自定义的可以通过 search.key == index 来确定自定义的那一列，如<search-col><div slot=\"custom\" v-if=\"search.key==index\"></div></search-col>-->\r\n                <search-col  :info=\"search.list[search.area]\" :leftCol=\"8\" filterable></search-col>\r\n                <search-col :info=\"search.list[search.type]\"></search-col>\r\n                <search-col  :info=\"search.list[search.createDate]\"  :leftCol=\"8\"  type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" value-format=\"yyyy-MM-dd\"></search-col>\r\n                <search-col  :info=\"search.list[search.validDate]\"  :leftCol=\"8\"  type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" value-format=\"yyyy-MM-dd\"></search-col>\r\n            </div>\r\n        </search-bar>\r\n\r\n        <div class=\"p-l-r-20 p-b-20\">\r\n            <data-table ref=\"DataTableRef\" :table=\"dataTable\" @searchTable='searchTable' @onHandleSelectionChange=\"handleSelectionChange\">\r\n                <div slot=\"buttons\">              \r\n                    <el-button type=\"primary\" icon=\"el-icon-plus\" round size=\"small\" @click=\"HandleFn('add', {})\">新增活动</el-button>\r\n                    <el-button plain size=\"small\" round class=\"w-90\" @click=\"batchDelete\">删除</el-button>\r\n                </div>   \r\n                <template slot-scope=\"props\" slot=\"caozuo\">\r\n                    <el-button class=\"blue_font_white_bg\" plain round size=\"mini\" @click=\"viewFn(props.obj.row)\">查看</el-button>\r\n                    <el-button class=\"blue_font_white_bg\" v-if=\"props.obj.row.activityType != 1\" plain round size=\"mini\" @click=\"HandleFn('edit', props.obj.row)\">编辑</el-button>\r\n                    <el-button class=\"red_font_white_bg\" v-if=\"props.obj.row.activityType != 1\" plain round size=\"mini\" @click=\"deleteFn(props.obj.row)\">删除</el-button>\r\n                </template> \r\n                <template slot-scope=\"props\" slot=\"startDate\">\r\n                    <div>\r\n                        {{props.obj.row.startDate}} 至 {{props.obj.row.endDate}}\r\n                    </div>\r\n                </template>\r\n            </data-table>\r\n        </div>\r\n\r\n        <!-- 新建/编辑活动 -->\r\n        <add-activity v-if=\"showAdd\"  :rowInfo=\"currentRow\" @close=\"closeShowAdd\" ></add-activity>\r\n\r\n        <!-- 查看活动 -->\r\n        <view-activity v-if=\"showView\" :id=\"currentRow.id\" @cancel=\"showView=false\"></view-activity>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchBar from '@/components/SearchBar';\r\nimport SearchCol from '@/components/form/SearchCol';\r\nimport DataTable from \"@/components/dataTable/table\";\r\nimport SearchMixins from '@/pages/mixins/SearchMixins'\r\nimport AddActivity from './AddActivity'\r\nimport ViewActivity from './ViewActivity'\r\nexport default {\r\n    components: {\r\n        SearchBar,\r\n        SearchCol,\r\n        DataTable,\r\n        AddActivity,\r\n        ViewActivity\r\n    },\r\n    mixins: [SearchMixins],\r\n    data(){\r\n        return{\r\n            showAdd: false, // 新建开口任务\r\n            showView: false, // 查看开口任务\r\n            currentRow: {},\r\n        }\r\n    },\r\n    created(){\r\n        // 找不到的方法在searchMixins.vue 组件里面\r\n        this.initData();\r\n        this.queryData();\r\n    },\r\n    methods: {\r\n        initData(){\r\n            this.initSearch(); // 初始化搜索列\r\n            this.initTable();\r\n            this.getAreaOptions();  // 门店\r\n        },\r\n        initSearch(){\r\n            // 使用key防止在数组中间插入一列后，只要改变key的下标值就可以\r\n            this.search = { \r\n                list: [\r\n                    {\r\n                        prop: 'area',\r\n                        type: 'select', \r\n                        label: '归属门店', \r\n                        currentVal: '',\r\n                        isAll:true,\r\n                        isAllTitle: '全部', \r\n                        selectOptions:[], \r\n                        optionLabel:'title', \r\n                        optionValue:\"id\", \r\n                    },{\r\n                        prop: 'type',\r\n                        type: 'select', \r\n                        label: '活动类型', \r\n                        currentVal: '',\r\n                        isAll:true,\r\n                        isAllTitle: '全部', \r\n                        selectOptions:[{\"id\":1,\"title\":\"门店活动\"},{\"id\":2,\"title\":\"集团活动\"},{\"id\":3,\"title\":\"品牌活动\"},{\"id\":4,\"title\":\"其他活动\"}], \r\n                        optionLabel:'title', \r\n                        optionValue:\"id\", \r\n                    },{\r\n                        prop: 'createDate',\r\n                        type: 'datePicker', \r\n                        label: '创建时间', \r\n                        currentVal: '', \r\n                    },{\r\n                        prop: 'validDate',\r\n                        type: 'datePicker', \r\n                        label: '有效期', \r\n                        currentVal: '', \r\n                    },\r\n                ],\r\n                area: 0, // 门店\r\n                type: 1, // 活动类型\r\n                createDate: 2,  // 创建时间\r\n                validDate: 3,  // 有效期\r\n            }\r\n        },\r\n        initTable(){\r\n            this.dataTable = {\r\n                tr: [{\r\n                      id: '1',\r\n                      label: '任务ID',\r\n                      prop: 'longId',\r\n                      tooltip:true\r\n                    },{\r\n                      id: '2',\r\n                      label: '适用门店',\r\n                      prop: 'areaOverview',\r\n                      tooltip:true,\r\n                      minWidth: '150'\r\n                    },{\r\n                      id: '3',\r\n                      label: '活动类型',\r\n                      prop: 'activityTypeTitle',\r\n                      tooltip:true,\r\n                      minWidth: '100'\r\n                    },{\r\n                      id: '4',\r\n                      label: '活动标题',\r\n                      prop: 'title',\r\n                      tooltip:true,\r\n                      minWidth: '110'\r\n                    },{\r\n                      id: '5',\r\n                      label: '有效期',\r\n                      prop: 'startDate',\r\n                      show:'template',\r\n                      tooltip:true,\r\n                      minWidth: '185'\r\n                    },{\r\n                      id: '6',\r\n                      label: '创建时间',\r\n                      prop: 'createdDate',\r\n                      tooltip:true,\r\n                      minWidth: '150'\r\n                    },{\r\n                      id: '7',\r\n                      label: '操作选项',\r\n                      prop: 'caozuo',\r\n                      show:'template',\r\n                      width: '250'\r\n                    }\r\n                ],\r\n                data: [],\r\n                page: {\r\n                    totalCount: 0,\r\n                    pageSize: 20,\r\n                    currentPage: 1\r\n                },\r\n                border: true, // 是否带边框\r\n                hasSelect: true, //是否有复选框\r\n                hasExpand: false, //是否有收缩功能\r\n                hasFirstPagination: true, //是否有第一条分页条\r\n                showScrollBar: true, // 是否显示scrollWithBar 组件\r\n                search: {\r\n                    value:'',\r\n                    show: true,\r\n                    url: \"callCenter.activityList\", //快捷搜索的方法名称:  模块.方法名\r\n                    width: \"300\", //快捷搜索输入框宽度\r\n                    placeholder: \"请输入活动ID/活动标题\", //快捷搜索输入框提示文字\r\n                    displayCol: [\"longId\",\"title\"], //弹出需要显示的列\r\n                    params: {\r\n                      id: \"\"\r\n                    },\r\n                    keyword: 'kwd'\r\n                },\r\n            }\r\n        },\r\n        getParams(){\r\n            const { currentPage, pageSize } = this.dataTable.page;\r\n            const { area, type, createDate, validDate, list } = this.search;\r\n\r\n            let params = {\r\n                area: list[area].currentVal,      // 门店\r\n                type: list[type].currentVal,     // 活动类型\r\n                createDateStart: list[createDate].currentVal && list[createDate].currentVal[0], // 创建时间\r\n                createDateEnd: list[createDate].currentVal && list[createDate].currentVal[1], // 创建时间\r\n                validDateStart: list[validDate].currentVal && list[validDate].currentVal[0],  // 有效期\r\n                validDateEnd: list[validDate].currentVal && list[validDate].currentVal[1],  // 有效期\r\n                pageSize: pageSize,     // 每页数量\r\n                page: currentPage,          // 当前页\r\n            }\r\n            return params;\r\n        },\r\n        queryData(){\r\n            let that = this;\r\n            let params = this.getParams();\r\n            this.$fetch.callCenter.activityList(params, true).then((res)=>{\r\n                this.$handleResponse(res, res=>{\r\n                    that.dataTable.data = res.list?res.list:[]; //表格所需数据\r\n                    that.dataTable.page = res.page?res.page:that.dataTable.page; //表格所需页面\r\n                },true);\r\n            }).catch(()=>{\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        batchDelete(){\r\n            console.log(this.selectData)\r\n            if(!this.$hasArrContent(this.selectData)){\r\n                this.$message.warning('您还没选择活动')\r\n                return\r\n            }\r\n            this.$confirm(\"您确定要删除选中的活动吗?\", \"提示\", {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"warning\",\r\n                customClass: \"needCenterStyle\",\r\n                cancelButtonClass: \"big cancel\",\r\n                confirmButtonClass: \"big\",\r\n                roundButton: true,\r\n            }).then(() => {\r\n                let ids=[];\r\n                this.selectData.forEach((item)=>{\r\n                    ids.push(item.id)\r\n                })\r\n                this.$fetch.callCenter.activityDelete({'id': ids}).then((res)=>{\r\n                    this.$handleResponse(res, res=>{\r\n                        this.$message.success('删除成功');\r\n                        this.queryData();\r\n                    },true);\r\n                }).catch(()=>{\r\n                    this.$store.commit('closeLoading');\r\n                })\r\n            })\r\n        },\r\n        deleteFn(row){\r\n            this.$confirm(\"删除后不可恢复，是否确定删除?\", \"提示\", {\r\n             confirmButtonText: \"确定\",\r\n             cancelButtonText: \"取消\",\r\n             type: \"warning\",\r\n             customClass: \"needCenterStyle\",\r\n             cancelButtonClass: \"big cancel\",\r\n             confirmButtonClass: \"big\",\r\n             roundButton: true,\r\n            }).then(() => {\r\n                this.$fetch.callCenter.activityDelete({'id': [row.id]}).then((res)=>{\r\n                    this.$handleResponse(res, res=>{\r\n                        this.$message.success('删除成功');\r\n                        this.queryData();\r\n                    },true);\r\n                }).catch(()=>{\r\n                    this.$store.commit('closeLoading');\r\n                })\r\n            })\r\n        },\r\n        viewFn(row){\r\n            this.currentRow = row;\r\n            this.showView=true;\r\n        },\r\n        HandleFn(type, row){\r\n            this.currentRow = row;\r\n            this.showAdd = true;\r\n        },\r\n        closeShowAdd(){\r\n            this.showAdd=false;\r\n            this.queryData();\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/call-center/know/activity/Activity.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"activity-page m-20 common-box\" },\n    [\n      _c(\n        \"search-bar\",\n        {\n          staticClass: \"m-t-10 p-20\",\n          attrs: { size: \"medium\" },\n          on: { clear: _vm.clear, find: _vm.find }\n        },\n        [\n          _c(\n            \"div\",\n            { staticClass: \"search-flex\" },\n            [\n              _c(\"search-col\", {\n                attrs: {\n                  info: _vm.search.list[_vm.search.area],\n                  leftCol: 8,\n                  filterable: \"\"\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\"search-col\", {\n                attrs: { info: _vm.search.list[_vm.search.type] }\n              }),\n              _vm._v(\" \"),\n              _c(\"search-col\", {\n                attrs: {\n                  info: _vm.search.list[_vm.search.createDate],\n                  leftCol: 8,\n                  type: \"daterange\",\n                  \"range-separator\": \"至\",\n                  \"start-placeholder\": \"开始日期\",\n                  \"end-placeholder\": \"结束日期\",\n                  \"value-format\": \"yyyy-MM-dd\"\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\"search-col\", {\n                attrs: {\n                  info: _vm.search.list[_vm.search.validDate],\n                  leftCol: 8,\n                  type: \"daterange\",\n                  \"range-separator\": \"至\",\n                  \"start-placeholder\": \"开始日期\",\n                  \"end-placeholder\": \"结束日期\",\n                  \"value-format\": \"yyyy-MM-dd\"\n                }\n              })\n            ],\n            1\n          )\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"p-l-r-20 p-b-20\" },\n        [\n          _c(\n            \"data-table\",\n            {\n              ref: \"DataTableRef\",\n              attrs: { table: _vm.dataTable },\n              on: {\n                searchTable: _vm.searchTable,\n                onHandleSelectionChange: _vm.handleSelectionChange\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"caozuo\",\n                  fn: function(props) {\n                    return [\n                      _c(\n                        \"el-button\",\n                        {\n                          staticClass: \"blue_font_white_bg\",\n                          attrs: { plain: \"\", round: \"\", size: \"mini\" },\n                          on: {\n                            click: function($event) {\n                              return _vm.viewFn(props.obj.row)\n                            }\n                          }\n                        },\n                        [_vm._v(\"查看\")]\n                      ),\n                      _vm._v(\" \"),\n                      props.obj.row.activityType != 1\n                        ? _c(\n                            \"el-button\",\n                            {\n                              staticClass: \"blue_font_white_bg\",\n                              attrs: { plain: \"\", round: \"\", size: \"mini\" },\n                              on: {\n                                click: function($event) {\n                                  return _vm.HandleFn(\"edit\", props.obj.row)\n                                }\n                              }\n                            },\n                            [_vm._v(\"编辑\")]\n                          )\n                        : _vm._e(),\n                      _vm._v(\" \"),\n                      props.obj.row.activityType != 1\n                        ? _c(\n                            \"el-button\",\n                            {\n                              staticClass: \"red_font_white_bg\",\n                              attrs: { plain: \"\", round: \"\", size: \"mini\" },\n                              on: {\n                                click: function($event) {\n                                  return _vm.deleteFn(props.obj.row)\n                                }\n                              }\n                            },\n                            [_vm._v(\"删除\")]\n                          )\n                        : _vm._e()\n                    ]\n                  }\n                },\n                {\n                  key: \"startDate\",\n                  fn: function(props) {\n                    return [\n                      _c(\"div\", [\n                        _vm._v(\n                          \"\\n                    \" +\n                            _vm._s(props.obj.row.startDate) +\n                            \" 至 \" +\n                            _vm._s(props.obj.row.endDate) +\n                            \"\\n                \"\n                        )\n                      ])\n                    ]\n                  }\n                }\n              ])\n            },\n            [\n              _c(\n                \"div\",\n                { attrs: { slot: \"buttons\" }, slot: \"buttons\" },\n                [\n                  _c(\n                    \"el-button\",\n                    {\n                      attrs: {\n                        type: \"primary\",\n                        icon: \"el-icon-plus\",\n                        round: \"\",\n                        size: \"small\"\n                      },\n                      on: {\n                        click: function($event) {\n                          return _vm.HandleFn(\"add\", {})\n                        }\n                      }\n                    },\n                    [_vm._v(\"新增活动\")]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"el-button\",\n                    {\n                      staticClass: \"w-90\",\n                      attrs: { plain: \"\", size: \"small\", round: \"\" },\n                      on: { click: _vm.batchDelete }\n                    },\n                    [_vm._v(\"删除\")]\n                  )\n                ],\n                1\n              )\n            ]\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _vm.showAdd\n        ? _c(\"add-activity\", {\n            attrs: { rowInfo: _vm.currentRow },\n            on: { close: _vm.closeShowAdd }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.showView\n        ? _c(\"view-activity\", {\n            attrs: { id: _vm.currentRow.id },\n            on: {\n              cancel: function($event) {\n                _vm.showView = false\n              }\n            }\n          })\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-loader/node_modules/vue-hot-reload-api\")      .rerender(\"data-v-7792e9fa\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7792e9fa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/call-center/know/activity/Activity.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7792e9fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Activity.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Activity.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Activity.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7792e9fa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Activity.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7792e9fa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/call-center/know/activity/Activity.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7792e9fa\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-7792e9fa\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/call-center/know/activity/Activity.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e51de96\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./AddActivity.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"415ad0aa\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e51de96\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./AddActivity.vue\", function() {\n     var newContent = require(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e51de96\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./AddActivity.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7e51de96\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/call-center/know/activity/AddActivity.vue\n// module id = 8ks8\n// module chunks = 13","exports = module.exports = require(\"../../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.view-talk-task-dialog[data-v-4e94f082] .el-dialog__body{padding:20px 20px 30px\\n}\\n.el-form-item[data-v-4e94f082]{margin-bottom:6px\\n}\\n.el-form-item[data-v-4e94f082] .el-form-item__label{padding-right:25px\\n}\\n.el-tag[data-v-4e94f082]{margin-right:10px\\n}\\n.custom-form.el-form-item[data-v-4e94f082]{margin-bottom:0\\n}\\n.custom-form.el-form-item[data-v-4e94f082] .el-form-item__label,.custom-form.el-form-item[data-v-4e94f082] .el-form-item__content{height:32px;line-height:32px\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/liu/vue-project/MyTest/src/pages/call-center/know/activity/D:/liu/vue-project/MyTest/src/pages/call-center/know/activity/ViewActivity.vue\"],\"names\":[],\"mappings\":\";AAgFA,yDACI,sBAAuB;CAC1B;AAAA,+BAGG,iBAAkB;CACrB;AAAA,oDAEG,kBAAmB;CACtB;AAAA,yBAEG,iBAAkB;CACrB;AAAA,2CAGG,eAAgB;CACnB;AAAA,kIAIG,YACA,gBAAiB;CACpB\",\"file\":\"ViewActivity.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\r\\n.view-talk-task-dialog /deep/.el-dialog__body {\\r\\n    padding: 20px 20px 30px;\\r\\n}\\r\\n\\r\\n.el-form-item {\\r\\n    margin-bottom: 6px;\\r\\n}\\r\\n.el-form-item /deep/.el-form-item__label{\\r\\n    padding-right: 25px;\\r\\n}\\r\\n.el-tag {\\r\\n    margin-right: 10px;\\r\\n}\\r\\n\\r\\n.custom-form.el-form-item {\\r\\n    margin-bottom: 0;\\r\\n}\\r\\n\\r\\n.custom-form.el-form-item /deep/.el-form-item__label,\\r\\n.custom-form.el-form-item /deep/ .el-form-item__content{\\r\\n    height: 32px;\\r\\n    line-height: 32px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4e94f082\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/call-center/know/activity/ViewActivity.vue\n// module id = DMbN\n// module chunks = 13","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e94f082\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./ViewActivity.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"36fb0fc2\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e94f082\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./ViewActivity.vue\", function() {\n     var newContent = require(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e94f082\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./ViewActivity.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4e94f082\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/call-center/know/activity/ViewActivity.vue\n// module id = MFJ4\n// module chunks = 13","exports = module.exports = require(\"../../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"Activity.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7792e9fa\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/call-center/know/activity/Activity.vue\n// module id = dect\n// module chunks = 13","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e51de96\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=1!./AddActivity.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"1a852576\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e51de96\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=1!./AddActivity.vue\", function() {\n     var newContent = require(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e51de96\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=1!./AddActivity.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7e51de96\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=1!./src/pages/call-center/know/activity/AddActivity.vue\n// module id = jxKr\n// module chunks = 13","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7792e9fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./Activity.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"2ef079a7\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7792e9fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./Activity.vue\", function() {\n     var newContent = require(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7792e9fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./Activity.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7792e9fa\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/call-center/know/activity/Activity.vue\n// module id = npzd\n// module chunks = 13","exports = module.exports = require(\"../../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.add-talk-task-dialog[data-v-7e51de96] .el-dialog__body{padding:25px 35px 0 20px\\n}\\n.add-talk-task-dialog[data-v-7e51de96] .el-dialog__footer{padding-bottom:37px\\n}\\n.el-form-item[data-v-7e51de96],.form-task-limit.el-form-item[data-v-7e51de96]{margin-bottom:10px\\n}\\n.w-60[data-v-7e51de96]{width:60px\\n}\\n.span-icon[data-v-7e51de96]{display:inline-block;width:38px;height:38px;cursor:pointer;vertical-align:middle\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/liu/vue-project/MyTest/src/pages/call-center/know/activity/D:/liu/vue-project/MyTest/src/pages/call-center/know/activity/AddActivity.vue\"],\"names\":[],\"mappings\":\";AAkOA,wDACI,wBAAyB;CAC5B;AAAA,0DAGG,mBAAoB;CACvB;AAAA,8EAOG,kBAAmB;CACtB;AAAA,uBAEG,UAAW;CACd;AAAA,4BAGG,qBACA,WACA,YACA,eACA,qBAAsB;CACzB\",\"file\":\"AddActivity.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\r\\n.add-talk-task-dialog /deep/.el-dialog__body {\\r\\n    padding: 25px 35px 0 20px;\\r\\n}\\r\\n\\r\\n.add-talk-task-dialog /deep/.el-dialog__footer {\\r\\n    padding-bottom: 37px;\\r\\n}\\r\\n\\r\\n.form-task-time.el-form-item {\\r\\n    // margin-bottom: 5px;\\r\\n}\\r\\n.el-form-item,\\r\\n.form-task-limit.el-form-item {\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n.w-60 {\\r\\n    width: 60px;\\r\\n}\\r\\n\\r\\n.span-icon {\\r\\n    display: inline-block;\\r\\n    width: 38px;\\r\\n    height: 38px;\\r\\n    cursor: pointer;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7e51de96\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/call-center/know/activity/AddActivity.vue\n// module id = to+R\n// module chunks = 13","exports = module.exports = require(\"../../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.add-talk-task-dialog /deep/.form-task-time /deep/.el-input__inner {\\r\\n    width: 400px;\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"D:/liu/vue-project/MyTest/src/pages/call-center/know/activity/src/pages/call-center/know/activity/AddActivity.vue\"],\"names\":[],\"mappings\":\";AAgQA;IACA,aAAA;CACA\",\"file\":\"AddActivity.vue\",\"sourcesContent\":[\"<template>\\r\\n    <el-dialog\\r\\n      :title=\\\"title\\\"\\r\\n      class=\\\"add-talk-task-dialog\\\"\\r\\n      :visible.sync=\\\"dialogVisible\\\"\\r\\n      width=\\\"650px\\\"\\r\\n      appentToBody\\r\\n      :close-on-click-modal=\\\"false\\\"\\r\\n      :before-close=\\\"cancel\\\">\\r\\n        <el-form ref=\\\"form\\\" label-width=\\\"110px\\\" v-loading=\\\"loading\\\">\\r\\n            <scrm-form-item :itemInfo=\\\"info\\\" itemKey=\\\"time\\\" itemLabel=\\\"有效期\\\" :itemRequired=\\\"true\\\" itemClass=\\\"form_required_after\\\"  class=\\\"form-task-time\\\" \\r\\n                itemType=\\\"datePicker\\\" subClass=\\\"w-400\\\" type=\\\"daterange\\\" range-separator=\\\"至\\\" start-placeholder=\\\"开始日期\\\" end-placeholder=\\\"结束日期\\\" value-format=\\\"yyyy-MM-dd\\\" :disabled=\\\"checked\\\"\\r\\n                :picker-options=\\\"{\\r\\n                    disabledDate: time => {\\r\\n                        return time < new Date(this.minTime).getTime();\\r\\n                    },\\r\\n                }\\\"></scrm-form-item>\\r\\n\\r\\n            <scrm-form-item  :itemInfo=\\\"info\\\"  itemKey=\\\"type\\\" itemLabel=\\\"活动类型\\\"  :itemRequired=\\\"true\\\"  itemClass=\\\"form_required_after\\\"  \\r\\n                itemType=\\\"select\\\"  subClass=\\\"w-400\\\" placeholder=\\\"请选择\\\" :filterable=\\\"true\\\" :selectOptions=\\\"optionsInfo.type\\\"  :optionLabel=\\\"'title'\\\" :optionValue=\\\"'id'\\\" @change=\\\"typeChange()\\\"></scrm-form-item>\\r\\n\\r\\n            <scrm-form-item v-show=\\\"info.type == 3\\\" :itemInfo=\\\"info\\\" itemKey=\\\"brandId\\\" itemLabel=\\\"适用品牌\\\"  :itemRequired=\\\"true\\\"  itemClass=\\\"form_required_after\\\"  \\r\\n                itemType=\\\"select\\\"  subClass=\\\"w-400\\\" placeholder=\\\"请选择\\\" :filterable=\\\"true\\\" :selectOptions=\\\"optionsInfo.brand\\\"  :optionLabel=\\\"'title'\\\" :optionValue=\\\"'id'\\\"></scrm-form-item>\\r\\n\\r\\n            <scrm-form-item v-show=\\\"info.type == 4\\\" :itemInfo=\\\"info\\\" itemKey=\\\"areaId\\\" itemLabel=\\\"适用门店\\\"  :itemRequired=\\\"true\\\"  itemClass=\\\"form_required_after\\\"  \\r\\n                itemType=\\\"select\\\" multiple  subClass=\\\"w-400\\\" placeholder=\\\"请选择\\\" :filterable=\\\"true\\\" :selectOptions=\\\"optionsInfo.area\\\"  :optionLabel=\\\"'title'\\\" :optionValue=\\\"'id'\\\"></scrm-form-item>\\r\\n\\r\\n            <scrm-form-item v-if=\\\"info.type\\\" :itemInfo=\\\"info\\\"  itemKey=\\\"title\\\" itemLabel=\\\"活动标题\\\"  :itemRequired=\\\"true\\\"  itemClass=\\\"form_required_after\\\" \\r\\n                itemType=\\\"input\\\"  subClass=\\\"w-400\\\" maxlength=\\\"20\\\"  placeholder=\\\"20个字符以内\\\">\\r\\n            </scrm-form-item>\\r\\n\\r\\n            <scrm-form-item v-if=\\\"info.type\\\" :itemInfo=\\\"info\\\"  itemKey=\\\"content\\\" itemLabel=\\\"内容\\\"  :itemRequired=\\\"true\\\"  itemClass=\\\"form_required_after\\\" \\r\\n                itemType=\\\"input\\\" type=\\\"textarea\\\" :autosize=\\\"{ minRows: 4}\\\" subClass=\\\"w-400\\\" maxlength=\\\"500\\\"  placeholder=\\\"请输入活动内容\\\" show-word-limit>\\r\\n            </scrm-form-item>\\r\\n        </el-form>\\r\\n\\r\\n      <span slot=\\\"footer\\\">\\r\\n        <el-button round size=\\\"small\\\" class=\\\"w-90\\\" @click=\\\"cancel\\\">取 消</el-button>\\r\\n        <el-button round size=\\\"small\\\" class=\\\"w-90\\\" @click=\\\"addFn\\\" type=\\\"primary\\\">确 定</el-button>\\r\\n      </span>\\r\\n    </el-dialog>\\r\\n</template>\\r\\n\\r\\n<script>\\r\\nimport ScrmFormItem from '@/components/form/ScrmFormItem'\\r\\nimport moment from 'moment'\\r\\nexport default {\\r\\n    props: {\\r\\n        rowInfo: {\\r\\n            type: Object,\\r\\n            default: ()=>{ \\r\\n                return {}\\r\\n            }\\r\\n        }\\r\\n    },\\r\\n    components: {\\r\\n        ScrmFormItem\\r\\n    },\\r\\n    data(){\\r\\n        return{\\r\\n            loading: false,\\r\\n            dialogVisible: true,\\r\\n            title: '新增活动',\\r\\n            type: 'add',\\r\\n            info:{\\r\\n                type: '',\\r\\n                brandId: '',\\r\\n                areaId: [],\\r\\n                title: '',\\r\\n                content: '',\\r\\n                time: [],    // \\\"endDate\\\": \\\"2020-08-01 12:00\\\"  过期时间，没有过期时间传0\\r\\n            },\\r\\n            checked: false,\\r\\n            optionsInfo: {\\r\\n                type: [],\\r\\n                brand: [],\\r\\n                area: []\\r\\n            },\\r\\n            minTime:moment(new Date()).subtract(1, 'day'),\\r\\n        }\\r\\n    },\\r\\n    created(){\\r\\n        if(Object.keys(this.rowInfo).length){\\r\\n            this.title = '编辑活动';\\r\\n            this.type = 'edit';\\r\\n            this.taskView();\\r\\n        }\\r\\n        this.initTypeOptions();\\r\\n    },\\r\\n    methods: {\\r\\n        initTypeOptions(){\\r\\n            this.optionsInfo.type = [\\r\\n                {\\r\\n                    \\\"id\\\": 2,\\r\\n                    \\\"title\\\": \\\"集团活动\\\"\\r\\n                },\\r\\n                {\\r\\n                    \\\"id\\\": 3,\\r\\n                    \\\"title\\\": \\\"品牌活动\\\"\\r\\n                },\\r\\n                {\\r\\n                    \\\"id\\\": 4,\\r\\n                    \\\"title\\\": \\\"其他活动\\\"\\r\\n                }\\r\\n            ]\\r\\n        },\\r\\n        taskView(){\\r\\n            this.$fetch.callCenter.activityView({'id': this.rowInfo.id}).then((res)=>{\\r\\n                this.$handleResponse(res, res => {\\r\\n                    let result = res;\\r\\n                    this.info.type = result.activityType;\\r\\n                    if(result.endDate){\\r\\n                        this.info.time.length = 0;\\r\\n                        this.info.time.push(result.startDate);\\r\\n                        this.info.time.push(result.endDate);\\r\\n                    }\\r\\n                    this.typeChange();\\r\\n                    this.info.areaId = [];\\r\\n                    result.areas.forEach(element => {\\r\\n                        this.info.areaId.push(element.id)\\r\\n                    });\\r\\n                    this.info.brandId = result.brandId;\\r\\n                    this.info.title = result.title;\\r\\n                    this.info.content = result.content;\\r\\n\\r\\n                    \\r\\n                },true);\\r\\n            }).catch(()=>{\\r\\n                this.$store.commit(\\\"closeLoading\\\");\\r\\n            })\\r\\n        },\\r\\n        cancel(){\\r\\n            this.$emit('close', 'cancel');\\r\\n        },\\r\\n        getParmam(){\\r\\n            const { type, brandId, areaId, title, content, time} = this.info;\\r\\n            if(!time.length){\\r\\n                this.$message.error('有效期未填写，请完成填写再提交')\\r\\n                return false;\\r\\n            }\\r\\n            if(!type){\\r\\n                this.$message.error('活动类型未填写，请完成填写再提交')\\r\\n                return false;\\r\\n            }\\r\\n            if(type && type == 3 && !brandId){\\r\\n                this.$message.error('品牌未填写，请完成填写再提交')\\r\\n                return false;\\r\\n            }\\r\\n            if(type && type == 4 && !areaId.length){\\r\\n                this.$message.error('适用门店未填写，请完成填写再提交')\\r\\n                return false;\\r\\n            }\\r\\n            if(!title){\\r\\n                this.$message.error('活动标题未填写，请完成填写再提交')\\r\\n                return false;\\r\\n            }\\r\\n            if(!content){\\r\\n                this.$message.error('内容未填写，请完成填写再提交')\\r\\n                return false;\\r\\n            }\\r\\n            \\r\\n            let params = {\\r\\n                type: type,       // 活动类型\\r\\n                title: title,      // 标题\\r\\n                content: content,      // 内容\\r\\n                startDate: time && time[0],\\r\\n                endDate: time && time[1]\\r\\n            }\\r\\n            if(params.type == 3){\\r\\n                params.brandId = brandId;\\r\\n            }else if(params.type == 4){\\r\\n                params.areaId = areaId;\\r\\n            }\\r\\n            return params;\\r\\n        },\\r\\n        addFn(){\\r\\n            let params = this.getParmam();\\r\\n            if(params){\\r\\n                if(this.type == 'add'){\\r\\n                    this.$fetch.callCenter.activityCreate(params).then((res)=>{\\r\\n                        this.$handleResponse(res, res => {\\r\\n                            this.$message.success('新增成功');\\r\\n                            this.$emit('close', 'success')\\r\\n                        },true);\\r\\n                    }).catch(()=>{ this.$store.commit(\\\"closeLoading\\\");})\\r\\n                }else {\\r\\n                    params['id'] = this.rowInfo.id;\\r\\n                    this.$fetch.callCenter.activityUpdate(params).then((res)=>{\\r\\n                        this.$handleResponse(res, res => {\\r\\n                            this.$message.success('编辑成功');\\r\\n                            this.$emit('close', 'success')\\r\\n                        },true);\\r\\n                    }).catch(()=>{ this.$store.commit(\\\"closeLoading\\\");})\\r\\n                }\\r\\n            }\\r\\n        },\\r\\n        typeChange(){\\r\\n            if(this.info.type == 3){\\r\\n                this.initBrandOptions();\\r\\n            }else if(this.info.type == 4){\\r\\n                this.initAreaOptions();\\r\\n            }\\r\\n        },\\r\\n        initBrandOptions(){\\r\\n            this.$fetch.common.carBrand({}).then((res)=>{\\r\\n                this.$handleResponse(res, res => {\\r\\n                    this.optionsInfo.brand = res;\\r\\n                },true);\\r\\n            }).catch(()=>{\\r\\n                this.$store.commit(\\\"closeLoading\\\");\\r\\n            })\\r\\n        },\\r\\n        initAreaOptions(){\\r\\n            this.$fetch.common.commonAreaList({}).then((res)=>{\\r\\n                this.$handleResponse(res, res => {\\r\\n                    this.optionsInfo.area = res;\\r\\n                },true);\\r\\n            }).catch(()=>{\\r\\n                this.$store.commit(\\\"closeLoading\\\");\\r\\n            })\\r\\n        }\\r\\n    }\\r\\n}\\r\\n</script>\\r\\n\\r\\n<style lang=\\\"scss\\\" scoped>\\r\\n.add-talk-task-dialog /deep/.el-dialog__body {\\r\\n    padding: 25px 35px 0 20px;\\r\\n}\\r\\n\\r\\n.add-talk-task-dialog /deep/.el-dialog__footer {\\r\\n    padding-bottom: 37px;\\r\\n}\\r\\n\\r\\n.form-task-time.el-form-item {\\r\\n    // margin-bottom: 5px;\\r\\n}\\r\\n.el-form-item,\\r\\n.form-task-limit.el-form-item {\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n.w-60 {\\r\\n    width: 60px;\\r\\n}\\r\\n\\r\\n.span-icon {\\r\\n    display: inline-block;\\r\\n    width: 38px;\\r\\n    height: 38px;\\r\\n    cursor: pointer;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n\\r\\n</style>\\r\\n\\r\\n<style>\\r\\n.add-talk-task-dialog /deep/.form-task-time /deep/.el-input__inner {\\r\\n    width: 400px;\\r\\n}\\r\\n</style>\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7e51de96\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=1!./src/pages/call-center/know/activity/AddActivity.vue\n// module id = wXXZ\n// module chunks = 13"],"sourceRoot":""}