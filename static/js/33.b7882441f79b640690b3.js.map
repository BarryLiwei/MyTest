{"version":3,"sources":["webpack:///src/pages/work/MessageList.vue","webpack:///./src/pages/work/MessageList.vue?07f7","webpack:///./src/pages/work/MessageList.vue"],"names":["MessageList","components","DataTable","data","dialogVisible","dataTable","tr","id","label","prop","align","width","tooltip","show","page","totalCount","pageSize","currentPage","height","hasSelect","hasExpand","hasFirstPagination","lastPageLayout","hasOperation","operation","created","this","queryData","methods","searchTable","params","_this","_dataTable$page","per_page","$fetch","work","messageList","then","res","$handleResponse","list","catch","$store","commit","work_MessageList","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","table","on","scopedSlots","_u","key","fn","props","href","obj","row","extend","target","type","_s","content","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"iIAeAA,GACAC,YACAC,oBAAA,GAEAC,KAJA,WAKA,OACAC,eAAA,EACAC,WACAC,KACAC,GAAA,IACAC,MAAA,OACAC,KAAA,aACAC,MAAA,SACAC,MAAA,QAEAJ,GAAA,IACAC,MAAA,OACAC,KAAA,YACAE,MAAA,MACAC,SAAA,IAEAL,GAAA,IACAC,MAAA,KACAC,KAAA,UACAI,KAAA,aAGAV,QACAW,MACAC,WAAA,EACAC,SAAA,GACAC,YAAA,GAEAC,OAAA,QACAC,WAAA,EACAC,WAAA,EACAC,oBAAA,EACAC,eAAA,2BACAC,cAAA,EACAC,gBAIAC,QA3CA,WA4CAC,KAAAC,aAEAC,SACAC,YADA,SACAC,GACAJ,KAAArB,UAAAS,KAAAG,YAAAa,EAAAhB,KACAY,KAAAC,aAEAA,UALA,WAKA,IAAAI,EAAAL,KAAAM,EACAN,KAAArB,UAAAS,KAAAG,EADAe,EACAf,YACAa,GACAG,SAHAD,EACAhB,SAGAF,KAAAG,GAEAS,KAAAQ,OAAAC,KAAAC,YAAAN,GAAAO,KAAA,SAAAC,GACAP,EAAAQ,gBAAAD,EAAA,SAAAnC,GACA4B,EAAA1B,UAAAF,OAAAqC,SACAT,EAAA1B,UAAAS,KAAAX,EAAAW,MAAA,IACA,KACA2B,MAAA,WACAV,EAAAW,OAAAC,OAAA,qBC3EeC,GADEC,OAFjB,WAA0B,IAAAC,EAAApB,KAAaqB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,sBAAgCF,EAAA,OAAYE,YAAA,eAAyBF,EAAA,MAAAH,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,cAAyDI,IAAA,eAAAF,YAAA,gBAAAG,OAAsDC,MAAAT,EAAAzC,WAAsBmD,IAAK3B,YAAAiB,EAAAjB,aAA8B4B,YAAAX,EAAAY,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAZ,EAAA,KAAgBK,OAAOQ,KAAAD,EAAAE,IAAAC,IAAAC,OAAAC,OAAA,GAAAL,EAAAE,IAAAC,IAAAG,KAAA,oBAAmFrB,EAAAM,GAAAN,EAAAsB,GAAAP,EAAAE,IAAAC,IAAAK,oBAA+C,MAEthBC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEzE,EACA4C,GATF,EAVA,SAAA8B,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/33.b7882441f79b640690b3.js","sourcesContent":["<template>\r\n    <div class=\"message-list-page\">\r\n        <div class=\"common-box\">\r\n            <h2>消息中心</h2>\r\n            <data-table ref=\"DataTableRef\" :table=\"dataTable\" @searchTable='searchTable' class=\"message-table\">\r\n                <template slot-scope=\"props\" slot=\"content\">\r\n                    <a :href=\"props.obj.row.extend\" :target=\"props.obj.row.type == 3 ? '_self' : '_blank'\">{{ props.obj.row.content}}</a>\r\n                </template> \r\n            </data-table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport DataTable from \"@/components/dataTable/table\";\r\nexport default {\r\n    components: {\r\n        DataTable\r\n    },\r\n    data() {\r\n        return {\r\n            dialogVisible: true,\r\n            dataTable: {\r\n                tr: [{\r\n                      id: '1',\r\n                      label: '接收时间',\r\n                      prop: 'created_at',\r\n                      align: 'center',\r\n                      width: '200',\r\n                    }, {\r\n                      id: '2',\r\n                      label: '消息类型',\r\n                      prop: 'type_text',\r\n                      width: '240',\r\n                      tooltip: true\r\n                    }, {\r\n                      id: '3',\r\n                      label: '内容',\r\n                      prop: 'content',\r\n                      show:'template'\r\n                    }\r\n                ],\r\n                data: [],\r\n                page: {\r\n                    totalCount: 0,\r\n                    pageSize: 20,\r\n                    currentPage: 1\r\n                },\r\n                height: '500px',\r\n                hasSelect: false, //是否有复选框\r\n                hasExpand: false, //是否有收缩功能\r\n                hasFirstPagination: false, //是否有第一条分页条\r\n                lastPageLayout: 'sizes, prev, pager, next', // 最后一行的分页是否显示sizes\r\n                hasOperation: false, // 显示最后的operations\r\n                operation: []\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        this.queryData()\r\n    },\r\n    methods: {\r\n        searchTable(params){ // table 上的搜索\r\n            this.dataTable.page.currentPage = params.page;\r\n            this.queryData();\r\n        },\r\n        queryData() {\r\n            const { currentPage, pageSize } = this.dataTable.page;\r\n            let params = {\r\n                per_page: pageSize,\r\n                page: currentPage\r\n            }\r\n            this.$fetch.work.messageList(params).then((res) => {\r\n                this.$handleResponse(res, data => {\r\n                    this.dataTable.data = data.list || []; \r\n                    this.dataTable.page = data.page || 1; \r\n                }, true);\r\n            }).catch(()=>{\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.message-list-page {\r\n    padding: 20px;\r\n    .common-box {\r\n        padding: 20px;\r\n    }\r\n    .message-table {\r\n        margin-top: 20px;\r\n        /deep/ .el-table {\r\n            border: 1px solid #EBEEF5;\r\n            border-bottom: 0;\r\n            color: #444;\r\n\r\n            .el-table__header .has-gutter tr th {\r\n                background-color: #fff;\r\n                color: #444;\r\n            }\r\n\r\n            a {\r\n                color: #3d7eff;\r\n\r\n                &:hover {\r\n                    text-decoration: underline;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/work/MessageList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-list-page\"},[_c('div',{staticClass:\"common-box\"},[_c('h2',[_vm._v(\"消息中心\")]),_vm._v(\" \"),_c('data-table',{ref:\"DataTableRef\",staticClass:\"message-table\",attrs:{\"table\":_vm.dataTable},on:{\"searchTable\":_vm.searchTable},scopedSlots:_vm._u([{key:\"content\",fn:function(props){return [_c('a',{attrs:{\"href\":props.obj.row.extend,\"target\":props.obj.row.type == 3 ? '_self' : '_blank'}},[_vm._v(_vm._s(props.obj.row.content))])]}}])})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6964e108\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/work/MessageList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6964e108\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MessageList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MessageList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MessageList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6964e108\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MessageList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6964e108\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/work/MessageList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}