{"version":3,"sources":["webpack:///./src/pages/call-center/media/MediaManage.vue?65d0","webpack:///./src/pages/call-center/media/MediaManage.vue?0a99","webpack:///src/pages/call-center/media/AddMedia.vue","webpack:///./src/pages/call-center/media/AddMedia.vue?4592","webpack:///./src/pages/call-center/media/AddMedia.vue","webpack:///src/pages/call-center/media/MediaManage.vue","webpack:///./src/pages/call-center/media/MediaManage.vue?6924","webpack:///./src/pages/call-center/media/MediaManage.vue","webpack:///./src/pages/call-center/media/MediaManage.vue?a3f8","webpack:///./src/pages/call-center/media/AddMedia.vue?dc80","webpack:///./src/pages/call-center/media/AddMedia.vue?0f36","webpack:///./src/pages/call-center/media/MediaManage.vue?681f"],"names":["content","__webpack_require__","module","i","locals","exports","AddMedia","components","ScrmFormItem","props","info","type","Object","default","String","shopList","Array","mediaOptions","data","dialogVisible","showView","title","media","id","dialogType","mediaTable","type_text","account_name","account_pwd","options","selectId","loading","shopOptions","created","this","$deepCopyContent","length","short_name","computed","btnName","methods","addFn","_this","account","forEach","item","$set","selectChange","util","updateMedia","getParams","arr","push","area_id","accounts","_this2","params","$fetch","callCenter","mediaAccountEdit","then","res","$handleResponse","$message","success","$emit","catch","$store","commit","cancel","addCount","getSelectId","checkDisabled","_this3","_this4","$hasArrContent","contrast","val","deleteFn","index","splice","changeArea","_this5","getAccountByArea","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","visible","width","append-to-body","close-on-click-modal","before-close","on","update:visible","$event","_e","directives","name","rawName","value","expression","ref","label-width","itemLabel","itemType","itemRequired","itemClass","subClass","placeholder","itemInfo","itemKey","filterable","selectOptions","optionLabel","optionValue","editable","isTransfer","change","_v","slot","icon","round","size","click","cellpadding","cellspacing","border","_l","key","_s","_f","staticStyle","prop","label","align","scopedSlots","_u","fn","scope","class","row","status","font-size","font-weight","_withStripped","esExports","staticRenderFns","media_AddMedia","disposed","Component","normalizeComponent","ssrContext","__file","call_center_media_AddMedia","MediaManage","SearchBar","SearchCol","DataTable","table","mixins","SearchMixins","showMedia","showType","mediaInfo","initData","queryData","initSearch","initTable","initMediaOptions","search","list","currentVal","isAll","isAllTitle","shop","state","time","mediaAccountOptions","common","commonAreaList","parseInt","dataTable","tr","tooltip","show","minWidth","page","totalCount","pageSize","currentPage","hasSelect","hasExpand","hasFirstPagination","displayCol","parma","_dataTable$page","_search","update_date_start","update_date_end","pre_page","that","mediaAccountList","deleteMedia","$confirm","confirmButtonText","cancelButtonText","customClass","cancelButtonClass","confirmButtonClass","roundButton","mediaAccountDel","view","assign_default","closeMedieFn","MediaManage_render","clear","find","range-separator","start-placeholder","end-placeholder","value-format","searchTable","onHandleSelectionChange","handleSelectionChange","obj","plain","close","MediaManage_esExports","media_MediaManage","MediaManage_disposed","MediaManage_Component","MediaManage_normalizeComponent","__webpack_exports__","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/18.9aad4031c56da0db615d.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30e31ec2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=1!./MediaManage.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"dcc1cba4\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30e31ec2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=1!./MediaManage.vue\", function() {\n     var newContent = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30e31ec2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=1!./MediaManage.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-30e31ec2\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=1!./src/pages/call-center/media/MediaManage.vue\n// module id = 1GUu\n// module chunks = 18","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30e31ec2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./MediaManage.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"0ce163b6\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30e31ec2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./MediaManage.vue\", function() {\n     var newContent = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30e31ec2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./MediaManage.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-30e31ec2\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/call-center/media/MediaManage.vue\n// module id = 2W8H\n// module chunks = 18","<template>\r\n    <el-dialog\r\n        :title=\"title\"\r\n        class=\"add-media-dialog\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"870px\"\r\n        append-to-body\r\n        :close-on-click-modal=\"false\"\r\n        :before-close=\"cancel\">\r\n        <!-- 新增/编辑 -->\r\n        <div v-if=\"!showView\" v-loading=\"loading\">\r\n            <el-form ref=\"form\" label-width=\"80px\">\r\n                <scrm-form-item itemLabel=\"门店\" itemType=\"select\" :itemRequired=\"true\" itemClass=\"form_required_after\" subClass=\"w-250\" placeholder=\"请选择门店\"\r\n                    :itemInfo=\"media\"  itemKey=\"id\" :filterable=\"true\"  :selectOptions=\"shopOptions\" :optionLabel=\"'title'\" :optionValue=\"'id'\" \r\n                    :editable=\"dialogType=='add'?true:false\" :isTransfer=\"true\" @change=\"changeArea\"></scrm-form-item>\r\n\r\n                <scrm-form-item itemLabel=\"垂媒账号\" class=\"add-item\" :itemRequired=\"true\" itemClass=\"form_required_after\" :itemInfo=\"{}\">\r\n                    <template slot=\"custom\">\r\n                        <el-button type=\"primary\" icon=\"el-icon-plus\" round size=\"small\"  class=\"m-b-20\" @click=\"addCount\">新增垂媒账号</el-button>\r\n                    </template>\r\n                </scrm-form-item>\r\n            </el-form>\r\n\r\n            <el-form ref=\"form\" label-width=\"80px\">\r\n                <table class=\"custom-table\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\"  border=\"0\">\r\n                    <tr class=\"tr-item\" v-for=\"(item, index) in mediaTable\" :key=\"index\">\r\n                        <td class=\"td-item\" width=\"30%\">\r\n                            <scrm-form-item :itemLabel=\"`垂媒${index+1}`\" itemType=\"select\" :itemRequired=\"true\" itemClass=\"form_required_after\" subClass=\"w-100-percent\" placeholder=\"请选择垂媒\"\r\n                            :itemInfo=\"item\" itemKey=\"type\" :filterable=\"true\"  :selectOptions=\"item.options\" :optionLabel=\"'text'\" :optionValue=\"'val'\" @change=\"selectChange(item)\"></scrm-form-item>\r\n                        </td>\r\n                        <td class=\"td-item\" width=\"30%\">\r\n                            <scrm-form-item itemLabel=\"账号\" itemType=\"input\" :itemRequired=\"true\" itemClass=\"form_required_after\" subClass=\"w-100-percent\" placeholder=\"请输入\"\r\n                            :itemInfo=\"item\" itemKey=\"account_name\"></scrm-form-item>\r\n                        </td>\r\n                        <td class=\"td-item\" width=\"30%\">\r\n                            <scrm-form-item itemLabel=\"密码\" itemType=\"input\" type=\"password\" :itemRequired=\"true\" itemClass=\"form_required_after\" subClass=\"w-100-percent\" placeholder=\"请输入\"\r\n                            :itemInfo=\"item\" itemKey=\"account_pwd\"></scrm-form-item>\r\n                        </td>\r\n                        <td class=\"td-item\" width=\"10%\">\r\n                            <i class=\"el-icon-delete m-l-15 pointer\" v-if=\"index\" @click=\"deleteFn(index)\"></i>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </el-form>\r\n        </div>\r\n\r\n        <!-- 查看详情 -->\r\n        <div v-if=\"showView\" class=\"view\">\r\n            <h3 class=\"title m-b-20\">{{ info.short_name | filterBlank }}</h3>\r\n            \r\n            <el-table :data=\"media.account\" style=\"width: 100%\" border>\r\n                <el-table-column prop=\"type_text\" label=\"垂媒\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <div class=\"media-wrap\">\r\n                            <span class=\"dot\" :class=\"[scope.row.status ==1?'green':'red']\"></span>\r\n                            {{ scope.row.type_text }}\r\n                        </div>\r\n                    </template> \r\n                </el-table-column>\r\n                <el-table-column prop=\"account_name\" label=\"账号\" align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"account_pwd\" label=\"密码\" align=\"center\">\r\n                    <template slot-scope=\"scope\" >\r\n                        <span style=\"font-size:20px;font-weight:700;\">{{ scope.row.account_pwd | changePwd |filterBlank }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n\r\n        <span slot=\"footer\">\r\n            <el-button round size=\"small\" class=\"w-90\" @click=\"cancel\">取 消</el-button>\r\n            <el-button round size=\"small\" class=\"w-90\" @click=\"addFn\" type=\"primary\"> {{ btnName }}</el-button>\r\n        </span>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport ScrmFormItem from '@/components/form/ScrmFormItem'\r\nimport { addArrToOptions } from '@/utils/util' \r\nexport default {\r\n    components: {\r\n        ScrmFormItem\r\n    },\r\n    props: {\r\n        info: { // 传进来行\r\n            type: Object,\r\n            default: ()=>{ return {}}\r\n        },\r\n        type: {\r\n            type: String,\r\n            default: 'add'\r\n        },\r\n        shopList: { // 门店下拉列表\r\n            type: Array,\r\n            default: ()=>{ return []}\r\n        },\r\n        mediaOptions: { // 垂媒下拉列表\r\n            type:Array,\r\n            default: ()=>{return []}\r\n        }\r\n    },\r\n    data(){\r\n        return{\r\n            dialogVisible: true,\r\n            showView: false, // 查看的时候显示， 新增和编辑不显示\r\n            title: '新增垂媒账号',   // 新增垂媒账号   查看详情，  编辑\r\n            media: {\r\n                id: ''\r\n            }, // 页面的元素\r\n            dialogType: '',\r\n            mediaTable: [{'type_text': '', 'type':'', 'id': '', 'account_name': '', 'account_pwd':'','options':[]}],\r\n            selectId: [], // 已经选中了的下拉置灰\r\n            loading: false,\r\n            shopOptions: [], // 下拉列表\r\n        }\r\n    },\r\n    created(){\r\n        this.dialogType = this.type;\r\n        if(this.type == 'add'){\r\n            this.title=\"新增垂媒账号\";\r\n            this.shopOptions = this.$deepCopyContent(this.shopList);\r\n            if(this.shopOptions && this.shopOptions.length){ // 选择第一家门店\r\n                this.info['short_name'] = this.shopOptions[0].short_name;\r\n                this.info['shopId'] = this.shopOptions[0].id;\r\n            }\r\n            this.mediaTable[0]['options'] = this.$deepCopyContent(this.mediaOptions);\r\n        }else if(this.type == 'view'){\r\n            this.showView = true;\r\n            this.title = '查看详情';\r\n            this.media = this.$deepCopyContent(this.info);\r\n        }\r\n    },\r\n    computed:{\r\n        btnName:function(){\r\n            return this.dialogType=='add'?'确定':this.dialogType=='view'?'编辑':'保存'\r\n        }\r\n    },\r\n    methods: {\r\n        addFn(){\r\n            // 校验和新增的门店搜索没做\r\n            if(this.dialogType == \"view\"){\r\n                this.dialogType = 'edit';\r\n                this.showView = false;\r\n                this.title = '编辑';\r\n                this.mediaTable = this.$deepCopyContent(this.media.account);\r\n                if(this.mediaTable.length){\r\n                    this.mediaTable.forEach((item)=>{\r\n                        this.$set(item, 'options', this.$deepCopyContent(this.mediaOptions))\r\n                    })\r\n                    this.selectChange();\r\n                }\r\n                \r\n                this.shopOptions = this.$deepCopyContent(this.shopList); \r\n                this.shopOptions = addArrToOptions([this.info],'id', 'short_name', this.shopOptions,'id','title'); // 下拉框增加已删除的值\r\n                return;\r\n            }\r\n            // 没有新增接口，共用编辑接口 \r\n            this.updateMedia();\r\n        },\r\n        getParams(){\r\n            let arr = [];\r\n            if(this.mediaTable.length){\r\n                for(let i=0, length=this.mediaTable.length; i<length; i++){\r\n                    // if(!this.mediaTable[i].type){\r\n                    //     this.$message.error(`请选择垂媒${i+1}的类型`)\r\n                    //     return false\r\n                    // }\r\n                    // if(!this.mediaTable[i].account_name){\r\n                    //     this.$message.error(`请输入垂媒${i+1}的账号`)\r\n                    //     return false\r\n                    // }\r\n                    // if(!this.mediaTable[i].account_pwd){\r\n                    //     this.$message.error(`请输入垂媒${i+1}的密码`)\r\n                    //     return false\r\n                    // }\r\n                    arr.push({'id':this.mediaTable[i].id, 'type': this.mediaTable[i].type, 'account_name': this.mediaTable[i].account_name, 'account_pwd': this.mediaTable[i].account_pwd})\r\n                }\r\n            }\r\n            let params = {\r\n                area_id: this.media.id,      // 门店id\r\n                accounts: arr,        // 垂媒账号类型 1懂车帝 2太平洋 3易车 4汽车之家'\r\n            }\r\n            return params;\r\n        },\r\n        updateMedia(){\r\n            let that = this;\r\n            let params = this.getParams();\r\n            this.loading=true;\r\n            this.$fetch.callCenter.mediaAccountEdit(params).then((res)=>{\r\n                this.loading=false;\r\n                this.$handleResponse(res, res=>{\r\n                    this.$message.success(`${this.dialogType == \"add\"?'新增':'编辑'}成功`);\r\n                    this.$emit('close', 'success')\r\n                },true);\r\n            }).catch(()=>{\r\n                this.loading=false;\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        cancel(){\r\n            if(this.dialogType == 'edit'){\r\n                this.dialogType = 'view';\r\n                this.title = '查看详情';\r\n                this.showView = true;\r\n                this.media = this.$deepCopyContent(this.info);\r\n                return;\r\n            }\r\n            this.$emit('close', 'cancel')\r\n        },\r\n        addCount(){\r\n            let params = {\r\n                'type_text': '', \r\n                'type':'', 'id': '', \r\n                'account_name': '', \r\n                'account_pwd':'', \r\n                'options': this.$deepCopyContent(this.mediaOptions)\r\n            };\r\n            this.mediaTable.push(params);\r\n            this.selectChange();\r\n        },\r\n        selectChange(){\r\n            this.getSelectId();\r\n            this.checkDisabled();\r\n        },\r\n        getSelectId(){\r\n            this.selectId = [];\r\n            this.mediaTable.forEach((item)=>{\r\n                if(item.type){\r\n                    this.selectId.push(item.type)\r\n                }\r\n            })\r\n        },\r\n        checkDisabled(){\r\n            if(this.$hasArrContent(this.selectId) && this.$hasArrContent(this.mediaTable)){ // 判断selectId 和mediaTable数组长度都存在\r\n                this.mediaTable.forEach((item)=>{\r\n                    if(item.options && item.options.length){\r\n                        item.options = this.$deepCopyContent(this.mediaOptions); // 重新置空之前下拉选项\r\n                        this.contrast(item);\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        contrast(media){\r\n            this.selectId && this.selectId.forEach((item)=>{\r\n                for(let i=0; i< media.options.length; i++){\r\n                    if(item != media.id && item == media.options[i].val){\r\n                        media.options[i]['disabled'] = true;\r\n                        break;\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        deleteFn(index){\r\n            this.mediaTable.splice(index, 1);\r\n            this.selectChange(); // 获取最新的不点点击事件\r\n        },\r\n        changeArea(id){\r\n            this.loading=true;\r\n            this.$fetch.callCenter.getAccountByArea({'id':id}).then((res)=>{\r\n                this.loading=false;\r\n                this.$handleResponse(res, (data)=>{\r\n                    this.mediaTable = this.$hasArrContent(data)?data:[];\r\n                    if(this.mediaTable.length){\r\n                        this.mediaTable.forEach((item)=>{\r\n                            this.$set(item, 'options', this.$deepCopyContent(this.mediaOptions))\r\n                        })\r\n                        this.selectChange();\r\n                    }\r\n                },false)                \r\n            }).catch(()=>{\r\n                this.loading=false;\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.add-media-dialog /deep/.el-dialog__body {\r\n    margin-top: 8px;\r\n    padding: 25px 30px 33px;\r\n    min-height: 250px;\r\n}\r\n\r\n.add-media-dialog /deep/.el-dialog__footer {\r\n    padding: 10px 0 30px;\r\n}\r\n\r\n.el-form-item {\r\n    margin-bottom: 15px;\r\n}\r\n.el-form-item.add-item{\r\n    margin-bottom: 0;\r\n}\r\n.el-form-item /deep/.el-form-item__label{\r\n    padding-right: 20px;\r\n}\r\n\r\n.view .title {\r\n    // font-family: PingFang-SC-Bold;\r\n\tfont-size: 18px;\r\n    color: #444;\r\n}\r\n\r\n.media-wrap {\r\n    display:inline-block;\r\n    margin-right: 15px;\r\n}\r\n.dot {\r\n    display: inline-block;\r\n    width: 10px;\r\n    height: 10px;\r\n    border: 1px solid #eee;\r\n    border-radius: 50%;\r\n}\r\n.red {\r\n    background-color: #ea5a54;\r\n}\r\n.green {\r\n    background-color: #34b572;\r\n}\r\n\r\n.custom-table {\r\n    border-left: 1px solid #EBEEF5;\r\n    border-bottom: 1px solid #EBEEF5;\r\n}\r\n.custom-table .tr-item {\r\n    height: 75px;\r\n    line-height: 75px;\r\n} \r\n\r\n.custom-table .td-item {\r\n    border-right: 1px solid #EBEEF5;\r\n    border-top: 1px solid #EBEEF5;\r\n    padding: 0 20px 0 0;\r\n} \r\n\r\n.custom-table .tr-item .el-form-item {\r\n    margin-bottom: 0;\r\n}\r\n.el-icon-delete {\r\n    color: #3d7eff;\r\n    font-size: 20px;\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/call-center/media/AddMedia.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"el-dialog\",\n    {\n      staticClass: \"add-media-dialog\",\n      attrs: {\n        title: _vm.title,\n        visible: _vm.dialogVisible,\n        width: \"870px\",\n        \"append-to-body\": \"\",\n        \"close-on-click-modal\": false,\n        \"before-close\": _vm.cancel\n      },\n      on: {\n        \"update:visible\": function($event) {\n          _vm.dialogVisible = $event\n        }\n      }\n    },\n    [\n      !_vm.showView\n        ? _c(\n            \"div\",\n            {\n              directives: [\n                {\n                  name: \"loading\",\n                  rawName: \"v-loading\",\n                  value: _vm.loading,\n                  expression: \"loading\"\n                }\n              ]\n            },\n            [\n              _c(\n                \"el-form\",\n                { ref: \"form\", attrs: { \"label-width\": \"80px\" } },\n                [\n                  _c(\"scrm-form-item\", {\n                    attrs: {\n                      itemLabel: \"门店\",\n                      itemType: \"select\",\n                      itemRequired: true,\n                      itemClass: \"form_required_after\",\n                      subClass: \"w-250\",\n                      placeholder: \"请选择门店\",\n                      itemInfo: _vm.media,\n                      itemKey: \"id\",\n                      filterable: true,\n                      selectOptions: _vm.shopOptions,\n                      optionLabel: \"title\",\n                      optionValue: \"id\",\n                      editable: _vm.dialogType == \"add\" ? true : false,\n                      isTransfer: true\n                    },\n                    on: { change: _vm.changeArea }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\n                    \"scrm-form-item\",\n                    {\n                      staticClass: \"add-item\",\n                      attrs: {\n                        itemLabel: \"垂媒账号\",\n                        itemRequired: true,\n                        itemClass: \"form_required_after\",\n                        itemInfo: {}\n                      }\n                    },\n                    [\n                      _c(\n                        \"template\",\n                        { slot: \"custom\" },\n                        [\n                          _c(\n                            \"el-button\",\n                            {\n                              staticClass: \"m-b-20\",\n                              attrs: {\n                                type: \"primary\",\n                                icon: \"el-icon-plus\",\n                                round: \"\",\n                                size: \"small\"\n                              },\n                              on: { click: _vm.addCount }\n                            },\n                            [_vm._v(\"新增垂媒账号\")]\n                          )\n                        ],\n                        1\n                      )\n                    ],\n                    2\n                  )\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"el-form\", { ref: \"form\", attrs: { \"label-width\": \"80px\" } }, [\n                _c(\n                  \"table\",\n                  {\n                    staticClass: \"custom-table\",\n                    attrs: {\n                      width: \"100%\",\n                      cellpadding: \"0\",\n                      cellspacing: \"0\",\n                      border: \"0\"\n                    }\n                  },\n                  _vm._l(_vm.mediaTable, function(item, index) {\n                    return _c(\"tr\", { key: index, staticClass: \"tr-item\" }, [\n                      _c(\n                        \"td\",\n                        { staticClass: \"td-item\", attrs: { width: \"30%\" } },\n                        [\n                          _c(\"scrm-form-item\", {\n                            attrs: {\n                              itemLabel: \"垂媒\" + (index + 1),\n                              itemType: \"select\",\n                              itemRequired: true,\n                              itemClass: \"form_required_after\",\n                              subClass: \"w-100-percent\",\n                              placeholder: \"请选择垂媒\",\n                              itemInfo: item,\n                              itemKey: \"type\",\n                              filterable: true,\n                              selectOptions: item.options,\n                              optionLabel: \"text\",\n                              optionValue: \"val\"\n                            },\n                            on: {\n                              change: function($event) {\n                                return _vm.selectChange(item)\n                              }\n                            }\n                          })\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"td\",\n                        { staticClass: \"td-item\", attrs: { width: \"30%\" } },\n                        [\n                          _c(\"scrm-form-item\", {\n                            attrs: {\n                              itemLabel: \"账号\",\n                              itemType: \"input\",\n                              itemRequired: true,\n                              itemClass: \"form_required_after\",\n                              subClass: \"w-100-percent\",\n                              placeholder: \"请输入\",\n                              itemInfo: item,\n                              itemKey: \"account_name\"\n                            }\n                          })\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"td\",\n                        { staticClass: \"td-item\", attrs: { width: \"30%\" } },\n                        [\n                          _c(\"scrm-form-item\", {\n                            attrs: {\n                              itemLabel: \"密码\",\n                              itemType: \"input\",\n                              type: \"password\",\n                              itemRequired: true,\n                              itemClass: \"form_required_after\",\n                              subClass: \"w-100-percent\",\n                              placeholder: \"请输入\",\n                              itemInfo: item,\n                              itemKey: \"account_pwd\"\n                            }\n                          })\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"td\",\n                        { staticClass: \"td-item\", attrs: { width: \"10%\" } },\n                        [\n                          index\n                            ? _c(\"i\", {\n                                staticClass: \"el-icon-delete m-l-15 pointer\",\n                                on: {\n                                  click: function($event) {\n                                    return _vm.deleteFn(index)\n                                  }\n                                }\n                              })\n                            : _vm._e()\n                        ]\n                      )\n                    ])\n                  }),\n                  0\n                )\n              ])\n            ],\n            1\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.showView\n        ? _c(\n            \"div\",\n            { staticClass: \"view\" },\n            [\n              _c(\"h3\", { staticClass: \"title m-b-20\" }, [\n                _vm._v(_vm._s(_vm._f(\"filterBlank\")(_vm.info.short_name)))\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"el-table\",\n                {\n                  staticStyle: { width: \"100%\" },\n                  attrs: { data: _vm.media.account, border: \"\" }\n                },\n                [\n                  _c(\"el-table-column\", {\n                    attrs: {\n                      prop: \"type_text\",\n                      label: \"垂媒\",\n                      align: \"center\"\n                    },\n                    scopedSlots: _vm._u(\n                      [\n                        {\n                          key: \"default\",\n                          fn: function(scope) {\n                            return [\n                              _c(\"div\", { staticClass: \"media-wrap\" }, [\n                                _c(\"span\", {\n                                  staticClass: \"dot\",\n                                  class: [\n                                    scope.row.status == 1 ? \"green\" : \"red\"\n                                  ]\n                                }),\n                                _vm._v(\n                                  \"\\n                        \" +\n                                    _vm._s(scope.row.type_text) +\n                                    \"\\n                    \"\n                                )\n                              ])\n                            ]\n                          }\n                        }\n                      ],\n                      null,\n                      false,\n                      1505534498\n                    )\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"el-table-column\", {\n                    attrs: {\n                      prop: \"account_name\",\n                      label: \"账号\",\n                      align: \"center\"\n                    }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"el-table-column\", {\n                    attrs: {\n                      prop: \"account_pwd\",\n                      label: \"密码\",\n                      align: \"center\"\n                    },\n                    scopedSlots: _vm._u(\n                      [\n                        {\n                          key: \"default\",\n                          fn: function(scope) {\n                            return [\n                              _c(\n                                \"span\",\n                                {\n                                  staticStyle: {\n                                    \"font-size\": \"20px\",\n                                    \"font-weight\": \"700\"\n                                  }\n                                },\n                                [\n                                  _vm._v(\n                                    _vm._s(\n                                      _vm._f(\"filterBlank\")(\n                                        _vm._f(\"changePwd\")(\n                                          scope.row.account_pwd\n                                        )\n                                      )\n                                    )\n                                  )\n                                ]\n                              )\n                            ]\n                          }\n                        }\n                      ],\n                      null,\n                      false,\n                      1919784761\n                    )\n                  })\n                ],\n                1\n              )\n            ],\n            1\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"span\",\n        { attrs: { slot: \"footer\" }, slot: \"footer\" },\n        [\n          _c(\n            \"el-button\",\n            {\n              staticClass: \"w-90\",\n              attrs: { round: \"\", size: \"small\" },\n              on: { click: _vm.cancel }\n            },\n            [_vm._v(\"取 消\")]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-button\",\n            {\n              staticClass: \"w-90\",\n              attrs: { round: \"\", size: \"small\", type: \"primary\" },\n              on: { click: _vm.addFn }\n            },\n            [_vm._v(\" \" + _vm._s(_vm.btnName))]\n          )\n        ],\n        1\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-loader/node_modules/vue-hot-reload-api\")      .rerender(\"data-v-5375657d\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-5375657d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/call-center/media/AddMedia.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5375657d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./AddMedia.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./AddMedia.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./AddMedia.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5375657d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./AddMedia.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5375657d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/call-center/media/AddMedia.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-5375657d\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-5375657d\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/call-center/media/AddMedia.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"media-manage-page m-20 common-box\">\r\n        <search-bar size=\"medium\" class=\"m-t-10 p-20\" @clear=\"clear\" @find=\"find\">\r\n            <div class=\"search-flex\">\r\n                <!-- search-col通过search.key来判断是哪个选项；search-col用for循环，需要自定义的可以通过 search.key == index 来确定自定义的那一列，如<search-col><div slot=\"custom\" v-if=\"search.key==index\"></div></search-col>-->\r\n                <search-col :info=\"search.list[search.shop]\" filterable></search-col>\r\n                <search-col :info=\"search.list[search.media]\" filterable></search-col>\r\n                <search-col :info=\"search.list[search.state]\"></search-col>\r\n                <search-col :info=\"search.list[search.time]\" type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" value-format=\"yyyy-MM-dd\"></search-col>\r\n            </div>\r\n        </search-bar>\r\n\r\n        <div class=\"p-20\">\r\n            <el-button type=\"primary\" icon=\"el-icon-plus\" round size=\"small\" @click=\"addFn\" class=\"m-b-20\">新增垂媒账号</el-button>\r\n            <data-table ref=\"DataTableRef\" :table=\"dataTable\" @searchTable='searchTable' @onHandleSelectionChange=\"handleSelectionChange\"> \r\n                <template slot-scope=\"props\" slot=\"account\">\r\n                    <div class=\"media-wrap\" v-for=\"(item, index) in props.obj.row.account\" :key=\"index\">\r\n                        <span class=\"dot\" :class=\"[item.status ==1?'green':'red']\"></span>\r\n                        {{ item.type_text | filterBlank }}\r\n                    </div>\r\n                </template> \r\n\r\n                <template slot-scope=\"props\" slot=\"caozuo\">\r\n                    <el-button class=\"blue_font_white_bg\" plain round size=\"mini\" @click=\"view(props.obj.row)\">查看详情</el-button>\r\n                    <el-button class=\"red_font_white_bg\"  plain round size=\"mini\" @click=\"deleteMedia(props.obj.row)\">删除</el-button>\r\n                </template> \r\n            </data-table>\r\n        </div>\r\n\r\n        <add-media \r\n            v-if=\"showMedia\" \r\n            :info=\"mediaInfo\" \r\n            :type=\"showType\" \r\n            :shopList=\"search.list[search.shop].selectOptions\" \r\n            :mediaOptions=\"search.list[search.media].selectOptions\"\r\n            @close=\"closeMedieFn\">\r\n        </add-media>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchBar from '@/components/SearchBar';\r\nimport SearchCol from '@/components/form/SearchCol';\r\nimport DataTable from \"@/components/dataTable/table\";\r\nimport AddMedia  from './AddMedia'\r\nimport SearchMixins from '@/pages/mixins/SearchMixins'\r\nexport default {\r\n    components: {\r\n        SearchBar,\r\n        SearchCol,\r\n        DataTable,\r\n        AddMedia\r\n    },\r\n    mixins: [SearchMixins],\r\n    data(){\r\n        return{\r\n            showMedia: false, // 新增弹窗\r\n            showType: 'add',\r\n            mediaInfo: {},\r\n        }\r\n    },\r\n    created(){\r\n        this.initData();\r\n        this.queryData();\r\n    },\r\n    methods: {\r\n        initData(){\r\n            this.initSearch(); // 初始化搜索列\r\n            this.initTable();\r\n            this.initMediaOptions();\r\n        },\r\n        initSearch(){\r\n            // 使用key防止在数组中间插入一列后，只要改变key的下标值就可以\r\n            this.search = { \r\n                list: [\r\n                    {\r\n                        type: 'select', \r\n                        label: '门店', \r\n                        currentVal: '', \r\n                        isAll:true,\r\n                        isAllTitle: '全部',\r\n                        selectOptions:[], \r\n                        optionLabel:'title', \r\n                        optionValue:\"id\", \r\n                    },{\r\n                        type: 'select', \r\n                        label: '垂媒', \r\n                        currentVal: '', \r\n                        isAll:true,\r\n                        isAllTitle: '全部',\r\n                        selectOptions:[], \r\n                        optionLabel:'text', \r\n                        optionValue:\"val\", \r\n                    },{\r\n                        type: 'select', \r\n                        label: '状态', \r\n                        currentVal: '',\r\n                        isAll:true,\r\n                        isAllTitle: '全部', \r\n                        selectOptions:[], \r\n                        optionLabel:'text', \r\n                        optionValue:\"val\", \r\n                    },{\r\n                        type: 'datePicker', \r\n                        label: '更新时间', \r\n                        currentVal: '', \r\n                    }\r\n                ],\r\n                shop: 0, // 任务名称\r\n                media: 1, // 任务内容\r\n                state: 2, // 状态\r\n                time: 3, // 任务技术时间\r\n            }\r\n        },\r\n        initMediaOptions(){\r\n            this.$fetch.callCenter.mediaAccountOptions({}).then((res)=>{\r\n                this.$handleResponse(res, res=>{\r\n                    this.search.list[this.search.media].selectOptions = this.$hasArrContent(res.type)?res.type:[];\r\n                    this.search.list[this.search.state].selectOptions = this.$hasArrContent(res.status)?res.status:[];\r\n                }, false);\r\n            })\r\n\r\n            this.$fetch.common.commonAreaList({},false).then((res)=>{\r\n                this.$handleResponse(res, res=>{\r\n                    if(this.$hasArrContent(res)){\r\n                        res.forEach((item)=>{ item.id = parseInt(item.id?item.id:0)}); // 把字符串改为数字\r\n                        this.search.list[this.search.shop].selectOptions =res;\r\n                    }\r\n                }, false);\r\n            })\r\n        },\r\n        initTable(){\r\n            this.dataTable = {\r\n                tr: [{\r\n                      id: '1',\r\n                      label: '门店',\r\n                      prop: 'short_name',\r\n                      tooltip:true,\r\n                      align: 'center'\r\n                    },{\r\n                      id: '2',\r\n                      label: '垂媒',\r\n                      prop: 'account',\r\n                      show:'template',\r\n                      tooltip:true,\r\n                      align: 'center'\r\n                    },{\r\n                      id: '3',\r\n                      label: '更新时间',\r\n                      prop: 'last_update',\r\n                      tooltip: true,\r\n                      align: 'center'\r\n                    },{\r\n                      id: '4',\r\n                      label: '操作',\r\n                      prop: 'caozuo',\r\n                      show:'template',\r\n                      minWidth: '130',\r\n                      align: 'center'\r\n                    },\r\n                ],\r\n                data: [],\r\n                page: {\r\n                    totalCount: 0,\r\n                    pageSize: 20,\r\n                    currentPage: 1\r\n                },\r\n                border: true, // 是否带边框\r\n                hasSelect: false, //是否有复选框\r\n                hasExpand: false, //是否有收缩功能\r\n                hasFirstPagination: false, //是否有第一条分页条\r\n                search: {\r\n                    value:'',\r\n                    show: false,\r\n                    width: \"300\", //快捷搜索输入框宽度\r\n                    placeholder: \"请输入手机号、客户微信\", //快捷搜索输入框提示文字\r\n                    displayCol: [\"name\",\"tel\"], //弹出需要显示的列\r\n                    parma: {\r\n                      id: \"\"\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        getParams(){\r\n            const { currentPage, pageSize } = this.dataTable.page;\r\n            const { shop, media, state, time,  list } = this.search;\r\n            let params = {\r\n                area_id: list[shop].currentVal,      // 门店id\r\n                type: list[media].currentVal,        // 垂媒账号类型 1懂车帝 2太平洋 3易车 4汽车之家'\r\n                status: list[state].currentVal,      // 账号状态 0异常，1正常\r\n                update_date_start: list[time].currentVal && list[time].currentVal[0], // 线索获取开始时间\r\n                update_date_end: list[time].currentVal && list[time].currentVal[1],  // 线索获取结束时间\r\n                pre_page: pageSize,     // 每页数量\r\n                page: currentPage,          // 当前页\r\n            }\r\n            return params;\r\n        },\r\n        queryData(){\r\n            let that = this;\r\n            let params = this.getParams();\r\n            this.$fetch.callCenter.mediaAccountList(params).then((res)=>{\r\n                this.$handleResponse(res, res=>{\r\n                    that.dataTable.data = res.list?res.list:[]; //表格所需数据\r\n                    that.dataTable.page = res.page?res.page:that.dataTable.page; //表格所需页面\r\n                },true);\r\n            }).catch(()=>{\r\n                this.$store.commit('closeLoading');\r\n            })\r\n        },\r\n        deleteMedia(item){\r\n            let that = this;\r\n            this.$confirm(\"删除账号后，垂媒的线索无法同步至系统,是否确定要删除?\", \"提示\", {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"warning\",\r\n                customClass: \"needCenterStyle mediaDeleteWidth\",\r\n                cancelButtonClass: \"big cancel\",\r\n                confirmButtonClass: \"big\",\r\n                roundButton: true,\r\n            }).then(() => {\r\n                this.$fetch.callCenter.mediaAccountDel({'id': item.id}).then((res)=>{\r\n                    this.$handleResponse(res, res=>{\r\n                        this.$message.success('删除成功');\r\n                        this.queryData();\r\n                    },true);\r\n                }).catch(()=>{\r\n                    this.$store.commit('closeLoading');\r\n                })\r\n            })\r\n        },\r\n        addFn(){\r\n            this.showType = 'add';\r\n            this.mediaInfo = {};\r\n            this.showMedia = true;\r\n        },\r\n        view(item){\r\n            this.showType = 'view';\r\n            this.mediaInfo = Object.assign({},item);\r\n            this.showMedia = true;\r\n        },\r\n        closeMedieFn(type){\r\n            this.showMedia = false;\r\n            if(type == 'success'){\r\n                this.queryData();\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.media-wrap {\r\n    display:inline-block;\r\n    margin-right: 15px;\r\n}\r\n.dot {\r\n    display: inline-block;\r\n    width: 10px;\r\n    height: 10px;\r\n    border: 1px solid #eee;\r\n    border-radius: 50%;\r\n}\r\n.red {\r\n    background-color: #ea5a54;\r\n}\r\n.green {\r\n    background-color: #34b572;\r\n}\r\n\r\n\r\n</style>\r\n<style>\r\n.mediaDeleteWidth.needCenterStyle .el-message-box__status+.el-message-box__message {\r\n    width: 260px;\r\n    margin: 0 auto;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/call-center/media/MediaManage.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"media-manage-page m-20 common-box\" },\n    [\n      _c(\n        \"search-bar\",\n        {\n          staticClass: \"m-t-10 p-20\",\n          attrs: { size: \"medium\" },\n          on: { clear: _vm.clear, find: _vm.find }\n        },\n        [\n          _c(\n            \"div\",\n            { staticClass: \"search-flex\" },\n            [\n              _c(\"search-col\", {\n                attrs: {\n                  info: _vm.search.list[_vm.search.shop],\n                  filterable: \"\"\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\"search-col\", {\n                attrs: {\n                  info: _vm.search.list[_vm.search.media],\n                  filterable: \"\"\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\"search-col\", {\n                attrs: { info: _vm.search.list[_vm.search.state] }\n              }),\n              _vm._v(\" \"),\n              _c(\"search-col\", {\n                attrs: {\n                  info: _vm.search.list[_vm.search.time],\n                  type: \"daterange\",\n                  \"range-separator\": \"至\",\n                  \"start-placeholder\": \"开始日期\",\n                  \"end-placeholder\": \"结束日期\",\n                  \"value-format\": \"yyyy-MM-dd\"\n                }\n              })\n            ],\n            1\n          )\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"p-20\" },\n        [\n          _c(\n            \"el-button\",\n            {\n              staticClass: \"m-b-20\",\n              attrs: {\n                type: \"primary\",\n                icon: \"el-icon-plus\",\n                round: \"\",\n                size: \"small\"\n              },\n              on: { click: _vm.addFn }\n            },\n            [_vm._v(\"新增垂媒账号\")]\n          ),\n          _vm._v(\" \"),\n          _c(\"data-table\", {\n            ref: \"DataTableRef\",\n            attrs: { table: _vm.dataTable },\n            on: {\n              searchTable: _vm.searchTable,\n              onHandleSelectionChange: _vm.handleSelectionChange\n            },\n            scopedSlots: _vm._u([\n              {\n                key: \"account\",\n                fn: function(props) {\n                  return _vm._l(props.obj.row.account, function(item, index) {\n                    return _c(\n                      \"div\",\n                      { key: index, staticClass: \"media-wrap\" },\n                      [\n                        _c(\"span\", {\n                          staticClass: \"dot\",\n                          class: [item.status == 1 ? \"green\" : \"red\"]\n                        }),\n                        _vm._v(\n                          \"\\n                    \" +\n                            _vm._s(_vm._f(\"filterBlank\")(item.type_text)) +\n                            \"\\n                \"\n                        )\n                      ]\n                    )\n                  })\n                }\n              },\n              {\n                key: \"caozuo\",\n                fn: function(props) {\n                  return [\n                    _c(\n                      \"el-button\",\n                      {\n                        staticClass: \"blue_font_white_bg\",\n                        attrs: { plain: \"\", round: \"\", size: \"mini\" },\n                        on: {\n                          click: function($event) {\n                            return _vm.view(props.obj.row)\n                          }\n                        }\n                      },\n                      [_vm._v(\"查看详情\")]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"el-button\",\n                      {\n                        staticClass: \"red_font_white_bg\",\n                        attrs: { plain: \"\", round: \"\", size: \"mini\" },\n                        on: {\n                          click: function($event) {\n                            return _vm.deleteMedia(props.obj.row)\n                          }\n                        }\n                      },\n                      [_vm._v(\"删除\")]\n                    )\n                  ]\n                }\n              }\n            ])\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _vm.showMedia\n        ? _c(\"add-media\", {\n            attrs: {\n              info: _vm.mediaInfo,\n              type: _vm.showType,\n              shopList: _vm.search.list[_vm.search.shop].selectOptions,\n              mediaOptions: _vm.search.list[_vm.search.media].selectOptions\n            },\n            on: { close: _vm.closeMedieFn }\n          })\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-loader/node_modules/vue-hot-reload-api\")      .rerender(\"data-v-30e31ec2\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-30e31ec2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/call-center/media/MediaManage.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30e31ec2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./MediaManage.vue\")\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30e31ec2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=1!./MediaManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./MediaManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./MediaManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-30e31ec2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./MediaManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-30e31ec2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/call-center/media/MediaManage.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-30e31ec2\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-30e31ec2\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/call-center/media/MediaManage.vue\n// module id = null\n// module chunks = ","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.media-wrap[data-v-30e31ec2]{display:inline-block;margin-right:15px\\n}\\n.dot[data-v-30e31ec2]{display:inline-block;width:10px;height:10px;border:1px solid #eee;border-radius:50%\\n}\\n.red[data-v-30e31ec2]{background-color:#ea5a54\\n}\\n.green[data-v-30e31ec2]{background-color:#34b572\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/liu/vue-project/MyTest/src/pages/call-center/media/D:/liu/vue-project/MyTest/src/pages/call-center/media/MediaManage.vue\"],\"names\":[],\"mappings\":\";AA2PA,6BACI,qBACA,iBAAkB;CACrB;AAAA,sBAEG,qBACA,WACA,YACA,sBACA,iBAAkB;CACrB;AAAA,sBAEG,wBAAyB;CAC5B;AAAA,wBAEG,wBAAyB;CAC5B\",\"file\":\"MediaManage.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\r\\n.media-wrap {\\r\\n    display:inline-block;\\r\\n    margin-right: 15px;\\r\\n}\\r\\n.dot {\\r\\n    display: inline-block;\\r\\n    width: 10px;\\r\\n    height: 10px;\\r\\n    border: 1px solid #eee;\\r\\n    border-radius: 50%;\\r\\n}\\r\\n.red {\\r\\n    background-color: #ea5a54;\\r\\n}\\r\\n.green {\\r\\n    background-color: #34b572;\\r\\n}\\r\\n\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-30e31ec2\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/call-center/media/MediaManage.vue\n// module id = Q4J1\n// module chunks = 18","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5375657d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./AddMedia.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"20961c4d\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5375657d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./AddMedia.vue\", function() {\n     var newContent = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5375657d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./AddMedia.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5375657d\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/call-center/media/AddMedia.vue\n// module id = QCNg\n// module chunks = 18","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.add-media-dialog[data-v-5375657d] .el-dialog__body{margin-top:8px;padding:25px 30px 33px;min-height:250px\\n}\\n.add-media-dialog[data-v-5375657d] .el-dialog__footer{padding:10px 0 30px\\n}\\n.el-form-item[data-v-5375657d]{margin-bottom:15px\\n}\\n.el-form-item.add-item[data-v-5375657d]{margin-bottom:0\\n}\\n.el-form-item[data-v-5375657d] .el-form-item__label{padding-right:20px\\n}\\n.view .title[data-v-5375657d]{font-size:18px;color:#444\\n}\\n.media-wrap[data-v-5375657d]{display:inline-block;margin-right:15px\\n}\\n.dot[data-v-5375657d]{display:inline-block;width:10px;height:10px;border:1px solid #eee;border-radius:50%\\n}\\n.red[data-v-5375657d]{background-color:#ea5a54\\n}\\n.green[data-v-5375657d]{background-color:#34b572\\n}\\n.custom-table[data-v-5375657d]{border-left:1px solid #EBEEF5;border-bottom:1px solid #EBEEF5\\n}\\n.custom-table .tr-item[data-v-5375657d]{height:75px;line-height:75px\\n}\\n.custom-table .td-item[data-v-5375657d]{border-right:1px solid #EBEEF5;border-top:1px solid #EBEEF5;padding:0 20px 0 0\\n}\\n.custom-table .tr-item .el-form-item[data-v-5375657d]{margin-bottom:0\\n}\\n.el-icon-delete[data-v-5375657d]{color:#3d7eff;font-size:20px\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/liu/vue-project/MyTest/src/pages/call-center/media/D:/liu/vue-project/MyTest/src/pages/call-center/media/AddMedia.vue\"],\"names\":[],\"mappings\":\";AAqRA,oDACI,eACA,uBACA,gBAAiB;CACpB;AAAA,sDAGG,mBAAoB;CACvB;AAAA,+BAGG,kBAAmB;CACtB;AAAA,wCAEG,eAAgB;CACnB;AAAA,oDAEG,kBAAmB;CACtB;AAAA,8BAIA,eACG,UAAW;CACd;AAAA,6BAGG,qBACA,iBAAkB;CACrB;AAAA,sBAEG,qBACA,WACA,YACA,sBACA,iBAAkB;CACrB;AAAA,sBAEG,wBAAyB;CAC5B;AAAA,wBAEG,wBAAyB;CAC5B;AAAA,+BAGG,8BACA,+BAAgC;CACnC;AAAA,wCAEG,YACA,gBAAiB;CACpB;AAAA,wCAGG,+BACA,6BACA,kBAAmB;CACtB;AAAA,sDAGG,eAAgB;CACnB;AAAA,iCAEG,cACA,cAAe;CAClB\",\"file\":\"AddMedia.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\r\\n.add-media-dialog /deep/.el-dialog__body {\\r\\n    margin-top: 8px;\\r\\n    padding: 25px 30px 33px;\\r\\n    min-height: 250px;\\r\\n}\\r\\n\\r\\n.add-media-dialog /deep/.el-dialog__footer {\\r\\n    padding: 10px 0 30px;\\r\\n}\\r\\n\\r\\n.el-form-item {\\r\\n    margin-bottom: 15px;\\r\\n}\\r\\n.el-form-item.add-item{\\r\\n    margin-bottom: 0;\\r\\n}\\r\\n.el-form-item /deep/.el-form-item__label{\\r\\n    padding-right: 20px;\\r\\n}\\r\\n\\r\\n.view .title {\\r\\n    // font-family: PingFang-SC-Bold;\\r\\n\\tfont-size: 18px;\\r\\n    color: #444;\\r\\n}\\r\\n\\r\\n.media-wrap {\\r\\n    display:inline-block;\\r\\n    margin-right: 15px;\\r\\n}\\r\\n.dot {\\r\\n    display: inline-block;\\r\\n    width: 10px;\\r\\n    height: 10px;\\r\\n    border: 1px solid #eee;\\r\\n    border-radius: 50%;\\r\\n}\\r\\n.red {\\r\\n    background-color: #ea5a54;\\r\\n}\\r\\n.green {\\r\\n    background-color: #34b572;\\r\\n}\\r\\n\\r\\n.custom-table {\\r\\n    border-left: 1px solid #EBEEF5;\\r\\n    border-bottom: 1px solid #EBEEF5;\\r\\n}\\r\\n.custom-table .tr-item {\\r\\n    height: 75px;\\r\\n    line-height: 75px;\\r\\n} \\r\\n\\r\\n.custom-table .td-item {\\r\\n    border-right: 1px solid #EBEEF5;\\r\\n    border-top: 1px solid #EBEEF5;\\r\\n    padding: 0 20px 0 0;\\r\\n} \\r\\n\\r\\n.custom-table .tr-item .el-form-item {\\r\\n    margin-bottom: 0;\\r\\n}\\r\\n.el-icon-delete {\\r\\n    color: #3d7eff;\\r\\n    font-size: 20px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5375657d\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/call-center/media/AddMedia.vue\n// module id = VQn5\n// module chunks = 18","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.mediaDeleteWidth.needCenterStyle .el-message-box__status+.el-message-box__message {\\r\\n    width: 260px;\\r\\n    margin: 0 auto;\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"D:/liu/vue-project/MyTest/src/pages/call-center/media/src/pages/call-center/media/MediaManage.vue\"],\"names\":[],\"mappings\":\";AAgRA;IACA,aAAA;IACA,eAAA;CACA\",\"file\":\"MediaManage.vue\",\"sourcesContent\":[\"<template>\\r\\n    <div class=\\\"media-manage-page m-20 common-box\\\">\\r\\n        <search-bar size=\\\"medium\\\" class=\\\"m-t-10 p-20\\\" @clear=\\\"clear\\\" @find=\\\"find\\\">\\r\\n            <div class=\\\"search-flex\\\">\\r\\n                <!-- search-col通过search.key来判断是哪个选项；search-col用for循环，需要自定义的可以通过 search.key == index 来确定自定义的那一列，如<search-col><div slot=\\\"custom\\\" v-if=\\\"search.key==index\\\"></div></search-col>-->\\r\\n                <search-col :info=\\\"search.list[search.shop]\\\" filterable></search-col>\\r\\n                <search-col :info=\\\"search.list[search.media]\\\" filterable></search-col>\\r\\n                <search-col :info=\\\"search.list[search.state]\\\"></search-col>\\r\\n                <search-col :info=\\\"search.list[search.time]\\\" type=\\\"daterange\\\" range-separator=\\\"至\\\" start-placeholder=\\\"开始日期\\\" end-placeholder=\\\"结束日期\\\" value-format=\\\"yyyy-MM-dd\\\"></search-col>\\r\\n            </div>\\r\\n        </search-bar>\\r\\n\\r\\n        <div class=\\\"p-20\\\">\\r\\n            <el-button type=\\\"primary\\\" icon=\\\"el-icon-plus\\\" round size=\\\"small\\\" @click=\\\"addFn\\\" class=\\\"m-b-20\\\">新增垂媒账号</el-button>\\r\\n            <data-table ref=\\\"DataTableRef\\\" :table=\\\"dataTable\\\" @searchTable='searchTable' @onHandleSelectionChange=\\\"handleSelectionChange\\\"> \\r\\n                <template slot-scope=\\\"props\\\" slot=\\\"account\\\">\\r\\n                    <div class=\\\"media-wrap\\\" v-for=\\\"(item, index) in props.obj.row.account\\\" :key=\\\"index\\\">\\r\\n                        <span class=\\\"dot\\\" :class=\\\"[item.status ==1?'green':'red']\\\"></span>\\r\\n                        {{ item.type_text | filterBlank }}\\r\\n                    </div>\\r\\n                </template> \\r\\n\\r\\n                <template slot-scope=\\\"props\\\" slot=\\\"caozuo\\\">\\r\\n                    <el-button class=\\\"blue_font_white_bg\\\" plain round size=\\\"mini\\\" @click=\\\"view(props.obj.row)\\\">查看详情</el-button>\\r\\n                    <el-button class=\\\"red_font_white_bg\\\"  plain round size=\\\"mini\\\" @click=\\\"deleteMedia(props.obj.row)\\\">删除</el-button>\\r\\n                </template> \\r\\n            </data-table>\\r\\n        </div>\\r\\n\\r\\n        <add-media \\r\\n            v-if=\\\"showMedia\\\" \\r\\n            :info=\\\"mediaInfo\\\" \\r\\n            :type=\\\"showType\\\" \\r\\n            :shopList=\\\"search.list[search.shop].selectOptions\\\" \\r\\n            :mediaOptions=\\\"search.list[search.media].selectOptions\\\"\\r\\n            @close=\\\"closeMedieFn\\\">\\r\\n        </add-media>\\r\\n    </div>\\r\\n</template>\\r\\n\\r\\n<script>\\r\\nimport SearchBar from '@/components/SearchBar';\\r\\nimport SearchCol from '@/components/form/SearchCol';\\r\\nimport DataTable from \\\"@/components/dataTable/table\\\";\\r\\nimport AddMedia  from './AddMedia'\\r\\nimport SearchMixins from '@/pages/mixins/SearchMixins'\\r\\nexport default {\\r\\n    components: {\\r\\n        SearchBar,\\r\\n        SearchCol,\\r\\n        DataTable,\\r\\n        AddMedia\\r\\n    },\\r\\n    mixins: [SearchMixins],\\r\\n    data(){\\r\\n        return{\\r\\n            showMedia: false, // 新增弹窗\\r\\n            showType: 'add',\\r\\n            mediaInfo: {},\\r\\n        }\\r\\n    },\\r\\n    created(){\\r\\n        this.initData();\\r\\n        this.queryData();\\r\\n    },\\r\\n    methods: {\\r\\n        initData(){\\r\\n            this.initSearch(); // 初始化搜索列\\r\\n            this.initTable();\\r\\n            this.initMediaOptions();\\r\\n        },\\r\\n        initSearch(){\\r\\n            // 使用key防止在数组中间插入一列后，只要改变key的下标值就可以\\r\\n            this.search = { \\r\\n                list: [\\r\\n                    {\\r\\n                        type: 'select', \\r\\n                        label: '门店', \\r\\n                        currentVal: '', \\r\\n                        isAll:true,\\r\\n                        isAllTitle: '全部',\\r\\n                        selectOptions:[], \\r\\n                        optionLabel:'title', \\r\\n                        optionValue:\\\"id\\\", \\r\\n                    },{\\r\\n                        type: 'select', \\r\\n                        label: '垂媒', \\r\\n                        currentVal: '', \\r\\n                        isAll:true,\\r\\n                        isAllTitle: '全部',\\r\\n                        selectOptions:[], \\r\\n                        optionLabel:'text', \\r\\n                        optionValue:\\\"val\\\", \\r\\n                    },{\\r\\n                        type: 'select', \\r\\n                        label: '状态', \\r\\n                        currentVal: '',\\r\\n                        isAll:true,\\r\\n                        isAllTitle: '全部', \\r\\n                        selectOptions:[], \\r\\n                        optionLabel:'text', \\r\\n                        optionValue:\\\"val\\\", \\r\\n                    },{\\r\\n                        type: 'datePicker', \\r\\n                        label: '更新时间', \\r\\n                        currentVal: '', \\r\\n                    }\\r\\n                ],\\r\\n                shop: 0, // 任务名称\\r\\n                media: 1, // 任务内容\\r\\n                state: 2, // 状态\\r\\n                time: 3, // 任务技术时间\\r\\n            }\\r\\n        },\\r\\n        initMediaOptions(){\\r\\n            this.$fetch.callCenter.mediaAccountOptions({}).then((res)=>{\\r\\n                this.$handleResponse(res, res=>{\\r\\n                    this.search.list[this.search.media].selectOptions = this.$hasArrContent(res.type)?res.type:[];\\r\\n                    this.search.list[this.search.state].selectOptions = this.$hasArrContent(res.status)?res.status:[];\\r\\n                }, false);\\r\\n            })\\r\\n\\r\\n            this.$fetch.common.commonAreaList({},false).then((res)=>{\\r\\n                this.$handleResponse(res, res=>{\\r\\n                    if(this.$hasArrContent(res)){\\r\\n                        res.forEach((item)=>{ item.id = parseInt(item.id?item.id:0)}); // 把字符串改为数字\\r\\n                        this.search.list[this.search.shop].selectOptions =res;\\r\\n                    }\\r\\n                }, false);\\r\\n            })\\r\\n        },\\r\\n        initTable(){\\r\\n            this.dataTable = {\\r\\n                tr: [{\\r\\n                      id: '1',\\r\\n                      label: '门店',\\r\\n                      prop: 'short_name',\\r\\n                      tooltip:true,\\r\\n                      align: 'center'\\r\\n                    },{\\r\\n                      id: '2',\\r\\n                      label: '垂媒',\\r\\n                      prop: 'account',\\r\\n                      show:'template',\\r\\n                      tooltip:true,\\r\\n                      align: 'center'\\r\\n                    },{\\r\\n                      id: '3',\\r\\n                      label: '更新时间',\\r\\n                      prop: 'last_update',\\r\\n                      tooltip: true,\\r\\n                      align: 'center'\\r\\n                    },{\\r\\n                      id: '4',\\r\\n                      label: '操作',\\r\\n                      prop: 'caozuo',\\r\\n                      show:'template',\\r\\n                      minWidth: '130',\\r\\n                      align: 'center'\\r\\n                    },\\r\\n                ],\\r\\n                data: [],\\r\\n                page: {\\r\\n                    totalCount: 0,\\r\\n                    pageSize: 20,\\r\\n                    currentPage: 1\\r\\n                },\\r\\n                border: true, // 是否带边框\\r\\n                hasSelect: false, //是否有复选框\\r\\n                hasExpand: false, //是否有收缩功能\\r\\n                hasFirstPagination: false, //是否有第一条分页条\\r\\n                search: {\\r\\n                    value:'',\\r\\n                    show: false,\\r\\n                    width: \\\"300\\\", //快捷搜索输入框宽度\\r\\n                    placeholder: \\\"请输入手机号、客户微信\\\", //快捷搜索输入框提示文字\\r\\n                    displayCol: [\\\"name\\\",\\\"tel\\\"], //弹出需要显示的列\\r\\n                    parma: {\\r\\n                      id: \\\"\\\"\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n        },\\r\\n        getParams(){\\r\\n            const { currentPage, pageSize } = this.dataTable.page;\\r\\n            const { shop, media, state, time,  list } = this.search;\\r\\n            let params = {\\r\\n                area_id: list[shop].currentVal,      // 门店id\\r\\n                type: list[media].currentVal,        // 垂媒账号类型 1懂车帝 2太平洋 3易车 4汽车之家'\\r\\n                status: list[state].currentVal,      // 账号状态 0异常，1正常\\r\\n                update_date_start: list[time].currentVal && list[time].currentVal[0], // 线索获取开始时间\\r\\n                update_date_end: list[time].currentVal && list[time].currentVal[1],  // 线索获取结束时间\\r\\n                pre_page: pageSize,     // 每页数量\\r\\n                page: currentPage,          // 当前页\\r\\n            }\\r\\n            return params;\\r\\n        },\\r\\n        queryData(){\\r\\n            let that = this;\\r\\n            let params = this.getParams();\\r\\n            this.$fetch.callCenter.mediaAccountList(params).then((res)=>{\\r\\n                this.$handleResponse(res, res=>{\\r\\n                    that.dataTable.data = res.list?res.list:[]; //表格所需数据\\r\\n                    that.dataTable.page = res.page?res.page:that.dataTable.page; //表格所需页面\\r\\n                },true);\\r\\n            }).catch(()=>{\\r\\n                this.$store.commit('closeLoading');\\r\\n            })\\r\\n        },\\r\\n        deleteMedia(item){\\r\\n            let that = this;\\r\\n            this.$confirm(\\\"删除账号后，垂媒的线索无法同步至系统,是否确定要删除?\\\", \\\"提示\\\", {\\r\\n                confirmButtonText: \\\"确定\\\",\\r\\n                cancelButtonText: \\\"取消\\\",\\r\\n                type: \\\"warning\\\",\\r\\n                customClass: \\\"needCenterStyle mediaDeleteWidth\\\",\\r\\n                cancelButtonClass: \\\"big cancel\\\",\\r\\n                confirmButtonClass: \\\"big\\\",\\r\\n                roundButton: true,\\r\\n            }).then(() => {\\r\\n                this.$fetch.callCenter.mediaAccountDel({'id': item.id}).then((res)=>{\\r\\n                    this.$handleResponse(res, res=>{\\r\\n                        this.$message.success('删除成功');\\r\\n                        this.queryData();\\r\\n                    },true);\\r\\n                }).catch(()=>{\\r\\n                    this.$store.commit('closeLoading');\\r\\n                })\\r\\n            })\\r\\n        },\\r\\n        addFn(){\\r\\n            this.showType = 'add';\\r\\n            this.mediaInfo = {};\\r\\n            this.showMedia = true;\\r\\n        },\\r\\n        view(item){\\r\\n            this.showType = 'view';\\r\\n            this.mediaInfo = Object.assign({},item);\\r\\n            this.showMedia = true;\\r\\n        },\\r\\n        closeMedieFn(type){\\r\\n            this.showMedia = false;\\r\\n            if(type == 'success'){\\r\\n                this.queryData();\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n}\\r\\n</script>\\r\\n\\r\\n<style lang=\\\"scss\\\" scoped>\\r\\n.media-wrap {\\r\\n    display:inline-block;\\r\\n    margin-right: 15px;\\r\\n}\\r\\n.dot {\\r\\n    display: inline-block;\\r\\n    width: 10px;\\r\\n    height: 10px;\\r\\n    border: 1px solid #eee;\\r\\n    border-radius: 50%;\\r\\n}\\r\\n.red {\\r\\n    background-color: #ea5a54;\\r\\n}\\r\\n.green {\\r\\n    background-color: #34b572;\\r\\n}\\r\\n\\r\\n\\r\\n</style>\\r\\n<style>\\r\\n.mediaDeleteWidth.needCenterStyle .el-message-box__status+.el-message-box__message {\\r\\n    width: 260px;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n</style>\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-30e31ec2\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=1!./src/pages/call-center/media/MediaManage.vue\n// module id = z06c\n// module chunks = 18"],"sourceRoot":""}